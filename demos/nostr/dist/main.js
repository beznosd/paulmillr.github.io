var Of=Object.defineProperty;var Nf=(e,t,n)=>t in e?Of(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ve=(e,t,n)=>(Nf(e,typeof t!="symbol"?t+"":t,n),n);/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Mf(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const Hf=()=>{},jf=Object.prototype.hasOwnProperty,Xs=(e,t)=>jf.call(e,t),an=Array.isArray,Ws=e=>Aa(e)==="[object Map]",Ff=e=>typeof e=="function",Vf=e=>typeof e=="string",gr=e=>typeof e=="symbol",yr=e=>e!==null&&typeof e=="object",Df=Object.prototype.toString,Aa=e=>Df.call(e),qf=e=>Aa(e).slice(8,-1),oi=e=>Vf(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ns=(e,t)=>!Object.is(e,t),Kf=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})};/**
* @vue/reactivity v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ot;class Ia{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ot,!t&&ot&&(this.index=(ot.scopes||(ot.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=ot;try{return ot=this,t()}finally{ot=n}}}on(){ot=this}off(){ot=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Pa(e){return new Ia(e)}function zf(e,t=ot){t&&t.active&&t.effects.push(e)}function Ta(){return ot}function Wf(e){ot&&ot.cleanups.push(e)}let $n;class ii{constructor(t,n,s,r){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,zf(this,r)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Tn();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(Gf(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Bn()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=cn,n=$n;try{return cn=!0,$n=this,this._runnings++,sl(this),this.fn()}finally{rl(this),this._runnings--,$n=n,cn=t}}stop(){var t;this.active&&(sl(this),rl(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Gf(e){return e.value}function sl(e){e._trackId++,e._depsLength=0}function rl(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Ba(e.deps[t],e);e.deps.length=e._depsLength}}function Ba(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let cn=!0,$o=0;const La=[];function Tn(){La.push(cn),cn=!1}function Bn(){const e=La.pop();cn=e===void 0?!0:e}function li(){$o++}function ai(){for($o--;!$o&&Co.length;)Co.shift()()}function Ua(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&Ba(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Co=[];function Oa(e,t,n){li();for(const s of e.keys()){let r;s._dirtyLevel<t&&(r??(r=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(r??(r=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&Co.push(s.scheduler)))}ai()}const Na=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},er=new WeakMap,Cn=Symbol(""),Ao=Symbol("");function nt(e,t,n){if(cn&&$n){let s=er.get(e);s||er.set(e,s=new Map);let r=s.get(n);r||s.set(n,r=Na(()=>s.delete(n))),Ua($n,r)}}function Ht(e,t,n,s,r,o){const i=er.get(e);if(!i)return;let l=[];if(t==="clear")l=[...i.values()];else if(n==="length"&&an(e)){const a=Number(s);i.forEach((c,u)=>{(u==="length"||!gr(u)&&u>=a)&&l.push(c)})}else switch(n!==void 0&&l.push(i.get(n)),t){case"add":an(e)?oi(n)&&l.push(i.get("length")):(l.push(i.get(Cn)),Ws(e)&&l.push(i.get(Ao)));break;case"delete":an(e)||(l.push(i.get(Cn)),Ws(e)&&l.push(i.get(Ao)));break;case"set":Ws(e)&&l.push(i.get(Cn));break}li();for(const a of l)a&&Oa(a,4);ai()}function Zf(e,t){var n;return(n=er.get(e))==null?void 0:n.get(t)}const Jf=Mf("__proto__,__v_isRef,__isVue"),Ma=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(gr)),ol=Yf();function Yf(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=be(this);for(let o=0,i=this.length;o<i;o++)nt(s,"get",o+"");const r=s[t](...n);return r===-1||r===!1?s[t](...n.map(be)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Tn(),li();const s=be(this)[t].apply(this,n);return ai(),Bn(),s}}),e}function Qf(e){const t=be(this);return nt(t,"has",e),t.hasOwnProperty(e)}class Ha{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,s){const r=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?fd:Da:o?Va:Fa).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=an(t);if(!r){if(i&&Xs(ol,n))return Reflect.get(ol,n,s);if(n==="hasOwnProperty")return Qf}const l=Reflect.get(t,n,s);return(gr(n)?Ma.has(n):Jf(n))||(r||nt(t,"get",n),o)?l:je(l)?i&&oi(n)?l:l.value:yr(l)?r?Ka(l):ss(l):l}}class ja extends Ha{constructor(t=!1){super(!1,t)}set(t,n,s,r){let o=t[n];if(!this._shallow){const a=Wn(o);if(!tr(s)&&!Wn(s)&&(o=be(o),s=be(s)),!an(t)&&je(o)&&!je(s))return a?!1:(o.value=s,!0)}const i=an(t)&&oi(n)?Number(n)<t.length:Xs(t,n),l=Reflect.set(t,n,s,r);return t===be(r)&&(i?ns(s,o)&&Ht(t,"set",n,s):Ht(t,"add",n,s)),l}deleteProperty(t,n){const s=Xs(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&Ht(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!gr(n)||!Ma.has(n))&&nt(t,"has",n),s}ownKeys(t){return nt(t,"iterate",an(t)?"length":Cn),Reflect.ownKeys(t)}}class Xf extends Ha{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const ed=new ja,td=new Xf,nd=new ja(!0),ci=e=>e,vr=e=>Reflect.getPrototypeOf(e);function Hs(e,t,n=!1,s=!1){e=e.__v_raw;const r=be(e),o=be(t);n||(ns(t,o)&&nt(r,"get",t),nt(r,"get",o));const{has:i}=vr(r),l=s?ci:n?di:ms;if(i.call(r,t))return l(e.get(t));if(i.call(r,o))return l(e.get(o));e!==r&&e.get(t)}function js(e,t=!1){const n=this.__v_raw,s=be(n),r=be(e);return t||(ns(e,r)&&nt(s,"has",e),nt(s,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function Fs(e,t=!1){return e=e.__v_raw,!t&&nt(be(e),"iterate",Cn),Reflect.get(e,"size",e)}function il(e){e=be(e);const t=be(this);return vr(t).has.call(t,e)||(t.add(e),Ht(t,"add",e,e)),this}function ll(e,t){t=be(t);const n=be(this),{has:s,get:r}=vr(n);let o=s.call(n,e);o||(e=be(e),o=s.call(n,e));const i=r.call(n,e);return n.set(e,t),o?ns(t,i)&&Ht(n,"set",e,t):Ht(n,"add",e,t),this}function al(e){const t=be(this),{has:n,get:s}=vr(t);let r=n.call(t,e);r||(e=be(e),r=n.call(t,e)),s&&s.call(t,e);const o=t.delete(e);return r&&Ht(t,"delete",e,void 0),o}function cl(){const e=be(this),t=e.size!==0,n=e.clear();return t&&Ht(e,"clear",void 0,void 0),n}function Vs(e,t){return function(s,r){const o=this,i=o.__v_raw,l=be(i),a=t?ci:e?di:ms;return!e&&nt(l,"iterate",Cn),i.forEach((c,u)=>s.call(r,a(c),a(u),o))}}function Ds(e,t,n){return function(...s){const r=this.__v_raw,o=be(r),i=Ws(o),l=e==="entries"||e===Symbol.iterator&&i,a=e==="keys"&&i,c=r[e](...s),u=n?ci:t?di:ms;return!t&&nt(o,"iterate",a?Ao:Cn),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:l?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function Zt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function sd(){const e={get(o){return Hs(this,o)},get size(){return Fs(this)},has:js,add:il,set:ll,delete:al,clear:cl,forEach:Vs(!1,!1)},t={get(o){return Hs(this,o,!1,!0)},get size(){return Fs(this)},has:js,add:il,set:ll,delete:al,clear:cl,forEach:Vs(!1,!0)},n={get(o){return Hs(this,o,!0)},get size(){return Fs(this,!0)},has(o){return js.call(this,o,!0)},add:Zt("add"),set:Zt("set"),delete:Zt("delete"),clear:Zt("clear"),forEach:Vs(!0,!1)},s={get(o){return Hs(this,o,!0,!0)},get size(){return Fs(this,!0)},has(o){return js.call(this,o,!0)},add:Zt("add"),set:Zt("set"),delete:Zt("delete"),clear:Zt("clear"),forEach:Vs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Ds(o,!1,!1),n[o]=Ds(o,!0,!1),t[o]=Ds(o,!1,!0),s[o]=Ds(o,!0,!0)}),[e,n,t,s]}const[rd,od,id,ld]=sd();function ui(e,t){const n=t?e?ld:id:e?od:rd;return(s,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(Xs(n,r)&&r in s?n:s,r,o)}const ad={get:ui(!1,!1)},cd={get:ui(!1,!0)},ud={get:ui(!0,!1)},Fa=new WeakMap,Va=new WeakMap,Da=new WeakMap,fd=new WeakMap;function dd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function hd(e){return e.__v_skip||!Object.isExtensible(e)?0:dd(qf(e))}function ss(e){return Wn(e)?e:fi(e,!1,ed,ad,Fa)}function qa(e){return fi(e,!1,nd,cd,Va)}function Ka(e){return fi(e,!0,td,ud,Da)}function fi(e,t,n,s,r){if(!yr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const i=hd(e);if(i===0)return e;const l=new Proxy(e,i===2?s:n);return r.set(e,l),l}function un(e){return Wn(e)?un(e.__v_raw):!!(e&&e.__v_isReactive)}function Wn(e){return!!(e&&e.__v_isReadonly)}function tr(e){return!!(e&&e.__v_isShallow)}function za(e){return un(e)||Wn(e)}function be(e){const t=e&&e.__v_raw;return t?be(t):e}function _r(e){return Object.isExtensible(e)&&Kf(e,"__v_skip",!0),e}const ms=e=>yr(e)?ss(e):e,di=e=>yr(e)?Ka(e):e;class Wa{constructor(t,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ii(()=>t(this._value),()=>Gs(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const t=be(this);return(!t._cacheable||t.effect.dirty)&&ns(t._value,t._value=t.effect.run())&&Gs(t,4),Ga(t),t.effect._dirtyLevel>=2&&Gs(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function pd(e,t,n=!1){let s,r;const o=Ff(e);return o?(s=e,r=Hf):(s=e.get,r=e.set),new Wa(s,r,o||!r,n)}function Ga(e){var t;cn&&$n&&(e=be(e),Ua($n,(t=e.dep)!=null?t:e.dep=Na(()=>e.dep=void 0,e instanceof Wa?e:void 0)))}function Gs(e,t=4,n){e=be(e);const s=e.dep;s&&Oa(s,t)}function je(e){return!!(e&&e.__v_isRef===!0)}function z(e){return Za(e,!1)}function gd(e){return Za(e,!0)}function Za(e,t){return je(e)?e:new yd(e,t)}class yd{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:be(t),this._value=n?t:ms(t)}get value(){return Ga(this),this._value}set value(t){const n=this.__v_isShallow||tr(t)||Wn(t);t=n?t:be(t),ns(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ms(t),Gs(this,4))}}function de(e){return je(e)?e.value:e}const vd={get:(e,t,n)=>de(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return je(r)&&!je(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function Ja(e){return un(e)?e:new Proxy(e,vd)}function _d(e){const t=an(e)?new Array(e.length):{};for(const n in e)t[n]=md(e,n);return t}class wd{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Zf(be(this._object),this._key)}}function md(e,t,n){const s=e[t];return je(s)?s:new wd(e,t,n)}/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function bd(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const Ae={},Fn=[],ct=()=>{},Ed=()=>!1,hi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ya=e=>e.startsWith("onUpdate:"),Ze=Object.assign,pi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},xd=Object.prototype.hasOwnProperty,Se=(e,t)=>xd.call(e,t),me=Array.isArray,Qa=e=>gi(e)==="[object Map]",Xa=e=>gi(e)==="[object Set]",_e=e=>typeof e=="function",st=e=>typeof e=="string",ec=e=>typeof e=="symbol",Ne=e=>e!==null&&typeof e=="object",tc=e=>(Ne(e)||_e(e))&&_e(e.then)&&_e(e.catch),nc=Object.prototype.toString,gi=e=>nc.call(e),sc=e=>gi(e)==="[object Object]",ds=bd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Rd=/-(\w)/g,Ct=wr(e=>e.replace(Rd,(t,n)=>n?n.toUpperCase():"")),Sd=/\B([A-Z])/g,mr=wr(e=>e.replace(Sd,"-$1").toLowerCase()),yi=wr(e=>e.charAt(0).toUpperCase()+e.slice(1)),to=wr(e=>e?`on${yi(e)}`:""),ul=(e,t)=>!Object.is(e,t),no=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Io=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},kd=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let fl;const rc=()=>fl||(fl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vi(e){if(me(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=st(s)?Id(s):vi(s);if(r)for(const o in r)t[o]=r[o]}return t}else if(st(e)||Ne(e))return e}const $d=/;(?![^(]*\))/g,Cd=/:([^]+)/,Ad=/\/\*[^]*?\*\//g;function Id(e){const t={};return e.replace(Ad,"").split($d).forEach(n=>{if(n){const s=n.split(Cd);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Ie(e){let t="";if(st(e))t=e;else if(me(e))for(let n=0;n<e.length;n++){const s=Ie(e[n]);s&&(t+=s+" ")}else if(Ne(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ae=e=>st(e)?e:e==null?"":me(e)||Ne(e)&&(e.toString===nc||!_e(e.toString))?JSON.stringify(e,oc,2):String(e),oc=(e,t)=>t&&t.__v_isRef?oc(e,t.value):Qa(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],o)=>(n[so(s,o)+" =>"]=r,n),{})}:Xa(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>so(n))}:ec(t)?so(t):Ne(t)&&!me(t)&&!sc(t)?String(t):t,so=(e,t="")=>{var n;return ec(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/runtime-core v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function fn(e,t,n,s){try{return s?e(...s):e()}catch(r){br(r,t,n)}}function gt(e,t,n,s){if(_e(e)){const o=fn(e,t,n,s);return o&&tc(o)&&o.catch(i=>{br(i,t,n)}),o}const r=[];for(let o=0;o<e.length;o++)r.push(gt(e[o],t,n,s));return r}function br(e,t,n,s=!0){const r=t?t.vnode:null;if(t){let o=t.parent;const i=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,i,l)===!1)return}o=o.parent}const a=t.appContext.config.errorHandler;if(a){fn(a,null,10,[e,i,l]);return}}Pd(e,n,r,s)}function Pd(e,t,n,s=!0){console.error(e)}let bs=!1,Po=!1;const Ge=[];let Rt=0;const Vn=[];let nn=null,En=0;const ic=Promise.resolve();let _i=null;function Er(e){const t=_i||ic;return e?t.then(this?e.bind(this):e):t}function Td(e){let t=Rt+1,n=Ge.length;for(;t<n;){const s=t+n>>>1,r=Ge[s],o=Es(r);o<e||o===e&&r.pre?t=s+1:n=s}return t}function wi(e){(!Ge.length||!Ge.includes(e,bs&&e.allowRecurse?Rt+1:Rt))&&(e.id==null?Ge.push(e):Ge.splice(Td(e.id),0,e),lc())}function lc(){!bs&&!Po&&(Po=!0,_i=ic.then(cc))}function Bd(e){const t=Ge.indexOf(e);t>Rt&&Ge.splice(t,1)}function Ld(e){me(e)?Vn.push(...e):(!nn||!nn.includes(e,e.allowRecurse?En+1:En))&&Vn.push(e),lc()}function dl(e,t,n=bs?Rt+1:0){for(;n<Ge.length;n++){const s=Ge[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;Ge.splice(n,1),n--,s()}}}function ac(e){if(Vn.length){const t=[...new Set(Vn)].sort((n,s)=>Es(n)-Es(s));if(Vn.length=0,nn){nn.push(...t);return}for(nn=t,En=0;En<nn.length;En++)nn[En]();nn=null,En=0}}const Es=e=>e.id==null?1/0:e.id,Ud=(e,t)=>{const n=Es(e)-Es(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function cc(e){Po=!1,bs=!0,Ge.sort(Ud);const t=ct;try{for(Rt=0;Rt<Ge.length;Rt++){const n=Ge[Rt];n&&n.active!==!1&&fn(n,null,14)}}finally{Rt=0,Ge.length=0,ac(),bs=!1,_i=null,(Ge.length||Vn.length)&&cc()}}function Od(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Ae;let r=n;const o=t.startsWith("update:"),i=o&&t.slice(7);if(i&&i in s){const u=`${i==="modelValue"?"model":i}Modifiers`,{number:f,trim:d}=s[u]||Ae;d&&(r=n.map(h=>st(h)?h.trim():h)),f&&(r=n.map(kd))}let l,a=s[l=to(t)]||s[l=to(Ct(t))];!a&&o&&(a=s[l=to(mr(t))]),a&&gt(a,e,6,r);const c=s[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,gt(c,e,6,r)}}function uc(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const o=e.emits;let i={},l=!1;if(!_e(e)){const a=c=>{const u=uc(c,t,!0);u&&(l=!0,Ze(i,u))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!o&&!l?(Ne(e)&&s.set(e,null),null):(me(o)?o.forEach(a=>i[a]=null):Ze(i,o),Ne(e)&&s.set(e,i),i)}function xr(e,t){return!e||!hi(t)?!1:(t=t.slice(2).replace(/Once$/,""),Se(e,t[0].toLowerCase()+t.slice(1))||Se(e,mr(t))||Se(e,t))}let He=null,Rr=null;function nr(e){const t=He;return He=e,Rr=e&&e.type.__scopeId||null,t}function Pt(e){Rr=e}function Tt(){Rr=null}function Ye(e,t=He,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&xl(-1);const o=nr(t);let i;try{i=e(...r)}finally{nr(o),s._d&&xl(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function ro(e){const{type:t,vnode:n,proxy:s,withProxy:r,props:o,propsOptions:[i],slots:l,attrs:a,emit:c,render:u,renderCache:f,data:d,setupState:h,ctx:v,inheritAttrs:g}=e;let y,w;const x=nr(e);try{if(n.shapeFlag&4){const M=r||s,q=M;y=xt(u.call(q,M,f,o,h,d,v)),w=a}else{const M=t;y=xt(M.length>1?M(o,{attrs:a,slots:l,emit:c}):M(o,null)),w=t.props?a:Nd(a)}}catch(M){gs.length=0,br(M,e,1),y=ye(hn)}let S=y;if(w&&g!==!1){const M=Object.keys(w),{shapeFlag:q}=S;M.length&&q&7&&(i&&M.some(Ya)&&(w=Md(w,i)),S=Gn(S,w))}return n.dirs&&(S=Gn(S),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&(S.transition=n.transition),y=S,nr(x),y}const Nd=e=>{let t;for(const n in e)(n==="class"||n==="style"||hi(n))&&((t||(t={}))[n]=e[n]);return t},Md=(e,t)=>{const n={};for(const s in e)(!Ya(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Hd(e,t,n){const{props:s,children:r,component:o}=e,{props:i,children:l,patchFlag:a}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return s?hl(s,i,c):!!i;if(a&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(i[d]!==s[d]&&!xr(c,d))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:s===i?!1:s?i?hl(s,i,c):!0:!!i;return!1}function hl(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(t[o]!==e[o]&&!xr(n,o))return!0}return!1}function jd({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const fc="components";function xs(e,t){return Vd(fc,e,!0,t)||e}const Fd=Symbol.for("v-ndc");function Vd(e,t,n=!0,s=!1){const r=He||ze;if(r){const o=r.type;if(e===fc){const l=Uh(o,!1);if(l&&(l===t||l===Ct(t)||l===yi(Ct(t))))return o}const i=pl(r[e]||o[e],t)||pl(r.appContext[e],t);return!i&&s?o:i}}function pl(e,t){return e&&(e[t]||e[Ct(t)]||e[yi(Ct(t))])}const Dd=e=>e.__isSuspense;function qd(e,t){t&&t.pendingBranch?me(e)?t.effects.push(...e):t.effects.push(e):Ld(e)}const Kd=Symbol.for("v-scx"),zd=()=>ft(Kd);function Wd(e,t){return mi(e,null,t)}const qs={};function jt(e,t,n){return mi(e,t,n)}function mi(e,t,{immediate:n,deep:s,flush:r,once:o,onTrack:i,onTrigger:l}=Ae){if(t&&o){const C=t;t=(...K)=>{C(...K),q()}}const a=ze,c=C=>s===!0?C:Sn(C,s===!1?1:void 0);let u,f=!1,d=!1;if(je(e)?(u=()=>e.value,f=tr(e)):un(e)?(u=()=>c(e),f=!0):me(e)?(d=!0,f=e.some(C=>un(C)||tr(C)),u=()=>e.map(C=>{if(je(C))return C.value;if(un(C))return c(C);if(_e(C))return fn(C,a,2)})):_e(e)?t?u=()=>fn(e,a,2):u=()=>(h&&h(),gt(e,a,3,[v])):u=ct,t&&s){const C=u;u=()=>Sn(C())}let h,v=C=>{h=S.onStop=()=>{fn(C,a,4),h=S.onStop=void 0}},g;if(Ar)if(v=ct,t?n&&gt(t,a,3,[u(),d?[]:void 0,v]):u(),r==="sync"){const C=zd();g=C.__watcherHandles||(C.__watcherHandles=[])}else return ct;let y=d?new Array(e.length).fill(qs):qs;const w=()=>{if(!(!S.active||!S.dirty))if(t){const C=S.run();(s||f||(d?C.some((K,A)=>ul(K,y[A])):ul(C,y)))&&(h&&h(),gt(t,a,3,[C,y===qs?void 0:d&&y[0]===qs?[]:y,v]),y=C)}else S.run()};w.allowRecurse=!!t;let x;r==="sync"?x=w:r==="post"?x=()=>Xe(w,a&&a.suspense):(w.pre=!0,a&&(w.id=a.uid),x=()=>wi(w));const S=new ii(u,ct,x),M=Ta(),q=()=>{S.stop(),M&&pi(M.effects,S)};return t?n?w():y=S.run():r==="post"?Xe(S.run.bind(S),a&&a.suspense):S.run(),g&&g.push(q),q}function Gd(e,t,n){const s=this.proxy,r=st(e)?e.includes(".")?dc(s,e):()=>s[e]:e.bind(s,s);let o;_e(t)?o=t:(o=t.handler,n=t);const i=Is(this),l=mi(r,o.bind(s),n);return i(),l}function dc(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Sn(e,t,n=0,s){if(!Ne(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(s=s||new Set,s.has(e))return e;if(s.add(e),je(e))Sn(e.value,t,n,s);else if(me(e))for(let r=0;r<e.length;r++)Sn(e[r],t,n,s);else if(Xa(e)||Qa(e))e.forEach(r=>{Sn(r,t,n,s)});else if(sc(e))for(const r in e)Sn(e[r],t,n,s);return e}function Dn(e,t){if(He===null)return e;const n=Ir(He)||He.proxy,s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,i,l,a=Ae]=t[r];o&&(_e(o)&&(o={mounted:o,updated:o}),o.deep&&Sn(i),s.push({dir:o,instance:n,value:i,oldValue:void 0,arg:l,modifiers:a}))}return e}function _n(e,t,n,s){const r=e.dirs,o=t&&t.dirs;for(let i=0;i<r.length;i++){const l=r[i];o&&(l.oldValue=o[i].value);let a=l.dir[s];a&&(Tn(),gt(a,n,8,[e.el,l,e,t]),Bn())}}/*! #__NO_SIDE_EFFECTS__ */function Me(e,t){return _e(e)?(()=>Ze({name:e.name},t,{setup:e}))():e}const hs=e=>!!e.type.__asyncLoader,hc=e=>e.type.__isKeepAlive;function Zd(e,t){pc(e,"a",t)}function Jd(e,t){pc(e,"da",t)}function pc(e,t,n=ze){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Sr(t,s,n),n){let r=n.parent;for(;r&&r.parent;)hc(r.parent.vnode)&&Yd(s,t,n,r),r=r.parent}}function Yd(e,t,n,s){const r=Sr(t,e,s,!0);yc(()=>{pi(s[t],r)},n)}function Sr(e,t,n=ze,s=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;Tn();const l=Is(n),a=gt(t,n,e,i);return l(),Bn(),a});return s?r.unshift(o):r.push(o),o}}const Dt=e=>(t,n=ze)=>(!Ar||e==="sp")&&Sr(e,(...s)=>t(...s),n),gc=Dt("bm"),qt=Dt("m"),kr=Dt("bu"),Qd=Dt("u"),Xd=Dt("bum"),yc=Dt("um"),eh=Dt("sp"),th=Dt("rtg"),nh=Dt("rtc");function sh(e,t=ze){Sr("ec",e,t)}function dt(e,t,n,s){let r;const o=n&&n[s];if(me(e)||st(e)){r=new Array(e.length);for(let i=0,l=e.length;i<l;i++)r[i]=t(e[i],i,void 0,o&&o[i])}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,o&&o[i])}else if(Ne(e))if(e[Symbol.iterator])r=Array.from(e,(i,l)=>t(i,l,void 0,o&&o[l]));else{const i=Object.keys(e);r=new Array(i.length);for(let l=0,a=i.length;l<a;l++){const c=i[l];r[l]=t(e[c],c,l,o&&o[l])}}else r=[];return n&&(n[s]=r),r}function rh(e,t,n={},s,r){if(He.isCE||He.parent&&hs(He.parent)&&He.parent.isCE)return t!=="default"&&(n.name=t),ye("slot",n,s&&s());let o=e[t];o&&o._c&&(o._d=!1),T();const i=o&&vc(o(n)),l=Be(xe,{key:n.key||i&&i.key||`_${t}`},i||(s?s():[]),i&&e._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function vc(e){return e.some(t=>rr(t)?!(t.type===hn||t.type===xe&&!vc(t.children)):!0)?e:null}const To=e=>e?Ac(e)?Ir(e)||e.proxy:To(e.parent):null,ps=Ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>To(e.parent),$root:e=>To(e.root),$emit:e=>e.emit,$options:e=>bi(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,wi(e.update)}),$nextTick:e=>e.n||(e.n=Er.bind(e.proxy)),$watch:e=>Gd.bind(e)}),oo=(e,t)=>e!==Ae&&!e.__isScriptSetup&&Se(e,t),oh={get({_:e},t){const{ctx:n,setupState:s,data:r,props:o,accessCache:i,type:l,appContext:a}=e;let c;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(oo(s,t))return i[t]=1,s[t];if(r!==Ae&&Se(r,t))return i[t]=2,r[t];if((c=e.propsOptions[0])&&Se(c,t))return i[t]=3,o[t];if(n!==Ae&&Se(n,t))return i[t]=4,n[t];Bo&&(i[t]=0)}}const u=ps[t];let f,d;if(u)return t==="$attrs"&&nt(e,"get",t),u(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(n!==Ae&&Se(n,t))return i[t]=4,n[t];if(d=a.config.globalProperties,Se(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:o}=e;return oo(r,t)?(r[t]=n,!0):s!==Ae&&Se(s,t)?(s[t]=n,!0):Se(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:o}},i){let l;return!!n[i]||e!==Ae&&Se(e,i)||oo(t,i)||(l=o[0])&&Se(l,i)||Se(s,i)||Se(ps,i)||Se(r.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Se(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function gl(e){return me(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Bo=!0;function ih(e){const t=bi(e),n=e.proxy,s=e.ctx;Bo=!1,t.beforeCreate&&yl(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:i,watch:l,provide:a,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:v,activated:g,deactivated:y,beforeDestroy:w,beforeUnmount:x,destroyed:S,unmounted:M,render:q,renderTracked:C,renderTriggered:K,errorCaptured:A,serverPrefetch:H,expose:F,inheritAttrs:G,components:se,directives:U,filters:B}=t;if(c&&lh(c,s,null),i)for(const $ in i){const P=i[$];_e(P)&&(s[$]=P.bind(n))}if(r){const $=r.call(n,n);Ne($)&&(e.data=ss($))}if(Bo=!0,o)for(const $ in o){const P=o[$],I=_e(P)?P.bind(n,n):_e(P.get)?P.get.bind(n,n):ct,J=!_e(P)&&_e(P.set)?P.set.bind(n):ct,te=Pe({get:I,set:J});Object.defineProperty(s,$,{enumerable:!0,configurable:!0,get:()=>te.value,set:X=>te.value=X})}if(l)for(const $ in l)_c(l[$],s,n,$);if(a){const $=_e(a)?a.call(n):a;Reflect.ownKeys($).forEach(P=>{Zs(P,$[P])})}u&&yl(u,e,"c");function R($,P){me(P)?P.forEach(I=>$(I.bind(n))):P&&$(P.bind(n))}if(R(gc,f),R(qt,d),R(kr,h),R(Qd,v),R(Zd,g),R(Jd,y),R(sh,A),R(nh,C),R(th,K),R(Xd,x),R(yc,M),R(eh,H),me(F))if(F.length){const $=e.exposed||(e.exposed={});F.forEach(P=>{Object.defineProperty($,P,{get:()=>n[P],set:I=>n[P]=I})})}else e.exposed||(e.exposed={});q&&e.render===ct&&(e.render=q),G!=null&&(e.inheritAttrs=G),se&&(e.components=se),U&&(e.directives=U)}function lh(e,t,n=ct){me(e)&&(e=Lo(e));for(const s in e){const r=e[s];let o;Ne(r)?"default"in r?o=ft(r.from||s,r.default,!0):o=ft(r.from||s):o=ft(r),je(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[s]=o}}function yl(e,t,n){gt(me(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function _c(e,t,n,s){const r=s.includes(".")?dc(n,s):()=>n[s];if(st(e)){const o=t[e];_e(o)&&jt(r,o)}else if(_e(e))jt(r,e.bind(n));else if(Ne(e))if(me(e))e.forEach(o=>_c(o,t,n,s));else{const o=_e(e.handler)?e.handler.bind(n):t[e.handler];_e(o)&&jt(r,o,e)}}function bi(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,l=o.get(t);let a;return l?a=l:!r.length&&!n&&!s?a=t:(a={},r.length&&r.forEach(c=>sr(a,c,i,!0)),sr(a,t,i)),Ne(t)&&o.set(t,a),a}function sr(e,t,n,s=!1){const{mixins:r,extends:o}=t;o&&sr(e,o,n,!0),r&&r.forEach(i=>sr(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const l=ah[i]||n&&n[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const ah={data:vl,props:_l,emits:_l,methods:fs,computed:fs,beforeCreate:Je,created:Je,beforeMount:Je,mounted:Je,beforeUpdate:Je,updated:Je,beforeDestroy:Je,beforeUnmount:Je,destroyed:Je,unmounted:Je,activated:Je,deactivated:Je,errorCaptured:Je,serverPrefetch:Je,components:fs,directives:fs,watch:uh,provide:vl,inject:ch};function vl(e,t){return t?e?function(){return Ze(_e(e)?e.call(this,this):e,_e(t)?t.call(this,this):t)}:t:e}function ch(e,t){return fs(Lo(e),Lo(t))}function Lo(e){if(me(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Je(e,t){return e?[...new Set([].concat(e,t))]:t}function fs(e,t){return e?Ze(Object.create(null),e,t):t}function _l(e,t){return e?me(e)&&me(t)?[...new Set([...e,...t])]:Ze(Object.create(null),gl(e),gl(t??{})):t}function uh(e,t){if(!e)return t;if(!t)return e;const n=Ze(Object.create(null),e);for(const s in t)n[s]=Je(e[s],t[s]);return n}function wc(){return{app:null,config:{isNativeTag:Ed,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fh=0;function dh(e,t){return function(s,r=null){_e(s)||(s=Ze({},s)),r!=null&&!Ne(r)&&(r=null);const o=wc(),i=new WeakSet;let l=!1;const a=o.app={_uid:fh++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:Nh,get config(){return o.config},set config(c){},use(c,...u){return i.has(c)||(c&&_e(c.install)?(i.add(c),c.install(a,...u)):_e(c)&&(i.add(c),c(a,...u))),a},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),a},component(c,u){return u?(o.components[c]=u,a):o.components[c]},directive(c,u){return u?(o.directives[c]=u,a):o.directives[c]},mount(c,u,f){if(!l){const d=ye(s,r);return d.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),u&&t?t(d,c):e(d,c,f),l=!0,a._container=c,c.__vue_app__=a,Ir(d.component)||d.component.proxy}},unmount(){l&&(e(null,a._container),delete a._container.__vue_app__)},provide(c,u){return o.provides[c]=u,a},runWithContext(c){const u=qn;qn=a;try{return c()}finally{qn=u}}};return a}}let qn=null;function Zs(e,t){if(ze){let n=ze.provides;const s=ze.parent&&ze.parent.provides;s===n&&(n=ze.provides=Object.create(s)),n[e]=t}}function ft(e,t,n=!1){const s=ze||He;if(s||qn){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:qn._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&_e(t)?t.call(s&&s.proxy):t}}function hh(){return!!(ze||He||qn)}function ph(e,t,n,s=!1){const r={},o={};Io(o,Cr,1),e.propsDefaults=Object.create(null),mc(e,t,r,o);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);n?e.props=s?r:qa(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function gh(e,t,n,s){const{props:r,attrs:o,vnode:{patchFlag:i}}=e,l=be(r),[a]=e.propsOptions;let c=!1;if((s||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(xr(e.emitsOptions,d))continue;const h=t[d];if(a)if(Se(o,d))h!==o[d]&&(o[d]=h,c=!0);else{const v=Ct(d);r[v]=Uo(a,l,v,h,e,!1)}else h!==o[d]&&(o[d]=h,c=!0)}}}else{mc(e,t,r,o)&&(c=!0);let u;for(const f in l)(!t||!Se(t,f)&&((u=mr(f))===f||!Se(t,u)))&&(a?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=Uo(a,l,f,void 0,e,!0)):delete r[f]);if(o!==l)for(const f in o)(!t||!Se(t,f))&&(delete o[f],c=!0)}c&&Ht(e,"set","$attrs")}function mc(e,t,n,s){const[r,o]=e.propsOptions;let i=!1,l;if(t)for(let a in t){if(ds(a))continue;const c=t[a];let u;r&&Se(r,u=Ct(a))?!o||!o.includes(u)?n[u]=c:(l||(l={}))[u]=c:xr(e.emitsOptions,a)||(!(a in s)||c!==s[a])&&(s[a]=c,i=!0)}if(o){const a=be(n),c=l||Ae;for(let u=0;u<o.length;u++){const f=o[u];n[f]=Uo(r,a,f,c[f],e,!Se(c,f))}}return i}function Uo(e,t,n,s,r,o){const i=e[n];if(i!=null){const l=Se(i,"default");if(l&&s===void 0){const a=i.default;if(i.type!==Function&&!i.skipFactory&&_e(a)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const u=Is(r);s=c[n]=a.call(null,t),u()}}else s=a}i[0]&&(o&&!l?s=!1:i[1]&&(s===""||s===mr(n))&&(s=!0))}return s}function bc(e,t,n=!1){const s=t.propsCache,r=s.get(e);if(r)return r;const o=e.props,i={},l=[];let a=!1;if(!_e(e)){const u=f=>{a=!0;const[d,h]=bc(f,t,!0);Ze(i,d),h&&l.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!a)return Ne(e)&&s.set(e,Fn),Fn;if(me(o))for(let u=0;u<o.length;u++){const f=Ct(o[u]);wl(f)&&(i[f]=Ae)}else if(o)for(const u in o){const f=Ct(u);if(wl(f)){const d=o[u],h=i[f]=me(d)||_e(d)?{type:d}:Ze({},d);if(h){const v=El(Boolean,h.type),g=El(String,h.type);h[0]=v>-1,h[1]=g<0||v<g,(v>-1||Se(h,"default"))&&l.push(f)}}}const c=[i,l];return Ne(e)&&s.set(e,c),c}function wl(e){return e[0]!=="$"&&!ds(e)}function ml(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function bl(e,t){return ml(e)===ml(t)}function El(e,t){return me(t)?t.findIndex(n=>bl(n,e)):_e(t)&&bl(t,e)?0:-1}const Ec=e=>e[0]==="_"||e==="$stable",Ei=e=>me(e)?e.map(xt):[xt(e)],yh=(e,t,n)=>{if(t._n)return t;const s=Ye((...r)=>Ei(t(...r)),n);return s._c=!1,s},xc=(e,t,n)=>{const s=e._ctx;for(const r in e){if(Ec(r))continue;const o=e[r];if(_e(o))t[r]=yh(r,o,s);else if(o!=null){const i=Ei(o);t[r]=()=>i}}},Rc=(e,t)=>{const n=Ei(t);e.slots.default=()=>n},vh=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=be(t),Io(t,"_",n)):xc(t,e.slots={})}else e.slots={},t&&Rc(e,t);Io(e.slots,Cr,1)},_h=(e,t,n)=>{const{vnode:s,slots:r}=e;let o=!0,i=Ae;if(s.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:(Ze(r,t),!n&&l===1&&delete r._):(o=!t.$stable,xc(t,r)),i=t}else t&&(Rc(e,t),i={default:1});if(o)for(const l in r)!Ec(l)&&i[l]==null&&delete r[l]};function Oo(e,t,n,s,r=!1){if(me(e)){e.forEach((d,h)=>Oo(d,t&&(me(t)?t[h]:t),n,s,r));return}if(hs(s)&&!r)return;const o=s.shapeFlag&4?Ir(s.component)||s.component.proxy:s.el,i=r?null:o,{i:l,r:a}=e,c=t&&t.r,u=l.refs===Ae?l.refs={}:l.refs,f=l.setupState;if(c!=null&&c!==a&&(st(c)?(u[c]=null,Se(f,c)&&(f[c]=null)):je(c)&&(c.value=null)),_e(a))fn(a,l,12,[i,u]);else{const d=st(a),h=je(a);if(d||h){const v=()=>{if(e.f){const g=d?Se(f,a)?f[a]:u[a]:a.value;r?me(g)&&pi(g,o):me(g)?g.includes(o)||g.push(o):d?(u[a]=[o],Se(f,a)&&(f[a]=u[a])):(a.value=[o],e.k&&(u[e.k]=a.value))}else d?(u[a]=i,Se(f,a)&&(f[a]=i)):h&&(a.value=i,e.k&&(u[e.k]=i))};i?(v.id=-1,Xe(v,n)):v()}}}const Xe=qd;function wh(e){return mh(e)}function mh(e,t){const n=rc();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:i,createText:l,createComment:a,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=ct,insertStaticContent:v}=e,g=(p,_,k,j=null,N=null,Y=null,re=void 0,Q=null,ee=!!_.dynamicChildren)=>{if(p===_)return;p&&!ls(p,_)&&(j=E(p),X(p,N,Y,!0),p=null),_.patchFlag===-2&&(ee=!1,_.dynamicChildren=null);const{type:Z,ref:le,shapeFlag:pe}=_;switch(Z){case $r:y(p,_,k,j);break;case hn:w(p,_,k,j);break;case Js:p==null&&x(_,k,j,re);break;case xe:se(p,_,k,j,N,Y,re,Q,ee);break;default:pe&1?q(p,_,k,j,N,Y,re,Q,ee):pe&6?U(p,_,k,j,N,Y,re,Q,ee):(pe&64||pe&128)&&Z.process(p,_,k,j,N,Y,re,Q,ee,V)}le!=null&&N&&Oo(le,p&&p.ref,Y,_||p,!_)},y=(p,_,k,j)=>{if(p==null)s(_.el=l(_.children),k,j);else{const N=_.el=p.el;_.children!==p.children&&c(N,_.children)}},w=(p,_,k,j)=>{p==null?s(_.el=a(_.children||""),k,j):_.el=p.el},x=(p,_,k,j)=>{[p.el,p.anchor]=v(p.children,_,k,j,p.el,p.anchor)},S=({el:p,anchor:_},k,j)=>{let N;for(;p&&p!==_;)N=d(p),s(p,k,j),p=N;s(_,k,j)},M=({el:p,anchor:_})=>{let k;for(;p&&p!==_;)k=d(p),r(p),p=k;r(_)},q=(p,_,k,j,N,Y,re,Q,ee)=>{_.type==="svg"?re="svg":_.type==="math"&&(re="mathml"),p==null?C(_,k,j,N,Y,re,Q,ee):H(p,_,N,Y,re,Q,ee)},C=(p,_,k,j,N,Y,re,Q)=>{let ee,Z;const{props:le,shapeFlag:pe,transition:fe,dirs:ge}=p;if(ee=p.el=i(p.type,Y,le&&le.is,le),pe&8?u(ee,p.children):pe&16&&A(p.children,ee,null,j,N,io(p,Y),re,Q),ge&&_n(p,null,j,"created"),K(ee,p,p.scopeId,re,j),le){for(const ke in le)ke!=="value"&&!ds(ke)&&o(ee,ke,null,le[ke],Y,p.children,j,N,W);"value"in le&&o(ee,"value",null,le.value,Y),(Z=le.onVnodeBeforeMount)&&wt(Z,j,p)}ge&&_n(p,null,j,"beforeMount");const we=bh(N,fe);we&&fe.beforeEnter(ee),s(ee,_,k),((Z=le&&le.onVnodeMounted)||we||ge)&&Xe(()=>{Z&&wt(Z,j,p),we&&fe.enter(ee),ge&&_n(p,null,j,"mounted")},N)},K=(p,_,k,j,N)=>{if(k&&h(p,k),j)for(let Y=0;Y<j.length;Y++)h(p,j[Y]);if(N){let Y=N.subTree;if(_===Y){const re=N.vnode;K(p,re,re.scopeId,re.slotScopeIds,N.parent)}}},A=(p,_,k,j,N,Y,re,Q,ee=0)=>{for(let Z=ee;Z<p.length;Z++){const le=p[Z]=Q?sn(p[Z]):xt(p[Z]);g(null,le,_,k,j,N,Y,re,Q)}},H=(p,_,k,j,N,Y,re)=>{const Q=_.el=p.el;let{patchFlag:ee,dynamicChildren:Z,dirs:le}=_;ee|=p.patchFlag&16;const pe=p.props||Ae,fe=_.props||Ae;let ge;if(k&&wn(k,!1),(ge=fe.onVnodeBeforeUpdate)&&wt(ge,k,_,p),le&&_n(_,p,k,"beforeUpdate"),k&&wn(k,!0),Z?F(p.dynamicChildren,Z,Q,k,j,io(_,N),Y):re||P(p,_,Q,null,k,j,io(_,N),Y,!1),ee>0){if(ee&16)G(Q,_,pe,fe,k,j,N);else if(ee&2&&pe.class!==fe.class&&o(Q,"class",null,fe.class,N),ee&4&&o(Q,"style",pe.style,fe.style,N),ee&8){const we=_.dynamicProps;for(let ke=0;ke<we.length;ke++){const Te=we[ke],Fe=pe[Te],ht=fe[Te];(ht!==Fe||Te==="value")&&o(Q,Te,Fe,ht,N,p.children,k,j,W)}}ee&1&&p.children!==_.children&&u(Q,_.children)}else!re&&Z==null&&G(Q,_,pe,fe,k,j,N);((ge=fe.onVnodeUpdated)||le)&&Xe(()=>{ge&&wt(ge,k,_,p),le&&_n(_,p,k,"updated")},j)},F=(p,_,k,j,N,Y,re)=>{for(let Q=0;Q<_.length;Q++){const ee=p[Q],Z=_[Q],le=ee.el&&(ee.type===xe||!ls(ee,Z)||ee.shapeFlag&70)?f(ee.el):k;g(ee,Z,le,null,j,N,Y,re,!0)}},G=(p,_,k,j,N,Y,re)=>{if(k!==j){if(k!==Ae)for(const Q in k)!ds(Q)&&!(Q in j)&&o(p,Q,k[Q],null,re,_.children,N,Y,W);for(const Q in j){if(ds(Q))continue;const ee=j[Q],Z=k[Q];ee!==Z&&Q!=="value"&&o(p,Q,Z,ee,re,_.children,N,Y,W)}"value"in j&&o(p,"value",k.value,j.value,re)}},se=(p,_,k,j,N,Y,re,Q,ee)=>{const Z=_.el=p?p.el:l(""),le=_.anchor=p?p.anchor:l("");let{patchFlag:pe,dynamicChildren:fe,slotScopeIds:ge}=_;ge&&(Q=Q?Q.concat(ge):ge),p==null?(s(Z,k,j),s(le,k,j),A(_.children||[],k,le,N,Y,re,Q,ee)):pe>0&&pe&64&&fe&&p.dynamicChildren?(F(p.dynamicChildren,fe,k,N,Y,re,Q),(_.key!=null||N&&_===N.subTree)&&Sc(p,_,!0)):P(p,_,k,le,N,Y,re,Q,ee)},U=(p,_,k,j,N,Y,re,Q,ee)=>{_.slotScopeIds=Q,p==null?_.shapeFlag&512?N.ctx.activate(_,k,j,re,ee):B(_,k,j,N,Y,re,ee):b(p,_,ee)},B=(p,_,k,j,N,Y,re)=>{const Q=p.component=Ih(p,j,N);if(hc(p)&&(Q.ctx.renderer=V),Ph(Q),Q.asyncDep){if(N&&N.registerDep(Q,R),!p.el){const ee=Q.subTree=ye(hn);w(null,ee,_,k)}}else R(Q,p,_,k,N,Y,re)},b=(p,_,k)=>{const j=_.component=p.component;if(Hd(p,_,k))if(j.asyncDep&&!j.asyncResolved){$(j,_,k);return}else j.next=_,Bd(j.update),j.effect.dirty=!0,j.update();else _.el=p.el,j.vnode=_},R=(p,_,k,j,N,Y,re)=>{const Q=()=>{if(p.isMounted){let{next:le,bu:pe,u:fe,parent:ge,vnode:we}=p;{const On=kc(p);if(On){le&&(le.el=we.el,$(p,le,re)),On.asyncDep.then(()=>{p.isUnmounted||Q()});return}}let ke=le,Te;wn(p,!1),le?(le.el=we.el,$(p,le,re)):le=we,pe&&no(pe),(Te=le.props&&le.props.onVnodeBeforeUpdate)&&wt(Te,ge,le,we),wn(p,!0);const Fe=ro(p),ht=p.subTree;p.subTree=Fe,g(ht,Fe,f(ht.el),E(ht),p,N,Y),le.el=Fe.el,ke===null&&jd(p,Fe.el),fe&&Xe(fe,N),(Te=le.props&&le.props.onVnodeUpdated)&&Xe(()=>wt(Te,ge,le,we),N)}else{let le;const{el:pe,props:fe}=_,{bm:ge,m:we,parent:ke}=p,Te=hs(_);if(wn(p,!1),ge&&no(ge),!Te&&(le=fe&&fe.onVnodeBeforeMount)&&wt(le,ke,_),wn(p,!0),pe&&ie){const Fe=()=>{p.subTree=ro(p),ie(pe,p.subTree,p,N,null)};Te?_.type.__asyncLoader().then(()=>!p.isUnmounted&&Fe()):Fe()}else{const Fe=p.subTree=ro(p);g(null,Fe,k,j,p,N,Y),_.el=Fe.el}if(we&&Xe(we,N),!Te&&(le=fe&&fe.onVnodeMounted)){const Fe=_;Xe(()=>wt(le,ke,Fe),N)}(_.shapeFlag&256||ke&&hs(ke.vnode)&&ke.vnode.shapeFlag&256)&&p.a&&Xe(p.a,N),p.isMounted=!0,_=k=j=null}},ee=p.effect=new ii(Q,ct,()=>wi(Z),p.scope),Z=p.update=()=>{ee.dirty&&ee.run()};Z.id=p.uid,wn(p,!0),Z()},$=(p,_,k)=>{_.component=p;const j=p.vnode.props;p.vnode=_,p.next=null,gh(p,_.props,j,k),_h(p,_.children,k),Tn(),dl(p),Bn()},P=(p,_,k,j,N,Y,re,Q,ee=!1)=>{const Z=p&&p.children,le=p?p.shapeFlag:0,pe=_.children,{patchFlag:fe,shapeFlag:ge}=_;if(fe>0){if(fe&128){J(Z,pe,k,j,N,Y,re,Q,ee);return}else if(fe&256){I(Z,pe,k,j,N,Y,re,Q,ee);return}}ge&8?(le&16&&W(Z,N,Y),pe!==Z&&u(k,pe)):le&16?ge&16?J(Z,pe,k,j,N,Y,re,Q,ee):W(Z,N,Y,!0):(le&8&&u(k,""),ge&16&&A(pe,k,j,N,Y,re,Q,ee))},I=(p,_,k,j,N,Y,re,Q,ee)=>{p=p||Fn,_=_||Fn;const Z=p.length,le=_.length,pe=Math.min(Z,le);let fe;for(fe=0;fe<pe;fe++){const ge=_[fe]=ee?sn(_[fe]):xt(_[fe]);g(p[fe],ge,k,null,N,Y,re,Q,ee)}Z>le?W(p,N,Y,!0,!1,pe):A(_,k,j,N,Y,re,Q,ee,pe)},J=(p,_,k,j,N,Y,re,Q,ee)=>{let Z=0;const le=_.length;let pe=p.length-1,fe=le-1;for(;Z<=pe&&Z<=fe;){const ge=p[Z],we=_[Z]=ee?sn(_[Z]):xt(_[Z]);if(ls(ge,we))g(ge,we,k,null,N,Y,re,Q,ee);else break;Z++}for(;Z<=pe&&Z<=fe;){const ge=p[pe],we=_[fe]=ee?sn(_[fe]):xt(_[fe]);if(ls(ge,we))g(ge,we,k,null,N,Y,re,Q,ee);else break;pe--,fe--}if(Z>pe){if(Z<=fe){const ge=fe+1,we=ge<le?_[ge].el:j;for(;Z<=fe;)g(null,_[Z]=ee?sn(_[Z]):xt(_[Z]),k,we,N,Y,re,Q,ee),Z++}}else if(Z>fe)for(;Z<=pe;)X(p[Z],N,Y,!0),Z++;else{const ge=Z,we=Z,ke=new Map;for(Z=we;Z<=fe;Z++){const rt=_[Z]=ee?sn(_[Z]):xt(_[Z]);rt.key!=null&&ke.set(rt.key,Z)}let Te,Fe=0;const ht=fe-we+1;let On=!1,el=0;const is=new Array(ht);for(Z=0;Z<ht;Z++)is[Z]=0;for(Z=ge;Z<=pe;Z++){const rt=p[Z];if(Fe>=ht){X(rt,N,Y,!0);continue}let _t;if(rt.key!=null)_t=ke.get(rt.key);else for(Te=we;Te<=fe;Te++)if(is[Te-we]===0&&ls(rt,_[Te])){_t=Te;break}_t===void 0?X(rt,N,Y,!0):(is[_t-we]=Z+1,_t>=el?el=_t:On=!0,g(rt,_[_t],k,null,N,Y,re,Q,ee),Fe++)}const tl=On?Eh(is):Fn;for(Te=tl.length-1,Z=ht-1;Z>=0;Z--){const rt=we+Z,_t=_[rt],nl=rt+1<le?_[rt+1].el:j;is[Z]===0?g(null,_t,k,nl,N,Y,re,Q,ee):On&&(Te<0||Z!==tl[Te]?te(_t,k,nl,2):Te--)}}},te=(p,_,k,j,N=null)=>{const{el:Y,type:re,transition:Q,children:ee,shapeFlag:Z}=p;if(Z&6){te(p.component.subTree,_,k,j);return}if(Z&128){p.suspense.move(_,k,j);return}if(Z&64){re.move(p,_,k,V);return}if(re===xe){s(Y,_,k);for(let pe=0;pe<ee.length;pe++)te(ee[pe],_,k,j);s(p.anchor,_,k);return}if(re===Js){S(p,_,k);return}if(j!==2&&Z&1&&Q)if(j===0)Q.beforeEnter(Y),s(Y,_,k),Xe(()=>Q.enter(Y),N);else{const{leave:pe,delayLeave:fe,afterLeave:ge}=Q,we=()=>s(Y,_,k),ke=()=>{pe(Y,()=>{we(),ge&&ge()})};fe?fe(Y,we,ke):ke()}else s(Y,_,k)},X=(p,_,k,j=!1,N=!1)=>{const{type:Y,props:re,ref:Q,children:ee,dynamicChildren:Z,shapeFlag:le,patchFlag:pe,dirs:fe}=p;if(Q!=null&&Oo(Q,null,k,p,!0),le&256){_.ctx.deactivate(p);return}const ge=le&1&&fe,we=!hs(p);let ke;if(we&&(ke=re&&re.onVnodeBeforeUnmount)&&wt(ke,_,p),le&6)oe(p.component,k,j);else{if(le&128){p.suspense.unmount(k,j);return}ge&&_n(p,null,_,"beforeUnmount"),le&64?p.type.remove(p,_,k,N,V,j):Z&&(Y!==xe||pe>0&&pe&64)?W(Z,_,k,!1,!0):(Y===xe&&pe&384||!N&&le&16)&&W(ee,_,k),j&&he(p)}(we&&(ke=re&&re.onVnodeUnmounted)||ge)&&Xe(()=>{ke&&wt(ke,_,p),ge&&_n(p,null,_,"unmounted")},k)},he=p=>{const{type:_,el:k,anchor:j,transition:N}=p;if(_===xe){ne(k,j);return}if(_===Js){M(p);return}const Y=()=>{r(k),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(p.shapeFlag&1&&N&&!N.persisted){const{leave:re,delayLeave:Q}=N,ee=()=>re(k,Y);Q?Q(p.el,Y,ee):ee()}else Y()},ne=(p,_)=>{let k;for(;p!==_;)k=d(p),r(p),p=k;r(_)},oe=(p,_,k)=>{const{bum:j,scope:N,update:Y,subTree:re,um:Q}=p;j&&no(j),N.stop(),Y&&(Y.active=!1,X(re,p,_,k)),Q&&Xe(Q,_),Xe(()=>{p.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},W=(p,_,k,j=!1,N=!1,Y=0)=>{for(let re=Y;re<p.length;re++)X(p[re],_,k,j,N)},E=p=>p.shapeFlag&6?E(p.component.subTree):p.shapeFlag&128?p.suspense.next():d(p.anchor||p.el);let O=!1;const L=(p,_,k)=>{p==null?_._vnode&&X(_._vnode,null,null,!0):g(_._vnode||null,p,_,null,null,null,k),O||(O=!0,dl(),ac(),O=!1),_._vnode=p},V={p:g,um:X,m:te,r:he,mt:B,mc:A,pc:P,pbc:F,n:E,o:e};let ue,ie;return t&&([ue,ie]=t(V)),{render:L,hydrate:ue,createApp:dh(L,ue)}}function io({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function wn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function bh(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Sc(e,t,n=!1){const s=e.children,r=t.children;if(me(s)&&me(r))for(let o=0;o<s.length;o++){const i=s[o];let l=r[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[o]=sn(r[o]),l.el=i.el),n||Sc(i,l)),l.type===$r&&(l.el=i.el)}}function Eh(e){const t=e.slice(),n=[0];let s,r,o,i,l;const a=e.length;for(s=0;s<a;s++){const c=e[s];if(c!==0){if(r=n[n.length-1],e[r]<c){t[s]=r,n.push(s);continue}for(o=0,i=n.length-1;o<i;)l=o+i>>1,e[n[l]]<c?o=l+1:i=l;c<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}function kc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:kc(t)}const xh=e=>e.__isTeleport,xe=Symbol.for("v-fgt"),$r=Symbol.for("v-txt"),hn=Symbol.for("v-cmt"),Js=Symbol.for("v-stc"),gs=[];let pt=null;function T(e=!1){gs.push(pt=e?null:[])}function Rh(){gs.pop(),pt=gs[gs.length-1]||null}let Rs=1;function xl(e){Rs+=e}function $c(e){return e.dynamicChildren=Rs>0?pt||Fn:null,Rh(),Rs>0&&pt&&pt.push(e),e}function D(e,t,n,s,r,o){return $c(m(e,t,n,s,r,o,!0))}function Be(e,t,n,s,r){return $c(ye(e,t,n,s,r,!0))}function rr(e){return e?e.__v_isVNode===!0:!1}function ls(e,t){return e.type===t.type&&e.key===t.key}const Cr="__vInternal",Cc=({key:e})=>e??null,Ys=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?st(e)||je(e)||_e(e)?{i:He,r:e,k:t,f:!!n}:e:null);function m(e,t=null,n=null,s=0,r=null,o=e===xe?0:1,i=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Cc(t),ref:t&&Ys(t),scopeId:Rr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:He};return l?(Ri(a,n),o&128&&e.normalize(a)):n&&(a.shapeFlag|=st(n)?8:16),Rs>0&&!i&&pt&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&pt.push(a),a}const ye=Sh;function Sh(e,t=null,n=null,s=0,r=null,o=!1){if((!e||e===Fd)&&(e=hn),rr(e)){const l=Gn(e,t,!0);return n&&Ri(l,n),Rs>0&&!o&&pt&&(l.shapeFlag&6?pt[pt.indexOf(e)]=l:pt.push(l)),l.patchFlag|=-2,l}if(Oh(e)&&(e=e.__vccOpts),t){t=kh(t);let{class:l,style:a}=t;l&&!st(l)&&(t.class=Ie(l)),Ne(a)&&(za(a)&&!me(a)&&(a=Ze({},a)),t.style=vi(a))}const i=st(e)?1:Dd(e)?128:xh(e)?64:Ne(e)?4:_e(e)?2:0;return m(e,t,n,s,r,i,o,!0)}function kh(e){return e?za(e)||Cr in e?Ze({},e):e:null}function Gn(e,t,n=!1){const{props:s,ref:r,patchFlag:o,children:i}=e,l=t?$h(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Cc(l),ref:t&&t.ref?n&&r?me(r)?r.concat(Ys(t)):[r,Ys(t)]:Ys(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==xe?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Gn(e.ssContent),ssFallback:e.ssFallback&&Gn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function $e(e=" ",t=0){return ye($r,null,e,t)}function xi(e,t){const n=ye(Js,null,e);return n.staticCount=t,n}function ce(e="",t=!1){return t?(T(),Be(hn,null,e)):ye(hn,null,e)}function xt(e){return e==null||typeof e=="boolean"?ye(hn):me(e)?ye(xe,null,e.slice()):typeof e=="object"?sn(e):ye($r,null,String(e))}function sn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Gn(e)}function Ri(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(me(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),Ri(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(Cr in t)?t._ctx=He:r===3&&He&&(He.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else _e(t)?(t={default:t,_ctx:He},n=32):(t=String(t),s&64?(n=16,t=[$e(t)]):n=8);e.children=t,e.shapeFlag|=n}function $h(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=Ie([t.class,s.class]));else if(r==="style")t.style=vi([t.style,s.style]);else if(hi(r)){const o=t[r],i=s[r];i&&o!==i&&!(me(o)&&o.includes(i))&&(t[r]=o?[].concat(o,i):i)}else r!==""&&(t[r]=s[r])}return t}function wt(e,t,n,s=null){gt(e,t,7,[n,s])}const Ch=wc();let Ah=0;function Ih(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||Ch,o={uid:Ah++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ia(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bc(s,r),emitsOptions:uc(s,r),emit:null,emitted:null,propsDefaults:Ae,inheritAttrs:s.inheritAttrs,ctx:Ae,data:Ae,props:Ae,attrs:Ae,slots:Ae,refs:Ae,setupState:Ae,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Od.bind(null,o),e.ce&&e.ce(o),o}let ze=null,or,No;{const e=rc(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};or=t("__VUE_INSTANCE_SETTERS__",n=>ze=n),No=t("__VUE_SSR_SETTERS__",n=>Ar=n)}const Is=e=>{const t=ze;return or(e),e.scope.on(),()=>{e.scope.off(),or(t)}},Rl=()=>{ze&&ze.scope.off(),or(null)};function Ac(e){return e.vnode.shapeFlag&4}let Ar=!1;function Ph(e,t=!1){t&&No(t);const{props:n,children:s}=e.vnode,r=Ac(e);ph(e,n,r,t),vh(e,s);const o=r?Th(e,t):void 0;return t&&No(!1),o}function Th(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=_r(new Proxy(e.ctx,oh));const{setup:s}=n;if(s){const r=e.setupContext=s.length>1?Lh(e):null,o=Is(e);Tn();const i=fn(s,e,0,[e.props,r]);if(Bn(),o(),tc(i)){if(i.then(Rl,Rl),t)return i.then(l=>{Sl(e,l,t)}).catch(l=>{br(l,e,0)});e.asyncDep=i}else Sl(e,i,t)}else Ic(e,t)}function Sl(e,t,n){_e(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ne(t)&&(e.setupState=Ja(t)),Ic(e,n)}let kl;function Ic(e,t,n){const s=e.type;if(!e.render){if(!t&&kl&&!s.render){const r=s.template||bi(e).template;if(r){const{isCustomElement:o,compilerOptions:i}=e.appContext.config,{delimiters:l,compilerOptions:a}=s,c=Ze(Ze({isCustomElement:o,delimiters:l},i),a);s.render=kl(r,c)}}e.render=s.render||ct}{const r=Is(e);Tn();try{ih(e)}finally{Bn(),r()}}}function Bh(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return nt(e,"get","$attrs"),t[n]}}))}function Lh(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Bh(e)},slots:e.slots,emit:e.emit,expose:t}}function Ir(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ja(_r(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ps)return ps[n](e)},has(t,n){return n in t||n in ps}}))}function Uh(e,t=!0){return _e(e)?e.displayName||e.name:e.name||t&&e.__name}function Oh(e){return _e(e)&&"__vccOpts"in e}const Pe=(e,t)=>pd(e,t,Ar);function Pc(e,t,n){const s=arguments.length;return s===2?Ne(t)&&!me(t)?rr(t)?ye(e,null,[t]):ye(e,t):ye(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&rr(n)&&(n=[n]),ye(e,t,n))}const Nh="3.4.19";/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Mh(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const Hh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),jh=e=>e.startsWith("onUpdate:"),Fh=Object.assign,In=Array.isArray,Tc=e=>Lc(e)==="[object Set]",$l=e=>Lc(e)==="[object Date]",Bc=e=>typeof e=="function",ir=e=>typeof e=="string",Cl=e=>typeof e=="symbol",Al=e=>e!==null&&typeof e=="object",Vh=Object.prototype.toString,Lc=e=>Vh.call(e),Uc=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Dh=/\B([A-Z])/g,Oc=Uc(e=>e.replace(Dh,"-$1").toLowerCase()),qh=Uc(e=>e.charAt(0).toUpperCase()+e.slice(1)),Kh=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Il=e=>{const t=parseFloat(e);return isNaN(t)?e:t},zh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wh=Mh(zh);function Nc(e){return!!e||e===""}function Gh(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=Pr(e[s],t[s]);return n}function Pr(e,t){if(e===t)return!0;let n=$l(e),s=$l(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=Cl(e),s=Cl(t),n||s)return e===t;if(n=In(e),s=In(t),n||s)return n&&s?Gh(e,t):!1;if(n=Al(e),s=Al(t),n||s){if(!n||!s)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const i in e){const l=e.hasOwnProperty(i),a=t.hasOwnProperty(i);if(l&&!a||!l&&a||!Pr(e[i],t[i]))return!1}}return String(e)===String(t)}function Mc(e,t){return e.findIndex(n=>Pr(n,t))}/**
* @vue/runtime-dom v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Zh="http://www.w3.org/2000/svg",Jh="http://www.w3.org/1998/Math/MathML",rn=typeof document<"u"?document:null,Pl=rn&&rn.createElement("template"),Yh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?rn.createElementNS(Zh,e):t==="mathml"?rn.createElementNS(Jh,e):rn.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>rn.createTextNode(e),createComment:e=>rn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>rn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,o){const i=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{Pl.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const l=Pl.content;if(s==="svg"||s==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Qh=Symbol("_vtc");function Xh(e,t,n){const s=e[Qh];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Tl=Symbol("_vod"),ep=Symbol(""),tp=/(^|;)\s*display\s*:/;function np(e,t,n){const s=e.style,r=ir(n),o=s.display;let i=!1;if(n&&!r){if(t&&!ir(t))for(const l in t)n[l]==null&&Mo(s,l,"");for(const l in n)l==="display"&&(i=!0),Mo(s,l,n[l])}else if(r){if(t!==n){const l=s[ep];l&&(n+=";"+l),s.cssText=n,i=tp.test(n)}}else t&&e.removeAttribute("style");Tl in e&&(e[Tl]=i?s.display:"",s.display=o)}const Bl=/\s*!important$/;function Mo(e,t,n){if(In(n))n.forEach(s=>Mo(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=sp(e,t);Bl.test(n)?e.setProperty(Oc(s),n.replace(Bl,""),"important"):e[s]=n}}const Ll=["Webkit","Moz","ms"],lo={};function sp(e,t){const n=lo[t];if(n)return n;let s=Ct(t);if(s!=="filter"&&s in e)return lo[t]=s;s=qh(s);for(let r=0;r<Ll.length;r++){const o=Ll[r]+s;if(o in e)return lo[t]=o}return t}const Ul="http://www.w3.org/1999/xlink";function rp(e,t,n,s,r){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Ul,t.slice(6,t.length)):e.setAttributeNS(Ul,t,n);else{const o=Wh(t);n==null||o&&!Nc(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function op(e,t,n,s,r,o,i){if(t==="innerHTML"||t==="textContent"){s&&i(s,r,o),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const c=l==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=Nc(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}function xn(e,t,n,s){e.addEventListener(t,n,s)}function ip(e,t,n,s){e.removeEventListener(t,n,s)}const Ol=Symbol("_vei");function lp(e,t,n,s,r=null){const o=e[Ol]||(e[Ol]={}),i=o[t];if(s&&i)i.value=s;else{const[l,a]=ap(t);if(s){const c=o[t]=fp(s,r);xn(e,l,c,a)}else i&&(ip(e,l,i,a),o[t]=void 0)}}const Nl=/(?:Once|Passive|Capture)$/;function ap(e){let t;if(Nl.test(e)){t={};let s;for(;s=e.match(Nl);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Oc(e.slice(2)),t]}let ao=0;const cp=Promise.resolve(),up=()=>ao||(cp.then(()=>ao=0),ao=Date.now());function fp(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;gt(dp(s,n.value),t,5,[s])};return n.value=e,n.attached=up(),n}function dp(e,t){if(In(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const Ml=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,hp=(e,t,n,s,r,o,i,l,a)=>{const c=r==="svg";t==="class"?Xh(e,s,c):t==="style"?np(e,n,s):Hh(t)?jh(t)||lp(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):pp(e,t,s,c))?op(e,t,s,o,i,l,a):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),rp(e,t,s,c))};function pp(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ml(t)&&Bc(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Ml(t)&&ir(n)?!1:t in e}const lr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return In(t)?n=>Kh(t,n):t};function gp(e){e.target.composing=!0}function Hl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Kn=Symbol("_assign"),Ss={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[Kn]=lr(r);const o=s||r.props&&r.props.type==="number";xn(e,t?"change":"input",i=>{if(i.target.composing)return;let l=e.value;n&&(l=l.trim()),o&&(l=Il(l)),e[Kn](l)}),n&&xn(e,"change",()=>{e.value=e.value.trim()}),t||(xn(e,"compositionstart",gp),xn(e,"compositionend",Hl),xn(e,"change",Hl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:r}},o){if(e[Kn]=lr(o),e.composing)return;const i=r||e.type==="number"?Il(e.value):e.value,l=t??"";i!==l&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===l)||(e.value=l))}},yp={deep:!0,created(e,t,n){e[Kn]=lr(n),xn(e,"change",()=>{const s=e._modelValue,r=vp(e),o=e.checked,i=e[Kn];if(In(s)){const l=Mc(s,r),a=l!==-1;if(o&&!a)i(s.concat(r));else if(!o&&a){const c=[...s];c.splice(l,1),i(c)}}else if(Tc(s)){const l=new Set(s);o?l.add(r):l.delete(r),i(l)}else i(Hc(e,o))})},mounted:jl,beforeUpdate(e,t,n){e[Kn]=lr(n),jl(e,t,n)}};function jl(e,{value:t,oldValue:n},s){e._modelValue=t,In(t)?e.checked=Mc(t,s.props.value)>-1:Tc(t)?e.checked=t.has(s.props.value):t!==n&&(e.checked=Pr(t,Hc(e,!0)))}function vp(e){return"_value"in e?e._value:e.value}function Hc(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const _p=["ctrl","shift","alt","meta"],wp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>_p.some(n=>e[`${n}Key`]&&!t.includes(n))},Ho=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(r,...o)=>{for(let i=0;i<t.length;i++){const l=wp[t[i]];if(l&&l(r,t))return}return e(r,...o)})},mp=Fh({patchProp:hp},Yh);let Fl;function bp(){return Fl||(Fl=wh(mp))}const Ep=(...e)=>{const t=bp().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=Rp(s);if(!r)return;const o=t._component;!Bc(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const i=n(r,!1,xp(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function xp(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Rp(e){return ir(e)?document.querySelector(e):e}var Sp=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let jc;const Tr=e=>jc=e,Fc=Symbol();function jo(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ys;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ys||(ys={}));function kp(){const e=Pa(!0),t=e.run(()=>z({}));let n=[],s=[];const r=_r({install(o){Tr(r),r._a=o,o.provide(Fc,r),o.config.globalProperties.$pinia=r,s.forEach(i=>n.push(i)),s=[]},use(o){return!this._a&&!Sp?s.push(o):n.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const Vc=()=>{};function Vl(e,t,n,s=Vc){e.push(t);const r=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),s())};return!n&&Ta()&&Wf(r),r}function Nn(e,...t){e.slice().forEach(n=>{n(...t)})}const $p=e=>e();function Fo(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,s)=>e.set(s,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],r=e[n];jo(r)&&jo(s)&&e.hasOwnProperty(n)&&!je(s)&&!un(s)?e[n]=Fo(r,s):e[n]=s}return e}const Cp=Symbol();function Ap(e){return!jo(e)||!e.hasOwnProperty(Cp)}const{assign:tn}=Object;function Ip(e){return!!(je(e)&&e.effect)}function Pp(e,t,n,s){const{state:r,actions:o,getters:i}=t,l=n.state.value[e];let a;function c(){l||(n.state.value[e]=r?r():{});const u=_d(n.state.value[e]);return tn(u,o,Object.keys(i||{}).reduce((f,d)=>(f[d]=_r(Pe(()=>{Tr(n);const h=n._s.get(e);return i[d].call(h,h)})),f),{}))}return a=Dc(e,c,t,n,s,!0),a}function Dc(e,t,n={},s,r,o){let i;const l=tn({actions:{}},n),a={deep:!0};let c,u,f=[],d=[],h;const v=s.state.value[e];!o&&!v&&(s.state.value[e]={}),z({});let g;function y(A){let H;c=u=!1,typeof A=="function"?(A(s.state.value[e]),H={type:ys.patchFunction,storeId:e,events:h}):(Fo(s.state.value[e],A),H={type:ys.patchObject,payload:A,storeId:e,events:h});const F=g=Symbol();Er().then(()=>{g===F&&(c=!0)}),u=!0,Nn(f,H,s.state.value[e])}const w=o?function(){const{state:H}=n,F=H?H():{};this.$patch(G=>{tn(G,F)})}:Vc;function x(){i.stop(),f=[],d=[],s._s.delete(e)}function S(A,H){return function(){Tr(s);const F=Array.from(arguments),G=[],se=[];function U(R){G.push(R)}function B(R){se.push(R)}Nn(d,{args:F,name:A,store:q,after:U,onError:B});let b;try{b=H.apply(this&&this.$id===e?this:q,F)}catch(R){throw Nn(se,R),R}return b instanceof Promise?b.then(R=>(Nn(G,R),R)).catch(R=>(Nn(se,R),Promise.reject(R))):(Nn(G,b),b)}}const M={_p:s,$id:e,$onAction:Vl.bind(null,d),$patch:y,$reset:w,$subscribe(A,H={}){const F=Vl(f,A,H.detached,()=>G()),G=i.run(()=>jt(()=>s.state.value[e],se=>{(H.flush==="sync"?u:c)&&A({storeId:e,type:ys.direct,events:h},se)},tn({},a,H)));return F},$dispose:x},q=ss(M);s._s.set(e,q);const K=(s._a&&s._a.runWithContext||$p)(()=>s._e.run(()=>(i=Pa()).run(t)));for(const A in K){const H=K[A];if(je(H)&&!Ip(H)||un(H))o||(v&&Ap(H)&&(je(H)?H.value=v[A]:Fo(H,v[A])),s.state.value[e][A]=H);else if(typeof H=="function"){const F=S(A,H);K[A]=F,l.actions[A]=H}}return tn(q,K),tn(be(q),K),Object.defineProperty(q,"$state",{get:()=>s.state.value[e],set:A=>{y(H=>{tn(H,A)})}}),s._p.forEach(A=>{tn(q,i.run(()=>A({store:q,app:s._a,pinia:s,options:l})))}),v&&o&&n.hydrate&&n.hydrate(q.$state,v),c=!0,u=!0,q}function Kt(e,t,n){let s,r;const o=typeof t=="function";typeof e=="string"?(s=e,r=o?n:t):(r=e,s=e.id);function i(l,a){const c=hh();return l=l||(c?ft(Fc,null):null),l&&Tr(l),l=jc,l._s.has(s)||(o?Dc(s,t,r,l):Pp(s,r,l)),l._s.get(s)}return i.$id=s,i}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Mn=typeof window<"u";function Tp(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Re=Object.assign;function co(e,t){const n={};for(const s in t){const r=t[s];n[s]=yt(r)?r.map(e):e(r)}return n}const vs=()=>{},yt=Array.isArray,Bp=/\/$/,Lp=e=>e.replace(Bp,"");function uo(e,t,n="/"){let s,r={},o="",i="";const l=t.indexOf("#");let a=t.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(s=t.slice(0,a),o=t.slice(a+1,l>-1?l:t.length),r=e(o)),l>-1&&(s=s||t.slice(0,l),i=t.slice(l,t.length)),s=Mp(s??t,n),{fullPath:s+(o&&"?")+o+i,path:s,query:r,hash:i}}function Up(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Dl(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Op(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Zn(t.matched[s],n.matched[r])&&qc(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Zn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function qc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Np(e[n],t[n]))return!1;return!0}function Np(e,t){return yt(e)?ql(e,t):yt(t)?ql(t,e):e===t}function ql(e,t){return yt(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Mp(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let o=n.length-1,i,l;for(i=0;i<s.length;i++)if(l=s[i],l!==".")if(l==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var ks;(function(e){e.pop="pop",e.push="push"})(ks||(ks={}));var _s;(function(e){e.back="back",e.forward="forward",e.unknown=""})(_s||(_s={}));function Hp(e){if(!e)if(Mn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Lp(e)}const jp=/^[^#]+#/;function Fp(e,t){return e.replace(jp,"#")+t}function Vp(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Br=()=>({left:window.pageXOffset,top:window.pageYOffset});function Dp(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=Vp(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Kl(e,t){return(history.state?history.state.position-t:-1)+e}const Vo=new Map;function qp(e,t){Vo.set(e,t)}function Kp(e){const t=Vo.get(e);return Vo.delete(e),t}let zp=()=>location.protocol+"//"+location.host;function Kc(e,t){const{pathname:n,search:s,hash:r}=t,o=e.indexOf("#");if(o>-1){let l=r.includes(e.slice(o))?e.slice(o).length:1,a=r.slice(l);return a[0]!=="/"&&(a="/"+a),Dl(a,"")}return Dl(n,e)+s+r}function Wp(e,t,n,s){let r=[],o=[],i=null;const l=({state:d})=>{const h=Kc(e,location),v=n.value,g=t.value;let y=0;if(d){if(n.value=h,t.value=d,i&&i===v){i=null;return}y=g?d.position-g.position:0}else s(h);r.forEach(w=>{w(n.value,v,{delta:y,type:ks.pop,direction:y?y>0?_s.forward:_s.back:_s.unknown})})};function a(){i=n.value}function c(d){r.push(d);const h=()=>{const v=r.indexOf(d);v>-1&&r.splice(v,1)};return o.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(Re({},d.state,{scroll:Br()}),"")}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:a,listen:c,destroy:f}}function zl(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?Br():null}}function Gp(e){const{history:t,location:n}=window,s={value:Kc(e,n)},r={value:t.state};r.value||o(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(a,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+a:zp()+e+a;try{t[u?"replaceState":"pushState"](c,"",d),r.value=c}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function i(a,c){const u=Re({},t.state,zl(r.value.back,a,r.value.forward,!0),c,{position:r.value.position});o(a,u,!0),s.value=a}function l(a,c){const u=Re({},r.value,t.state,{forward:a,scroll:Br()});o(u.current,u,!0);const f=Re({},zl(s.value,a,null),{position:u.position+1},c);o(a,f,!1),s.value=a}return{location:s,state:r,push:l,replace:i}}function Zp(e){e=Hp(e);const t=Gp(e),n=Wp(e,t.state,t.location,t.replace);function s(o,i=!0){i||n.pauseListeners(),history.go(o)}const r=Re({location:"",base:e,go:s,createHref:Fp.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Jp(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Zp(e)}function Yp(e){return typeof e=="string"||e&&typeof e=="object"}function zc(e){return typeof e=="string"||typeof e=="symbol"}const Jt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Wc=Symbol("");var Wl;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Wl||(Wl={}));function Jn(e,t){return Re(new Error,{type:e,[Wc]:!0},t)}function Bt(e,t){return e instanceof Error&&Wc in e&&(t==null||!!(e.type&t))}const Gl="[^/]+?",Qp={sensitive:!1,strict:!1,start:!0,end:!0},Xp=/[.+*?^${}()[\]/\\]/g;function eg(e,t){const n=Re({},Qp,t),s=[];let r=n.start?"^":"";const o=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const d=c[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(r+="/"),r+=d.value.replace(Xp,"\\$&"),h+=40;else if(d.type===1){const{value:v,repeatable:g,optional:y,regexp:w}=d;o.push({name:v,repeatable:g,optional:y});const x=w||Gl;if(x!==Gl){h+=10;try{new RegExp(`(${x})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${v}" (${x}): `+M.message)}}let S=g?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;f||(S=y&&c.length<2?`(?:/${S})`:"/"+S),y&&(S+="?"),r+=S,h+=20,y&&(h+=-8),g&&(h+=-20),x===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function l(c){const u=c.match(i),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",v=o[d-1];f[v.name]=h&&v.repeatable?h.split("/"):h}return f}function a(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:v,repeatable:g,optional:y}=h,w=v in c?c[v]:"";if(yt(w)&&!g)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const x=yt(w)?w.join("/"):w;if(!x)if(y)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);u+=x}}return u||"/"}return{re:i,score:s,keys:o,parse:l,stringify:a}}function tg(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function ng(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const o=tg(s[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-s.length)===1){if(Zl(s))return 1;if(Zl(r))return-1}return r.length-s.length}function Zl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const sg={type:0,value:""},rg=/[a-zA-Z0-9_]/;function og(e){if(!e)return[[]];if(e==="/")return[[sg]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,s=n;const r=[];let o;function i(){o&&r.push(o),o=[]}let l=0,a,c="",u="";function f(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=a}for(;l<e.length;){if(a=e[l++],a==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:a==="/"?(c&&f(),i()):a===":"?(f(),n=1):d();break;case 4:d(),n=s;break;case 1:a==="("?n=2:rg.test(a)?d():(f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),i(),r}function ig(e,t,n){const s=eg(og(e.path),n),r=Re(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function lg(e,t){const n=[],s=new Map;t=Ql({strict:!1,end:!0,sensitive:!1},t);function r(u){return s.get(u)}function o(u,f,d){const h=!d,v=ag(u);v.aliasOf=d&&d.record;const g=Ql(t,u),y=[v];if("alias"in u){const S=typeof u.alias=="string"?[u.alias]:u.alias;for(const M of S)y.push(Re({},v,{components:d?d.record.components:v.components,path:M,aliasOf:d?d.record:v}))}let w,x;for(const S of y){const{path:M}=S;if(f&&M[0]!=="/"){const q=f.record.path,C=q[q.length-1]==="/"?"":"/";S.path=f.record.path+(M&&C+M)}if(w=ig(S,f,g),d?d.alias.push(w):(x=x||w,x!==w&&x.alias.push(w),h&&u.name&&!Yl(w)&&i(u.name)),v.children){const q=v.children;for(let C=0;C<q.length;C++)o(q[C],w,d&&d.children[C])}d=d||w,(w.record.components&&Object.keys(w.record.components).length||w.record.name||w.record.redirect)&&a(w)}return x?()=>{i(x)}:vs}function i(u){if(zc(u)){const f=s.get(u);f&&(s.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&s.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function l(){return n}function a(u){let f=0;for(;f<n.length&&ng(u,n[f])>=0&&(u.record.path!==n[f].record.path||!Gc(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!Yl(u)&&s.set(u.record.name,u)}function c(u,f){let d,h={},v,g;if("name"in u&&u.name){if(d=s.get(u.name),!d)throw Jn(1,{location:u});g=d.record.name,h=Re(Jl(f.params,d.keys.filter(x=>!x.optional).map(x=>x.name)),u.params&&Jl(u.params,d.keys.map(x=>x.name))),v=d.stringify(h)}else if("path"in u)v=u.path,d=n.find(x=>x.re.test(v)),d&&(h=d.parse(v),g=d.record.name);else{if(d=f.name?s.get(f.name):n.find(x=>x.re.test(f.path)),!d)throw Jn(1,{location:u,currentLocation:f});g=d.record.name,h=Re({},f.params,u.params),v=d.stringify(h)}const y=[];let w=d;for(;w;)y.unshift(w.record),w=w.parent;return{name:g,path:v,params:h,matched:y,meta:ug(y)}}return e.forEach(u=>o(u)),{addRoute:o,resolve:c,removeRoute:i,getRoutes:l,getRecordMatcher:r}}function Jl(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function ag(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:cg(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function cg(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function Yl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ug(e){return e.reduce((t,n)=>Re(t,n.meta),{})}function Ql(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Gc(e,t){return t.children.some(n=>n===e||Gc(e,n))}const Zc=/#/g,fg=/&/g,dg=/\//g,hg=/=/g,pg=/\?/g,Jc=/\+/g,gg=/%5B/g,yg=/%5D/g,Yc=/%5E/g,vg=/%60/g,Qc=/%7B/g,_g=/%7C/g,Xc=/%7D/g,wg=/%20/g;function Si(e){return encodeURI(""+e).replace(_g,"|").replace(gg,"[").replace(yg,"]")}function mg(e){return Si(e).replace(Qc,"{").replace(Xc,"}").replace(Yc,"^")}function Do(e){return Si(e).replace(Jc,"%2B").replace(wg,"+").replace(Zc,"%23").replace(fg,"%26").replace(vg,"`").replace(Qc,"{").replace(Xc,"}").replace(Yc,"^")}function bg(e){return Do(e).replace(hg,"%3D")}function Eg(e){return Si(e).replace(Zc,"%23").replace(pg,"%3F")}function xg(e){return e==null?"":Eg(e).replace(dg,"%2F")}function ar(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Rg(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const o=s[r].replace(Jc," "),i=o.indexOf("="),l=ar(i<0?o:o.slice(0,i)),a=i<0?null:ar(o.slice(i+1));if(l in t){let c=t[l];yt(c)||(c=t[l]=[c]),c.push(a)}else t[l]=a}return t}function Xl(e){let t="";for(let n in e){const s=e[n];if(n=bg(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(yt(s)?s.map(o=>o&&Do(o)):[s&&Do(s)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function Sg(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=yt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const kg=Symbol(""),ea=Symbol(""),Lr=Symbol(""),ki=Symbol(""),qo=Symbol("");function as(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function on(e,t,n,s,r){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((i,l)=>{const a=f=>{f===!1?l(Jn(4,{from:n,to:t})):f instanceof Error?l(f):Yp(f)?l(Jn(2,{from:t,to:f})):(o&&s.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),i())},c=e.call(s&&s.instances[r],t,n,a);let u=Promise.resolve(c);e.length<3&&(u=u.then(a)),u.catch(f=>l(f))})}function fo(e,t,n,s){const r=[];for(const o of e)for(const i in o.components){let l=o.components[i];if(!(t!=="beforeRouteEnter"&&!o.instances[i]))if($g(l)){const c=(l.__vccOpts||l)[t];c&&r.push(on(c,n,s,o,i))}else{let a=l();r.push(()=>a.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${o.path}"`));const u=Tp(c)?c.default:c;o.components[i]=u;const d=(u.__vccOpts||u)[t];return d&&on(d,n,s,o,i)()}))}}return r}function $g(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ta(e){const t=ft(Lr),n=ft(ki),s=Pe(()=>t.resolve(de(e.to))),r=Pe(()=>{const{matched:a}=s.value,{length:c}=a,u=a[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(Zn.bind(null,u));if(d>-1)return d;const h=na(a[c-2]);return c>1&&na(u)===h&&f[f.length-1].path!==h?f.findIndex(Zn.bind(null,a[c-2])):d}),o=Pe(()=>r.value>-1&&Pg(n.params,s.value.params)),i=Pe(()=>r.value>-1&&r.value===n.matched.length-1&&qc(n.params,s.value.params));function l(a={}){return Ig(a)?t[de(e.replace)?"replace":"push"](de(e.to)).catch(vs):Promise.resolve()}return{route:s,href:Pe(()=>s.value.href),isActive:o,isExactActive:i,navigate:l}}const Cg=Me({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ta,setup(e,{slots:t}){const n=ss(ta(e)),{options:s}=ft(Lr),r=Pe(()=>({[sa(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[sa(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:Pc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),Ag=Cg;function Ig(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Pg(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!yt(r)||r.length!==s.length||s.some((o,i)=>o!==r[i]))return!1}return!0}function na(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const sa=(e,t,n)=>e??t??n,Tg=Me({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=ft(qo),r=Pe(()=>e.route||s.value),o=ft(ea,0),i=Pe(()=>{let c=de(o);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),l=Pe(()=>r.value.matched[i.value]);Zs(ea,Pe(()=>i.value+1)),Zs(kg,l),Zs(qo,r);const a=z();return jt(()=>[a.value,l.value,e.name],([c,u,f],[d,h,v])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Zn(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=r.value,u=e.name,f=l.value,d=f&&f.components[u];if(!d)return ra(n.default,{Component:d,route:c});const h=f.props[u],v=h?h===!0?c.params:typeof h=="function"?h(c):h:null,y=Pc(d,Re({},v,t,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(f.instances[u]=null)},ref:a}));return ra(n.default,{Component:y,route:c})||y}}});function ra(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Bg=Tg;function Lg(e){const t=lg(e.routes,e),n=e.parseQuery||Rg,s=e.stringifyQuery||Xl,r=e.history,o=as(),i=as(),l=as(),a=gd(Jt);let c=Jt;Mn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=co.bind(null,E=>""+E),f=co.bind(null,xg),d=co.bind(null,ar);function h(E,O){let L,V;return zc(E)?(L=t.getRecordMatcher(E),V=O):V=E,t.addRoute(V,L)}function v(E){const O=t.getRecordMatcher(E);O&&t.removeRoute(O)}function g(){return t.getRoutes().map(E=>E.record)}function y(E){return!!t.getRecordMatcher(E)}function w(E,O){if(O=Re({},O||a.value),typeof E=="string"){const _=uo(n,E,O.path),k=t.resolve({path:_.path},O),j=r.createHref(_.fullPath);return Re(_,k,{params:d(k.params),hash:ar(_.hash),redirectedFrom:void 0,href:j})}let L;if("path"in E)L=Re({},E,{path:uo(n,E.path,O.path).path});else{const _=Re({},E.params);for(const k in _)_[k]==null&&delete _[k];L=Re({},E,{params:f(_)}),O.params=f(O.params)}const V=t.resolve(L,O),ue=E.hash||"";V.params=u(d(V.params));const ie=Up(s,Re({},E,{hash:mg(ue),path:V.path})),p=r.createHref(ie);return Re({fullPath:ie,hash:ue,query:s===Xl?Sg(E.query):E.query||{}},V,{redirectedFrom:void 0,href:p})}function x(E){return typeof E=="string"?uo(n,E,a.value.path):Re({},E)}function S(E,O){if(c!==E)return Jn(8,{from:O,to:E})}function M(E){return K(E)}function q(E){return M(Re(x(E),{replace:!0}))}function C(E){const O=E.matched[E.matched.length-1];if(O&&O.redirect){const{redirect:L}=O;let V=typeof L=="function"?L(E):L;return typeof V=="string"&&(V=V.includes("?")||V.includes("#")?V=x(V):{path:V},V.params={}),Re({query:E.query,hash:E.hash,params:"path"in V?{}:E.params},V)}}function K(E,O){const L=c=w(E),V=a.value,ue=E.state,ie=E.force,p=E.replace===!0,_=C(L);if(_)return K(Re(x(_),{state:typeof _=="object"?Re({},ue,_.state):ue,force:ie,replace:p}),O||L);const k=L;k.redirectedFrom=O;let j;return!ie&&Op(s,V,L)&&(j=Jn(16,{to:k,from:V}),te(V,V,!0,!1)),(j?Promise.resolve(j):F(k,V)).catch(N=>Bt(N)?Bt(N,2)?N:J(N):P(N,k,V)).then(N=>{if(N){if(Bt(N,2))return K(Re({replace:p},x(N.to),{state:typeof N.to=="object"?Re({},ue,N.to.state):ue,force:ie}),O||k)}else N=se(k,V,!0,p,ue);return G(k,V,N),N})}function A(E,O){const L=S(E,O);return L?Promise.reject(L):Promise.resolve()}function H(E){const O=ne.values().next().value;return O&&typeof O.runWithContext=="function"?O.runWithContext(E):E()}function F(E,O){let L;const[V,ue,ie]=Ug(E,O);L=fo(V.reverse(),"beforeRouteLeave",E,O);for(const _ of V)_.leaveGuards.forEach(k=>{L.push(on(k,E,O))});const p=A.bind(null,E,O);return L.push(p),W(L).then(()=>{L=[];for(const _ of o.list())L.push(on(_,E,O));return L.push(p),W(L)}).then(()=>{L=fo(ue,"beforeRouteUpdate",E,O);for(const _ of ue)_.updateGuards.forEach(k=>{L.push(on(k,E,O))});return L.push(p),W(L)}).then(()=>{L=[];for(const _ of ie)if(_.beforeEnter)if(yt(_.beforeEnter))for(const k of _.beforeEnter)L.push(on(k,E,O));else L.push(on(_.beforeEnter,E,O));return L.push(p),W(L)}).then(()=>(E.matched.forEach(_=>_.enterCallbacks={}),L=fo(ie,"beforeRouteEnter",E,O),L.push(p),W(L))).then(()=>{L=[];for(const _ of i.list())L.push(on(_,E,O));return L.push(p),W(L)}).catch(_=>Bt(_,8)?_:Promise.reject(_))}function G(E,O,L){l.list().forEach(V=>H(()=>V(E,O,L)))}function se(E,O,L,V,ue){const ie=S(E,O);if(ie)return ie;const p=O===Jt,_=Mn?history.state:{};L&&(V||p?r.replace(E.fullPath,Re({scroll:p&&_&&_.scroll},ue)):r.push(E.fullPath,ue)),a.value=E,te(E,O,L,p),J()}let U;function B(){U||(U=r.listen((E,O,L)=>{if(!oe.listening)return;const V=w(E),ue=C(V);if(ue){K(Re(ue,{replace:!0}),V).catch(vs);return}c=V;const ie=a.value;Mn&&qp(Kl(ie.fullPath,L.delta),Br()),F(V,ie).catch(p=>Bt(p,12)?p:Bt(p,2)?(K(p.to,V).then(_=>{Bt(_,20)&&!L.delta&&L.type===ks.pop&&r.go(-1,!1)}).catch(vs),Promise.reject()):(L.delta&&r.go(-L.delta,!1),P(p,V,ie))).then(p=>{p=p||se(V,ie,!1),p&&(L.delta&&!Bt(p,8)?r.go(-L.delta,!1):L.type===ks.pop&&Bt(p,20)&&r.go(-1,!1)),G(V,ie,p)}).catch(vs)}))}let b=as(),R=as(),$;function P(E,O,L){J(E);const V=R.list();return V.length?V.forEach(ue=>ue(E,O,L)):console.error(E),Promise.reject(E)}function I(){return $&&a.value!==Jt?Promise.resolve():new Promise((E,O)=>{b.add([E,O])})}function J(E){return $||($=!E,B(),b.list().forEach(([O,L])=>E?L(E):O()),b.reset()),E}function te(E,O,L,V){const{scrollBehavior:ue}=e;if(!Mn||!ue)return Promise.resolve();const ie=!L&&Kp(Kl(E.fullPath,0))||(V||!L)&&history.state&&history.state.scroll||null;return Er().then(()=>ue(E,O,ie)).then(p=>p&&Dp(p)).catch(p=>P(p,E,O))}const X=E=>r.go(E);let he;const ne=new Set,oe={currentRoute:a,listening:!0,addRoute:h,removeRoute:v,hasRoute:y,getRoutes:g,resolve:w,options:e,push:M,replace:q,go:X,back:()=>X(-1),forward:()=>X(1),beforeEach:o.add,beforeResolve:i.add,afterEach:l.add,onError:R.add,isReady:I,install(E){const O=this;E.component("RouterLink",Ag),E.component("RouterView",Bg),E.config.globalProperties.$router=O,Object.defineProperty(E.config.globalProperties,"$route",{enumerable:!0,get:()=>de(a)}),Mn&&!he&&a.value===Jt&&(he=!0,M(r.location).catch(ue=>{}));const L={};for(const ue in Jt)Object.defineProperty(L,ue,{get:()=>a.value[ue],enumerable:!0});E.provide(Lr,O),E.provide(ki,qa(L)),E.provide(qo,a);const V=E.unmount;ne.add(E),E.unmount=function(){ne.delete(E),ne.size<1&&(c=Jt,U&&U(),U=null,a.value=Jt,he=!1,$=!1),V()}}};function W(E){return E.reduce((O,L)=>O.then(()=>H(L)),Promise.resolve())}return oe}function Ug(e,t){const n=[],s=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let i=0;i<o;i++){const l=t.matched[i];l&&(e.matched.find(c=>Zn(c,l))?s.push(l):n.push(l));const a=e.matched[i];a&&(t.matched.find(c=>Zn(c,a))||r.push(a))}return[n,s,r]}function Ur(){return ft(Lr)}function Ps(){return ft(ki)}function oa(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function eu(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Og(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");oa(e.outputLen),oa(e.blockLen)}function cr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ng(e,t){eu(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const ho=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tu=e=>e instanceof Uint8Array,po=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),mt=(e,t)=>e<<32-t|e>>>t,Mg=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Mg)throw new Error("Non little-endian hardware is not supported");function Hg(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function $i(e){if(typeof e=="string"&&(e=Hg(e)),!tu(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function jg(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!tu(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}let nu=class{clone(){return this._cloneInto()}};function Fg(e){const t=s=>e().update($i(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function su(e=32){if(ho&&typeof ho.getRandomValues=="function")return ho.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Vg(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const r=BigInt(32),o=BigInt(4294967295),i=Number(n>>r&o),l=Number(n&o),a=s?4:0,c=s?0:4;e.setUint32(t+a,i,s),e.setUint32(t+c,l,s)}let Dg=class extends nu{constructor(t,n,s,r){super(),this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=po(this.buffer)}update(t){cr(this);const{view:n,buffer:s,blockLen:r}=this;t=$i(t);const o=t.length;for(let i=0;i<o;){const l=Math.min(r-this.pos,o-i);if(l===r){const a=po(t);for(;r<=o-i;i+=r)this.process(a,i);continue}s.set(t.subarray(i,i+l),this.pos),this.pos+=l,i+=l,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){cr(this),Ng(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(s,0),i=0);for(let f=i;f<r;f++)n[f]=0;Vg(s,r-8,BigInt(this.length*8),o),this.process(s,0);const l=po(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)l.setUint32(4*f,u[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:o,destroyed:i,pos:l}=this;return t.length=r,t.pos=l,t.finished=o,t.destroyed=i,r%n&&t.buffer.set(s),t}};const qg=(e,t,n)=>e&t^~e&n,Kg=(e,t,n)=>e&t^e&n^t&n,zg=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Yt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Qt=new Uint32Array(64);let Wg=class extends Dg{constructor(){super(64,32,8,!1),this.A=Yt[0]|0,this.B=Yt[1]|0,this.C=Yt[2]|0,this.D=Yt[3]|0,this.E=Yt[4]|0,this.F=Yt[5]|0,this.G=Yt[6]|0,this.H=Yt[7]|0}get(){const{A:t,B:n,C:s,D:r,E:o,F:i,G:l,H:a}=this;return[t,n,s,r,o,i,l,a]}set(t,n,s,r,o,i,l,a){this.A=t|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=o|0,this.F=i|0,this.G=l|0,this.H=a|0}process(t,n){for(let f=0;f<16;f++,n+=4)Qt[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=Qt[f-15],h=Qt[f-2],v=mt(d,7)^mt(d,18)^d>>>3,g=mt(h,17)^mt(h,19)^h>>>10;Qt[f]=g+Qt[f-7]+v+Qt[f-16]|0}let{A:s,B:r,C:o,D:i,E:l,F:a,G:c,H:u}=this;for(let f=0;f<64;f++){const d=mt(l,6)^mt(l,11)^mt(l,25),h=u+d+qg(l,a,c)+zg[f]+Qt[f]|0,g=(mt(s,2)^mt(s,13)^mt(s,22))+Kg(s,r,o)|0;u=c,c=a,a=l,l=i+h|0,i=o,o=r,r=s,s=h+g|0}s=s+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,l=l+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(s,r,o,i,l,a,c,u)}roundClean(){Qt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Ko=Fg(()=>new Wg);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ru=BigInt(0),Or=BigInt(1),Gg=BigInt(2),Nr=e=>e instanceof Uint8Array,Zg=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Yn(e){if(!Nr(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Zg[e[n]];return t}function ou(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Ci(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Qn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let s=0;s<n.length;s++){const r=s*2,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[s]=i}return n}function tt(e){return Ci(Yn(e))}function Ai(e){if(!Nr(e))throw new Error("Uint8Array expected");return Ci(Yn(Uint8Array.from(e).reverse()))}function pn(e,t){return Qn(e.toString(16).padStart(t*2,"0"))}function Ii(e,t){return pn(e,t).reverse()}function Jg(e){return Qn(ou(e))}function We(e,t,n){let s;if(typeof t=="string")try{s=Qn(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(Nr(t))s=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const r=s.length;if(typeof n=="number"&&r!==n)throw new Error(`${e} expected ${n} bytes, got ${r}`);return s}function Pn(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!Nr(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}function Yg(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Qg(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Xg(e){let t;for(t=0;e>ru;e>>=Or,t+=1);return t}function e0(e,t){return e>>BigInt(t)&Or}const t0=(e,t,n)=>e|(n?Or:ru)<<BigInt(t),Pi=e=>(Gg<<BigInt(e-1))-Or,go=e=>new Uint8Array(e),ia=e=>Uint8Array.from(e);function iu(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let s=go(e),r=go(e),o=0;const i=()=>{s.fill(1),r.fill(0),o=0},l=(...f)=>n(r,s,...f),a=(f=go())=>{r=l(ia([0]),f),s=l(),f.length!==0&&(r=l(ia([1]),f),s=l())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<t;){s=l();const h=s.slice();d.push(h),f+=s.length}return Pn(...d)};return(f,d)=>{i(),a(f);let h;for(;!(h=d(c()));)a();return i(),h}}const n0={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Ts(e,t,n={}){const s=(r,o,i)=>{const l=n0[o];if(typeof l!="function")throw new Error(`Invalid validator "${o}", expected function`);const a=e[r];if(!(i&&a===void 0)&&!l(a,e))throw new Error(`Invalid param ${String(r)}=${a} (${typeof a}), expected ${o}`)};for(const[r,o]of Object.entries(t))s(r,o,!1);for(const[r,o]of Object.entries(n))s(r,o,!0);return e}const s0=Object.freeze(Object.defineProperty({__proto__:null,bitGet:e0,bitLen:Xg,bitMask:Pi,bitSet:t0,bytesToHex:Yn,bytesToNumberBE:tt,bytesToNumberLE:Ai,concatBytes:Pn,createHmacDrbg:iu,ensureBytes:We,equalBytes:Yg,hexToBytes:Qn,hexToNumber:Ci,numberToBytesBE:pn,numberToBytesLE:Ii,numberToHexUnpadded:ou,numberToVarBytesBE:Jg,utf8ToBytes:Qg,validateObject:Ts},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ve=BigInt(0),Le=BigInt(1),Rn=BigInt(2),r0=BigInt(3),zo=BigInt(4),la=BigInt(5),aa=BigInt(8);BigInt(9);BigInt(16);function Ke(e,t){const n=e%t;return n>=Ve?n:t+n}function o0(e,t,n){if(n<=Ve||t<Ve)throw new Error("Expected power/modulo > 0");if(n===Le)return Ve;let s=Le;for(;t>Ve;)t&Le&&(s=s*e%n),e=e*e%n,t>>=Le;return s}function it(e,t,n){let s=e;for(;t-- >Ve;)s*=s,s%=n;return s}function Wo(e,t){if(e===Ve||t<=Ve)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Ke(e,t),s=t,r=Ve,o=Le;for(;n!==Ve;){const l=s/n,a=s%n,c=r-o*l;s=n,n=a,r=o,o=c}if(s!==Le)throw new Error("invert: does not exist");return Ke(r,t)}function i0(e){const t=(e-Le)/Rn;let n,s,r;for(n=e-Le,s=0;n%Rn===Ve;n/=Rn,s++);for(r=Rn;r<e&&o0(r,t,e)!==e-Le;r++);if(s===1){const i=(e+Le)/zo;return function(a,c){const u=a.pow(c,i);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const o=(n+Le)/Rn;return function(l,a){if(l.pow(a,t)===l.neg(l.ONE))throw new Error("Cannot find square root");let c=s,u=l.pow(l.mul(l.ONE,r),n),f=l.pow(a,o),d=l.pow(a,n);for(;!l.eql(d,l.ONE);){if(l.eql(d,l.ZERO))return l.ZERO;let h=1;for(let g=l.sqr(d);h<c&&!l.eql(g,l.ONE);h++)g=l.sqr(g);const v=l.pow(u,Le<<BigInt(c-h-1));u=l.sqr(v),f=l.mul(f,v),d=l.mul(d,u),c=h}return f}}function l0(e){if(e%zo===r0){const t=(e+Le)/zo;return function(s,r){const o=s.pow(r,t);if(!s.eql(s.sqr(o),r))throw new Error("Cannot find square root");return o}}if(e%aa===la){const t=(e-la)/aa;return function(s,r){const o=s.mul(r,Rn),i=s.pow(o,t),l=s.mul(r,i),a=s.mul(s.mul(l,Rn),i),c=s.mul(l,s.sub(a,s.ONE));if(!s.eql(s.sqr(c),r))throw new Error("Cannot find square root");return c}}return i0(e)}const a0=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function c0(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=a0.reduce((s,r)=>(s[r]="function",s),t);return Ts(e,n)}function u0(e,t,n){if(n<Ve)throw new Error("Expected power > 0");if(n===Ve)return e.ONE;if(n===Le)return t;let s=e.ONE,r=t;for(;n>Ve;)n&Le&&(s=e.mul(s,r)),r=e.sqr(r),n>>=Le;return s}function f0(e,t){const n=new Array(t.length),s=t.reduce((o,i,l)=>e.is0(i)?o:(n[l]=o,e.mul(o,i)),e.ONE),r=e.inv(s);return t.reduceRight((o,i,l)=>e.is0(i)?o:(n[l]=e.mul(o,n[l]),e.mul(o,i)),r),n}function lu(e,t){const n=t!==void 0?t:e.toString(2).length,s=Math.ceil(n/8);return{nBitLength:n,nByteLength:s}}function d0(e,t,n=!1,s={}){if(e<=Ve)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:r,nByteLength:o}=lu(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=l0(e),l=Object.freeze({ORDER:e,BITS:r,BYTES:o,MASK:Pi(r),ZERO:Ve,ONE:Le,create:a=>Ke(a,e),isValid:a=>{if(typeof a!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof a}`);return Ve<=a&&a<e},is0:a=>a===Ve,isOdd:a=>(a&Le)===Le,neg:a=>Ke(-a,e),eql:(a,c)=>a===c,sqr:a=>Ke(a*a,e),add:(a,c)=>Ke(a+c,e),sub:(a,c)=>Ke(a-c,e),mul:(a,c)=>Ke(a*c,e),pow:(a,c)=>u0(l,a,c),div:(a,c)=>Ke(a*Wo(c,e),e),sqrN:a=>a*a,addN:(a,c)=>a+c,subN:(a,c)=>a-c,mulN:(a,c)=>a*c,inv:a=>Wo(a,e),sqrt:s.sqrt||(a=>i(l,a)),invertBatch:a=>f0(l,a),cmov:(a,c,u)=>u?c:a,toBytes:a=>n?Ii(a,o):pn(a,o),fromBytes:a=>{if(a.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${a.length}`);return n?Ai(a):tt(a)}});return Object.freeze(l)}function au(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function cu(e){const t=au(e);return t+Math.ceil(t/2)}function h0(e,t,n=!1){const s=e.length,r=au(t),o=cu(t);if(s<16||s<o||s>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${s}`);const i=n?tt(e):Ai(e),l=Ke(i,t-Le)+Le;return n?Ii(l,r):pn(l,r)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const p0=BigInt(0),yo=BigInt(1);function g0(e,t){const n=(r,o)=>{const i=o.negate();return r?i:o},s=r=>{const o=Math.ceil(t/r)+1,i=2**(r-1);return{windows:o,windowSize:i}};return{constTimeNegate:n,unsafeLadder(r,o){let i=e.ZERO,l=r;for(;o>p0;)o&yo&&(i=i.add(l)),l=l.double(),o>>=yo;return i},precomputeWindow(r,o){const{windows:i,windowSize:l}=s(o),a=[];let c=r,u=c;for(let f=0;f<i;f++){u=c,a.push(u);for(let d=1;d<l;d++)u=u.add(c),a.push(u);c=u.double()}return a},wNAF(r,o,i){const{windows:l,windowSize:a}=s(r);let c=e.ZERO,u=e.BASE;const f=BigInt(2**r-1),d=2**r,h=BigInt(r);for(let v=0;v<l;v++){const g=v*a;let y=Number(i&f);i>>=h,y>a&&(y-=d,i+=yo);const w=g,x=g+Math.abs(y)-1,S=v%2!==0,M=y<0;y===0?u=u.add(n(S,o[w])):c=c.add(n(M,o[x]))}return{p:c,f:u}},wNAFCached(r,o,i,l){const a=r._WINDOW_SIZE||1;let c=o.get(r);return c||(c=this.precomputeWindow(r,a),a!==1&&o.set(r,l(c))),this.wNAF(a,c,i)}}}function uu(e){return c0(e.Fp),Ts(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...lu(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function y0(e){const t=uu(e);Ts(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:s,a:r}=t;if(n){if(!s.eql(r,s.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:v0,hexToBytes:_0}=s0,kn={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=kn;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],s=e.subarray(2,n+2);if(!n||s.length!==n)throw new t("Invalid signature integer: wrong length");if(s[0]&128)throw new t("Invalid signature integer: negative");if(s[0]===0&&!(s[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:v0(s),l:e.subarray(n+2)}},toSig(e){const{Err:t}=kn,n=typeof e=="string"?_0(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let s=n.length;if(s<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==s-2)throw new t("Invalid signature: incorrect length");const{d:r,l:o}=kn._parseInt(n.subarray(2)),{d:i,l}=kn._parseInt(o);if(l.length)throw new t("Invalid signature: left bytes after parsing");return{r,s:i}},hexFromSig(e){const t=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},s=t(n(e.s)),r=t(n(e.r)),o=s.length/2,i=r.length/2,l=n(o),a=n(i);return`30${n(i+o+4)}02${a}${r}02${l}${s}`}},Nt=BigInt(0),lt=BigInt(1);BigInt(2);const ca=BigInt(3);BigInt(4);function w0(e){const t=y0(e),{Fp:n}=t,s=t.toBytes||((v,g,y)=>{const w=g.toAffine();return Pn(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),r=t.fromBytes||(v=>{const g=v.subarray(1),y=n.fromBytes(g.subarray(0,n.BYTES)),w=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x:y,y:w}});function o(v){const{a:g,b:y}=t,w=n.sqr(v),x=n.mul(w,v);return n.add(n.add(x,n.mul(v,g)),y)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function i(v){return typeof v=="bigint"&&Nt<v&&v<t.n}function l(v){if(!i(v))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function a(v){const{allowedPrivateKeyLengths:g,nByteLength:y,wrapPrivateKey:w,n:x}=t;if(g&&typeof v!="bigint"){if(v instanceof Uint8Array&&(v=Yn(v)),typeof v!="string"||!g.includes(v.length))throw new Error("Invalid key");v=v.padStart(y*2,"0")}let S;try{S=typeof v=="bigint"?v:tt(We("private key",v,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof v}`)}return w&&(S=Ke(S,x)),l(S),S}const c=new Map;function u(v){if(!(v instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(g,y,w){if(this.px=g,this.py=y,this.pz=w,g==null||!n.isValid(g))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required")}static fromAffine(g){const{x:y,y:w}=g||{};if(!g||!n.isValid(y)||!n.isValid(w))throw new Error("invalid affine point");if(g instanceof f)throw new Error("projective point not allowed");const x=S=>n.eql(S,n.ZERO);return x(y)&&x(w)?f.ZERO:new f(y,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const y=n.invertBatch(g.map(w=>w.pz));return g.map((w,x)=>w.toAffine(y[x])).map(f.fromAffine)}static fromHex(g){const y=f.fromAffine(r(We("pointHex",g)));return y.assertValidity(),y}static fromPrivateKey(g){return f.BASE.multiply(a(g))}_setWindowSize(g){this._WINDOW_SIZE=g,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y}=this.toAffine();if(!n.isValid(g)||!n.isValid(y))throw new Error("bad point: x or y not FE");const w=n.sqr(y),x=o(g);if(!n.eql(w,x))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){u(g);const{px:y,py:w,pz:x}=this,{px:S,py:M,pz:q}=g,C=n.eql(n.mul(y,q),n.mul(S,x)),K=n.eql(n.mul(w,q),n.mul(M,x));return C&&K}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:g,b:y}=t,w=n.mul(y,ca),{px:x,py:S,pz:M}=this;let q=n.ZERO,C=n.ZERO,K=n.ZERO,A=n.mul(x,x),H=n.mul(S,S),F=n.mul(M,M),G=n.mul(x,S);return G=n.add(G,G),K=n.mul(x,M),K=n.add(K,K),q=n.mul(g,K),C=n.mul(w,F),C=n.add(q,C),q=n.sub(H,C),C=n.add(H,C),C=n.mul(q,C),q=n.mul(G,q),K=n.mul(w,K),F=n.mul(g,F),G=n.sub(A,F),G=n.mul(g,G),G=n.add(G,K),K=n.add(A,A),A=n.add(K,A),A=n.add(A,F),A=n.mul(A,G),C=n.add(C,A),F=n.mul(S,M),F=n.add(F,F),A=n.mul(F,G),q=n.sub(q,A),K=n.mul(F,H),K=n.add(K,K),K=n.add(K,K),new f(q,C,K)}add(g){u(g);const{px:y,py:w,pz:x}=this,{px:S,py:M,pz:q}=g;let C=n.ZERO,K=n.ZERO,A=n.ZERO;const H=t.a,F=n.mul(t.b,ca);let G=n.mul(y,S),se=n.mul(w,M),U=n.mul(x,q),B=n.add(y,w),b=n.add(S,M);B=n.mul(B,b),b=n.add(G,se),B=n.sub(B,b),b=n.add(y,x);let R=n.add(S,q);return b=n.mul(b,R),R=n.add(G,U),b=n.sub(b,R),R=n.add(w,x),C=n.add(M,q),R=n.mul(R,C),C=n.add(se,U),R=n.sub(R,C),A=n.mul(H,b),C=n.mul(F,U),A=n.add(C,A),C=n.sub(se,A),A=n.add(se,A),K=n.mul(C,A),se=n.add(G,G),se=n.add(se,G),U=n.mul(H,U),b=n.mul(F,b),se=n.add(se,U),U=n.sub(G,U),U=n.mul(H,U),b=n.add(b,U),G=n.mul(se,b),K=n.add(K,G),G=n.mul(R,b),C=n.mul(B,C),C=n.sub(C,G),G=n.mul(B,se),A=n.mul(R,A),A=n.add(A,G),new f(C,K,A)}subtract(g){return this.add(g.negate())}is0(){return this.equals(f.ZERO)}wNAF(g){return h.wNAFCached(this,c,g,y=>{const w=n.invertBatch(y.map(x=>x.pz));return y.map((x,S)=>x.toAffine(w[S])).map(f.fromAffine)})}multiplyUnsafe(g){const y=f.ZERO;if(g===Nt)return y;if(l(g),g===lt)return this;const{endo:w}=t;if(!w)return h.unsafeLadder(this,g);let{k1neg:x,k1:S,k2neg:M,k2:q}=w.splitScalar(g),C=y,K=y,A=this;for(;S>Nt||q>Nt;)S&lt&&(C=C.add(A)),q&lt&&(K=K.add(A)),A=A.double(),S>>=lt,q>>=lt;return x&&(C=C.negate()),M&&(K=K.negate()),K=new f(n.mul(K.px,w.beta),K.py,K.pz),C.add(K)}multiply(g){l(g);let y=g,w,x;const{endo:S}=t;if(S){const{k1neg:M,k1:q,k2neg:C,k2:K}=S.splitScalar(y);let{p:A,f:H}=this.wNAF(q),{p:F,f:G}=this.wNAF(K);A=h.constTimeNegate(M,A),F=h.constTimeNegate(C,F),F=new f(n.mul(F.px,S.beta),F.py,F.pz),w=A.add(F),x=H.add(G)}else{const{p:M,f:q}=this.wNAF(y);w=M,x=q}return f.normalizeZ([w,x])[0]}multiplyAndAddUnsafe(g,y,w){const x=f.BASE,S=(q,C)=>C===Nt||C===lt||!q.equals(x)?q.multiplyUnsafe(C):q.multiply(C),M=S(this,y).add(S(g,w));return M.is0()?void 0:M}toAffine(g){const{px:y,py:w,pz:x}=this,S=this.is0();g==null&&(g=S?n.ONE:n.inv(x));const M=n.mul(y,g),q=n.mul(w,g),C=n.mul(x,g);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(C,n.ONE))throw new Error("invZ was invalid");return{x:M,y:q}}isTorsionFree(){const{h:g,isTorsionFree:y}=t;if(g===lt)return!0;if(y)return y(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:y}=t;return g===lt?this:y?y(f,this):this.multiplyUnsafe(t.h)}toRawBytes(g=!0){return this.assertValidity(),s(f,this,g)}toHex(g=!0){return Yn(this.toRawBytes(g))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,h=g0(f,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:a,weierstrassEquation:o,isWithinCurveOrder:i}}function m0(e){const t=uu(e);return Ts(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function b0(e){const t=m0(e),{Fp:n,n:s}=t,r=n.BYTES+1,o=2*n.BYTES+1;function i(b){return Nt<b&&b<n.ORDER}function l(b){return Ke(b,s)}function a(b){return Wo(b,s)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:d}=w0({...t,toBytes(b,R,$){const P=R.toAffine(),I=n.toBytes(P.x),J=Pn;return $?J(Uint8Array.from([R.hasEvenY()?2:3]),I):J(Uint8Array.from([4]),I,n.toBytes(P.y))},fromBytes(b){const R=b.length,$=b[0],P=b.subarray(1);if(R===r&&($===2||$===3)){const I=tt(P);if(!i(I))throw new Error("Point is not on curve");const J=f(I);let te=n.sqrt(J);const X=(te&lt)===lt;return($&1)===1!==X&&(te=n.neg(te)),{x:I,y:te}}else if(R===o&&$===4){const I=n.fromBytes(P.subarray(0,n.BYTES)),J=n.fromBytes(P.subarray(n.BYTES,2*n.BYTES));return{x:I,y:J}}else throw new Error(`Point of length ${R} was invalid. Expected ${r} compressed bytes or ${o} uncompressed bytes`)}}),h=b=>Yn(pn(b,t.nByteLength));function v(b){const R=s>>lt;return b>R}function g(b){return v(b)?l(-b):b}const y=(b,R,$)=>tt(b.slice(R,$));class w{constructor(R,$,P){this.r=R,this.s=$,this.recovery=P,this.assertValidity()}static fromCompact(R){const $=t.nByteLength;return R=We("compactSignature",R,$*2),new w(y(R,0,$),y(R,$,2*$))}static fromDER(R){const{r:$,s:P}=kn.toSig(We("DER",R));return new w($,P)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(R){return new w(this.r,this.s,R)}recoverPublicKey(R){const{r:$,s:P,recovery:I}=this,J=K(We("msgHash",R));if(I==null||![0,1,2,3].includes(I))throw new Error("recovery id invalid");const te=I===2||I===3?$+t.n:$;if(te>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const X=I&1?"03":"02",he=c.fromHex(X+h(te)),ne=a(te),oe=l(-J*ne),W=l(P*ne),E=c.BASE.multiplyAndAddUnsafe(he,oe,W);if(!E)throw new Error("point at infinify");return E.assertValidity(),E}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return Qn(this.toDERHex())}toDERHex(){return kn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Qn(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const x={isValidPrivateKey(b){try{return u(b),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const b=cu(t.n);return h0(t.randomBytes(b),t.n)},precompute(b=8,R=c.BASE){return R._setWindowSize(b),R.multiply(BigInt(3)),R}};function S(b,R=!0){return c.fromPrivateKey(b).toRawBytes(R)}function M(b){const R=b instanceof Uint8Array,$=typeof b=="string",P=(R||$)&&b.length;return R?P===r||P===o:$?P===2*r||P===2*o:b instanceof c}function q(b,R,$=!0){if(M(b))throw new Error("first arg must be private key");if(!M(R))throw new Error("second arg must be public key");return c.fromHex(R).multiply(u(b)).toRawBytes($)}const C=t.bits2int||function(b){const R=tt(b),$=b.length*8-t.nBitLength;return $>0?R>>BigInt($):R},K=t.bits2int_modN||function(b){return l(C(b))},A=Pi(t.nBitLength);function H(b){if(typeof b!="bigint")throw new Error("bigint expected");if(!(Nt<=b&&b<A))throw new Error(`bigint expected < 2^${t.nBitLength}`);return pn(b,t.nByteLength)}function F(b,R,$=G){if(["recovered","canonical"].some(L=>L in $))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:I}=t;let{lowS:J,prehash:te,extraEntropy:X}=$;J==null&&(J=!0),b=We("msgHash",b),te&&(b=We("prehashed msgHash",P(b)));const he=K(b),ne=u(R),oe=[H(ne),H(he)];if(X!=null){const L=X===!0?I(n.BYTES):X;oe.push(We("extraEntropy",L))}const W=Pn(...oe),E=he;function O(L){const V=C(L);if(!d(V))return;const ue=a(V),ie=c.BASE.multiply(V).toAffine(),p=l(ie.x);if(p===Nt)return;const _=l(ue*l(E+p*ne));if(_===Nt)return;let k=(ie.x===p?0:2)|Number(ie.y&lt),j=_;return J&&v(_)&&(j=g(_),k^=1),new w(p,j,k)}return{seed:W,k2sig:O}}const G={lowS:t.lowS,prehash:!1},se={lowS:t.lowS,prehash:!1};function U(b,R,$=G){const{seed:P,k2sig:I}=F(b,R,$),J=t;return iu(J.hash.outputLen,J.nByteLength,J.hmac)(P,I)}c.BASE._setWindowSize(8);function B(b,R,$,P=se){var ie;const I=b;if(R=We("msgHash",R),$=We("publicKey",$),"strict"in P)throw new Error("options.strict was renamed to lowS");const{lowS:J,prehash:te}=P;let X,he;try{if(typeof I=="string"||I instanceof Uint8Array)try{X=w.fromDER(I)}catch(p){if(!(p instanceof kn.Err))throw p;X=w.fromCompact(I)}else if(typeof I=="object"&&typeof I.r=="bigint"&&typeof I.s=="bigint"){const{r:p,s:_}=I;X=new w(p,_)}else throw new Error("PARSE");he=c.fromHex($)}catch(p){if(p.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(J&&X.hasHighS())return!1;te&&(R=t.hash(R));const{r:ne,s:oe}=X,W=K(R),E=a(oe),O=l(W*E),L=l(ne*E),V=(ie=c.BASE.multiplyAndAddUnsafe(he,O,L))==null?void 0:ie.toAffine();return V?l(V.x)===ne:!1}return{CURVE:t,getPublicKey:S,getSharedSecret:q,sign:U,verify:B,ProjectivePoint:c,Signature:w,utils:x}}let fu=class extends nu{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Og(t);const s=$i(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(s.length>r?t.create().update(s).digest():s);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return cr(this),this.iHash.update(t),this}digestInto(t){cr(this),eu(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:r,destroyed:o,blockLen:i,outputLen:l}=this;return t=t,t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=l,t.oHash=n._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const du=(e,t,n)=>new fu(e,t).update(n).digest();du.create=(e,t)=>new fu(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function E0(e){return{hash:e,hmac:(t,...n)=>du(e,t,jg(...n)),randomBytes:su}}function x0(e,t){const n=s=>b0({...e,...E0(s)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ur=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),hu=BigInt(1),fr=BigInt(2),ua=(e,t)=>(e+t/fr)/t;function pu(e){const t=Mr,n=BigInt(3),s=BigInt(6),r=BigInt(11),o=BigInt(22),i=BigInt(23),l=BigInt(44),a=BigInt(88),c=e*e*e%t,u=c*c*e%t,f=it(u,n,t)*u%t,d=it(f,n,t)*u%t,h=it(d,fr,t)*c%t,v=it(h,r,t)*h%t,g=it(v,o,t)*v%t,y=it(g,l,t)*g%t,w=it(y,a,t)*y%t,x=it(w,l,t)*g%t,S=it(x,n,t)*u%t,M=it(S,i,t)*v%t,q=it(M,s,t)*c%t,C=it(q,fr,t);if(!Go.eql(Go.sqr(C),e))throw new Error("Cannot find square root");return C}const Go=d0(Mr,void 0,void 0,{sqrt:pu}),rs=x0({a:BigInt(0),b:BigInt(7),Fp:Go,n:ur,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ur,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-hu*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),l=ua(o*e,t),a=ua(-s*e,t);let c=Ke(e-l*n-a*r,t),u=Ke(-l*s-a*o,t);const f=c>i,d=u>i;if(f&&(c=t-c),d&&(u=t-u),c>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:c,k2neg:d,k2:u}}}},Ko),Hr=BigInt(0),gu=e=>typeof e=="bigint"&&Hr<e&&e<Mr,R0=e=>typeof e=="bigint"&&Hr<e&&e<ur,fa={};function dr(e,...t){let n=fa[e];if(n===void 0){const s=Ko(Uint8Array.from(e,r=>r.charCodeAt(0)));n=Pn(s,s),fa[e]=n}return Ko(Pn(n,...t))}const Ti=e=>e.toRawBytes(!0).slice(1),Zo=e=>pn(e,32),vo=e=>Ke(e,Mr),$s=e=>Ke(e,ur),Bi=rs.ProjectivePoint,S0=(e,t,n)=>Bi.BASE.multiplyAndAddUnsafe(e,t,n);function Jo(e){let t=rs.utils.normPrivateKeyToScalar(e),n=Bi.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:$s(-t),bytes:Ti(n)}}function yu(e){if(!gu(e))throw new Error("bad x: need 0 < x < p");const t=vo(e*e),n=vo(t*e+BigInt(7));let s=pu(n);s%fr!==Hr&&(s=vo(-s));const r=new Bi(e,s,hu);return r.assertValidity(),r}function vu(...e){return $s(tt(dr("BIP0340/challenge",...e)))}function k0(e){return Jo(e).bytes}function $0(e,t,n=su(32)){const s=We("message",e),{bytes:r,scalar:o}=Jo(t),i=We("auxRand",n,32),l=Zo(o^tt(dr("BIP0340/aux",i))),a=dr("BIP0340/nonce",l,r,s),c=$s(tt(a));if(c===Hr)throw new Error("sign failed: k is zero");const{bytes:u,scalar:f}=Jo(c),d=vu(u,r,s),h=new Uint8Array(64);if(h.set(u,0),h.set(Zo($s(f+d*o)),32),!_u(h,s,r))throw new Error("sign: Invalid signature produced");return h}function _u(e,t,n){const s=We("signature",e,64),r=We("message",t),o=We("publicKey",n,32);try{const i=yu(tt(o)),l=tt(s.subarray(0,32));if(!gu(l))return!1;const a=tt(s.subarray(32,64));if(!R0(a))return!1;const c=vu(Zo(l),Ti(i),r),u=S0(i,a,$s(-c));return!(!u||!u.hasEvenY()||u.toAffine().x!==l)}catch{return!1}}const cs=(()=>({getPublicKey:k0,sign:$0,verify:_u,utils:{randomPrivateKey:rs.utils.randomPrivateKey,lift_x:yu,pointToBytes:Ti,numberToBytesBE:pn,bytesToNumberBE:tt,taggedHash:dr,mod:Ke}}))(),_o=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Li=e=>e instanceof Uint8Array,wo=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),bt=(e,t)=>e<<32-t|e>>>t,C0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!C0)throw new Error("Non little-endian hardware is not supported");const A0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function et(e){if(!Li(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=A0[e[n]];return t}function Xn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let s=0;s<n.length;s++){const r=s*2,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[s]=i}return n}function wu(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Cs(e){if(typeof e=="string"&&(e=wu(e)),!Li(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function hr(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!Li(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}class mu{clone(){return this._cloneInto()}}function bu(e){const t=s=>e().update(Cs(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Eu(e=32){if(_o&&typeof _o.getRandomValues=="function")return _o.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Yo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function I0(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function xu(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function P0(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Yo(e.outputLen),Yo(e.blockLen)}function T0(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function B0(e,t){xu(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const kt={number:Yo,bool:I0,bytes:xu,hash:P0,exists:T0,output:B0};function L0(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const r=BigInt(32),o=BigInt(4294967295),i=Number(n>>r&o),l=Number(n&o),a=s?4:0,c=s?0:4;e.setUint32(t+a,i,s),e.setUint32(t+c,l,s)}class U0 extends mu{constructor(t,n,s,r){super(),this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=wo(this.buffer)}update(t){kt.exists(this);const{view:n,buffer:s,blockLen:r}=this;t=Cs(t);const o=t.length;for(let i=0;i<o;){const l=Math.min(r-this.pos,o-i);if(l===r){const a=wo(t);for(;r<=o-i;i+=r)this.process(a,i);continue}s.set(t.subarray(i,i+l),this.pos),this.pos+=l,i+=l,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){kt.exists(this),kt.output(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(s,0),i=0);for(let f=i;f<r;f++)n[f]=0;L0(s,r-8,BigInt(this.length*8),o),this.process(s,0);const l=wo(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)l.setUint32(4*f,u[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:o,destroyed:i,pos:l}=this;return t.length=r,t.pos=l,t.finished=o,t.destroyed=i,r%n&&t.buffer.set(s),t}}const O0=(e,t,n)=>e&t^~e&n,N0=(e,t,n)=>e&t^e&n^t&n,M0=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Xt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),en=new Uint32Array(64);class Ru extends U0{constructor(){super(64,32,8,!1),this.A=Xt[0]|0,this.B=Xt[1]|0,this.C=Xt[2]|0,this.D=Xt[3]|0,this.E=Xt[4]|0,this.F=Xt[5]|0,this.G=Xt[6]|0,this.H=Xt[7]|0}get(){const{A:t,B:n,C:s,D:r,E:o,F:i,G:l,H:a}=this;return[t,n,s,r,o,i,l,a]}set(t,n,s,r,o,i,l,a){this.A=t|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=o|0,this.F=i|0,this.G=l|0,this.H=a|0}process(t,n){for(let f=0;f<16;f++,n+=4)en[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=en[f-15],h=en[f-2],v=bt(d,7)^bt(d,18)^d>>>3,g=bt(h,17)^bt(h,19)^h>>>10;en[f]=g+en[f-7]+v+en[f-16]|0}let{A:s,B:r,C:o,D:i,E:l,F:a,G:c,H:u}=this;for(let f=0;f<64;f++){const d=bt(l,6)^bt(l,11)^bt(l,25),h=u+d+O0(l,a,c)+M0[f]+en[f]|0,g=(bt(s,2)^bt(s,13)^bt(s,22))+N0(s,r,o)|0;u=c,c=a,a=l,l=i+h|0,i=o,o=r,r=s,s=h+g|0}s=s+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,l=l+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(s,r,o,i,l,a,c,u)}roundClean(){en.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class H0 extends Ru{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const ws=bu(()=>new Ru);bu(()=>new H0);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function os(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function zt(...e){const t=(r,o)=>i=>r(o(i)),n=Array.from(e).reverse().reduce((r,o)=>r?t(r,o.encode):o.encode,void 0),s=e.reduce((r,o)=>r?t(r,o.decode):o.decode,void 0);return{encode:n,decode:s}}function Wt(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(os(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const s=e.indexOf(n);if(s===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return s})}}}function Gt(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function jr(e,t="="){if(os(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let s of n)if(typeof s!="string")throw new Error(`padding.encode: non-string input=${s}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.decode: non-string input=${r}`);let s=n.length;if(s*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;s>0&&n[s-1]===t;s--)if(!((s-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,s)}}}function Su(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function da(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let s=0;const r=[],o=Array.from(e);for(o.forEach(i=>{if(os(i),i<0||i>=t)throw new Error(`Wrong integer: ${i}`)});;){let i=0,l=!0;for(let a=s;a<o.length;a++){const c=o[a],u=t*i+c;if(!Number.isSafeInteger(u)||t*i/t!==i||u-c!==t*i)throw new Error("convertRadix: carry overflow");if(i=u%n,o[a]=Math.floor(u/n),!Number.isSafeInteger(o[a])||o[a]*n+i!==u)throw new Error("convertRadix: carry overflow");if(l)o[a]?l=!1:s=a;else continue}if(r.push(i),l)break}for(let i=0;i<e.length-1&&e[i]===0;i++)r.push(0);return r.reverse()}const ku=(e,t)=>t?ku(t,e%t):e,pr=(e,t)=>e+(t-ku(e,t));function Qo(e,t,n,s){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(pr(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${pr(t,n)}`);let r=0,o=0;const i=2**n-1,l=[];for(const a of e){if(os(a),a>=2**t)throw new Error(`convertRadix2: invalid data word=${a} from=${t}`);if(r=r<<t|a,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)l.push((r>>o-n&i)>>>0);r&=2**o-1}if(r=r<<n-o&i,!s&&o>=t)throw new Error("Excess padding");if(!s&&r)throw new Error(`Non-zero padding: ${r}`);return s&&o>0&&l.push(r>>>0),l}function j0(e){return os(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return da(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(da(t,e,2**8))}}}function yn(e,t=!1){if(os(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(pr(8,e)>32||pr(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Qo(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Qo(n,e,8,t))}}}function ha(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const F0=zt(yn(4),Wt("0123456789ABCDEF"),Gt("")),V0=zt(yn(5),Wt("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),jr(5),Gt(""));zt(yn(5),Wt("0123456789ABCDEFGHIJKLMNOPQRSTUV"),jr(5),Gt(""));zt(yn(5),Wt("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Gt(""),Su(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Vt=zt(yn(6),Wt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),jr(6),Gt("")),D0=zt(yn(6),Wt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),jr(6),Gt("")),Ui=e=>zt(j0(58),Wt(e),Gt("")),Xo=Ui("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Ui("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Ui("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const pa=[0,2,3,5,6,7,9,10,11],q0={encode(e){let t="";for(let n=0;n<e.length;n+=8){const s=e.subarray(n,n+8);t+=Xo.encode(s).padStart(pa[s.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const s=e.slice(n,n+11),r=pa.indexOf(s.length),o=Xo.decode(s);for(let i=0;i<o.length-r;i++)if(o[i]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-r)))}return Uint8Array.from(t)}},ei=zt(Wt("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Gt("")),ga=[996825010,642813549,513874426,1027748829,705979059];function us(e){const t=e>>25;let n=(e&33554431)<<5;for(let s=0;s<ga.length;s++)(t>>s&1)===1&&(n^=ga[s]);return n}function ya(e,t,n=1){const s=e.length;let r=1;for(let o=0;o<s;o++){const i=e.charCodeAt(o);if(i<33||i>126)throw new Error(`Invalid prefix (${e})`);r=us(r)^i>>5}r=us(r);for(let o=0;o<s;o++)r=us(r)^e.charCodeAt(o)&31;for(let o of t)r=us(r)^o;for(let o=0;o<6;o++)r=us(r);return r^=n,ei.encode(Qo([r%2**30],30,5,!1))}function $u(e){const t=e==="bech32"?1:734539939,n=yn(5),s=n.decode,r=n.encode,o=ha(s);function i(u,f,d=90){if(typeof u!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof u}`);if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof f}`);const h=u.length+7+f.length;if(d!==!1&&h>d)throw new TypeError(`Length ${h} exceeds limit ${d}`);return u=u.toLowerCase(),`${u}1${ei.encode(f)}${ya(u,f,t)}`}function l(u,f=90){if(typeof u!="string")throw new Error(`bech32.decode input should be string, not ${typeof u}`);if(u.length<8||f!==!1&&u.length>f)throw new TypeError(`Wrong string length: ${u.length} (${u}). Expected (8..${f})`);const d=u.toLowerCase();if(u!==d&&u!==u.toUpperCase())throw new Error("String must be lowercase or uppercase");u=d;const h=u.lastIndexOf("1");if(h===0||h===-1)throw new Error('Letter "1" must be present between prefix and data only');const v=u.slice(0,h),g=u.slice(h+1);if(g.length<6)throw new Error("Data must be at least 6 characters long");const y=ei.decode(g).slice(0,-6),w=ya(v,y,t);if(!g.endsWith(w))throw new Error(`Invalid checksum in ${u}: expected "${w}"`);return{prefix:v,words:y}}const a=ha(l);function c(u){const{prefix:f,words:d}=l(u,!1);return{prefix:f,words:d,bytes:s(d)}}return{encode:i,decode:l,decodeToBytes:c,decodeUnsafe:a,fromWords:s,fromWordsUnsafe:o,toWords:r}}const es=$u("bech32");$u("bech32m");const K0={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},z0=zt(yn(4),Wt("0123456789abcdef"),Gt(""),Su(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),W0={utf8:K0,hex:z0,base16:F0,base32:V0,base64:Vt,base64url:D0,base58:Xo,base58xmr:q0};`${Object.keys(W0).join(", ")}`;function mo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function va(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function Cu(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function ut(e,...t){if(!Cu(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function ts(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Oi(e,t){ut(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const Ue=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),G0=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Z0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Z0)throw new Error("Non little-endian hardware is not supported");function Ni(e){if(typeof e!="string")throw new Error(`string expected, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function gn(e){if(typeof e=="string")e=Ni(e);else if(Cu(e))e=e.slice();else throw new Error(`Uint8Array expected, got ${typeof e}`);return e}function J0(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function Y0(e,t){if(e.length!==t.length)return!1;let n=0;for(let s=0;s<e.length;s++)n|=e[s]^t[s];return n===0}const Q0=(e,t)=>(Object.assign(t,e),t),Ot=16,Mi=new Uint8Array(16),St=Ue(Mi),X0=225,ey=(e,t,n,s)=>{const r=s&1;return{s3:n<<31|s>>>1,s2:t<<31|n>>>1,s1:e<<31|t>>>1,s0:e>>>1^X0<<24&-(r&1)}},at=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255|0;function ty(e){e.reverse();const t=e[15]&1;let n=0;for(let s=0;s<e.length;s++){const r=e[s];e[s]=r>>>1|n,n=(r&1)<<7}return e[0]^=-t&225,e}const ny=e=>e>64*1024?8:e>1024?4:2;class Au{constructor(t,n){this.blockLen=Ot,this.outputLen=Ot,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,t=gn(t),ut(t,16);const s=G0(t);let r=s.getUint32(0,!1),o=s.getUint32(4,!1),i=s.getUint32(8,!1),l=s.getUint32(12,!1);const a=[];for(let v=0;v<128;v++)a.push({s0:at(r),s1:at(o),s2:at(i),s3:at(l)}),{s0:r,s1:o,s2:i,s3:l}=ey(r,o,i,l);const c=ny(n||1024);if(![1,2,4,8].includes(c))throw new Error(`ghash: wrong window size=${c}, should be 2, 4 or 8`);this.W=c;const f=128/c,d=this.windowSize=2**c,h=[];for(let v=0;v<f;v++)for(let g=0;g<d;g++){let y=0,w=0,x=0,S=0;for(let M=0;M<c;M++){if(!(g>>>c-M-1&1))continue;const{s0:C,s1:K,s2:A,s3:H}=a[c*v+M];y^=C,w^=K,x^=A,S^=H}h.push({s0:y,s1:w,s2:x,s3:S})}this.t=h}_updateBlock(t,n,s,r){t^=this.s0,n^=this.s1,s^=this.s2,r^=this.s3;const{W:o,t:i,windowSize:l}=this;let a=0,c=0,u=0,f=0;const d=(1<<o)-1;let h=0;for(const v of[t,n,s,r])for(let g=0;g<4;g++){const y=v>>>8*g&255;for(let w=8/o-1;w>=0;w--){const x=y>>>o*w&d,{s0:S,s1:M,s2:q,s3:C}=i[h*l+x];a^=S,c^=M,u^=q,f^=C,h+=1}}this.s0=a,this.s1=c,this.s2=u,this.s3=f}update(t){t=gn(t),ts(this);const n=Ue(t),s=Math.floor(t.length/Ot),r=t.length%Ot;for(let o=0;o<s;o++)this._updateBlock(n[o*4+0],n[o*4+1],n[o*4+2],n[o*4+3]);return r&&(Mi.set(t.subarray(s*Ot)),this._updateBlock(St[0],St[1],St[2],St[3]),St.fill(0)),this}destroy(){const{t}=this;for(const n of t)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(t){ts(this),Oi(t,this),this.finished=!0;const{s0:n,s1:s,s2:r,s3:o}=this,i=Ue(t);return i[0]=n,i[1]=s,i[2]=r,i[3]=o,t}digest(){const t=new Uint8Array(Ot);return this.digestInto(t),this.destroy(),t}}class sy extends Au{constructor(t,n){t=gn(t);const s=ty(t.slice());super(s,n),s.fill(0)}update(t){t=gn(t),ts(this);const n=Ue(t),s=t.length%Ot,r=Math.floor(t.length/Ot);for(let o=0;o<r;o++)this._updateBlock(at(n[o*4+3]),at(n[o*4+2]),at(n[o*4+1]),at(n[o*4+0]));return s&&(Mi.set(t.subarray(r*Ot)),this._updateBlock(at(St[3]),at(St[2]),at(St[1]),at(St[0])),St.fill(0)),this}digestInto(t){ts(this),Oi(t,this),this.finished=!0;const{s0:n,s1:s,s2:r,s3:o}=this,i=Ue(t);return i[0]=n,i[1]=s,i[2]=r,i[3]=o,t.reverse()}}function Iu(e){const t=(s,r)=>e(r,s.length).update(gn(s)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(s,r)=>e(s,r),t}Iu((e,t)=>new Au(e,t));Iu((e,t)=>new sy(e,t));const dn=16,ry=283;function Hi(e){return e<<1^ry&-(e>>7)}function Hn(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=Hi(e);return n}const ti=(()=>{let e=new Uint8Array(256);for(let n=0,s=1;n<256;n++,s^=Hi(s))e[n]=s;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let s=e[255-n];s|=s<<8,t[e[n]]=(s^s>>4^s>>5^s>>6^s>>7^99)&255}return t})(),oy=ti.map((e,t)=>ti.indexOf(t)),iy=e=>e<<24|e>>>8,bo=e=>e<<8|e>>>24;function Pu(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((c,u)=>t(e[u])),s=n.map(bo),r=s.map(bo),o=r.map(bo),i=new Uint32Array(256*256),l=new Uint32Array(256*256),a=new Uint16Array(256*256);for(let c=0;c<256;c++)for(let u=0;u<256;u++){const f=c*256+u;i[f]=n[c]^s[u],l[f]=r[c]^o[u],a[f]=e[c]<<8|e[u]}return{sbox:e,sbox2:a,T0:n,T1:s,T2:r,T3:o,T01:i,T23:l}}const ji=Pu(ti,e=>Hn(e,3)<<24|e<<16|e<<8|Hn(e,2)),Tu=Pu(oy,e=>Hn(e,11)<<24|Hn(e,13)<<16|Hn(e,9)<<8|Hn(e,14)),ly=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=Hi(n))e[t]=n;return e})();function Bu(e){ut(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=ji,s=Ue(e),r=s.length,o=l=>$t(n,l,l,l,l),i=new Uint32Array(t+28);i.set(s);for(let l=r;l<i.length;l++){let a=i[l-1];l%r===0?a=o(iy(a))^ly[l/r-1]:r>6&&l%r===4&&(a=o(a)),i[l]=i[l-r]^a}return i}function ay(e){const t=Bu(e),n=t.slice(),s=t.length,{sbox2:r}=ji,{T0:o,T1:i,T2:l,T3:a}=Tu;for(let c=0;c<s;c+=4)for(let u=0;u<4;u++)n[c+u]=t[s-c-4+u];t.fill(0);for(let c=4;c<s-4;c++){const u=n[c],f=$t(r,u,u,u,u);n[c]=o[f&255]^i[f>>>8&255]^l[f>>>16&255]^a[f>>>24]}return n}function ln(e,t,n,s,r,o){return e[n<<8&65280|s>>>8&255]^t[r>>>8&65280|o>>>24&255]}function $t(e,t,n,s,r){return e[t&255|n&65280]|e[s>>>16&255|r>>>16&65280]<<16}function _a(e,t,n,s,r){const{sbox2:o,T01:i,T23:l}=ji;let a=0;t^=e[a++],n^=e[a++],s^=e[a++],r^=e[a++];const c=e.length/4-2;for(let v=0;v<c;v++){const g=e[a++]^ln(i,l,t,n,s,r),y=e[a++]^ln(i,l,n,s,r,t),w=e[a++]^ln(i,l,s,r,t,n),x=e[a++]^ln(i,l,r,t,n,s);t=g,n=y,s=w,r=x}const u=e[a++]^$t(o,t,n,s,r),f=e[a++]^$t(o,n,s,r,t),d=e[a++]^$t(o,s,r,t,n),h=e[a++]^$t(o,r,t,n,s);return{s0:u,s1:f,s2:d,s3:h}}function cy(e,t,n,s,r){const{sbox2:o,T01:i,T23:l}=Tu;let a=0;t^=e[a++],n^=e[a++],s^=e[a++],r^=e[a++];const c=e.length/4-2;for(let v=0;v<c;v++){const g=e[a++]^ln(i,l,t,r,s,n),y=e[a++]^ln(i,l,n,t,r,s),w=e[a++]^ln(i,l,s,n,t,r),x=e[a++]^ln(i,l,r,s,n,t);t=g,n=y,s=w,r=x}const u=e[a++]^$t(o,t,r,s,n),f=e[a++]^$t(o,n,t,r,s),d=e[a++]^$t(o,s,n,t,r),h=e[a++]^$t(o,r,s,n,t);return{s0:u,s1:f,s2:d,s3:h}}function Lu(e,t){if(!t)return new Uint8Array(e);if(ut(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function uy(e){if(ut(e),e.length%dn!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${dn}`)}function fy(e,t,n){let s=e.length;const r=s%dn;if(!t&&r!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const o=Ue(e);if(t){let a=dn-r;a||(a=dn),s=s+a}const i=Lu(s,n),l=Ue(i);return{b:o,o:l,out:i}}function dy(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const s=e[n-1];if(s<=0||s>16)throw new Error(`aes/pcks5: wrong padding byte: ${s}`);const r=e.subarray(0,-s);for(let o=0;o<s;o++)if(e[n-o-1]!==s)throw new Error("aes/pcks5: wrong padding");return r}function hy(e){const t=new Uint8Array(16),n=Ue(t);t.set(e);const s=dn-e.length;for(let r=dn-s;r<dn;r++)t[r]=s;return n}const Uu=Q0({blockSize:16,nonceLength:16},function(t,n,s={}){ut(t),ut(n,16);const r=!s.disablePadding;return{encrypt:(o,i)=>{const l=Bu(t),{b:a,o:c,out:u}=fy(o,r,i),f=Ue(n);let d=f[0],h=f[1],v=f[2],g=f[3],y=0;for(;y+4<=a.length;)d^=a[y+0],h^=a[y+1],v^=a[y+2],g^=a[y+3],{s0:d,s1:h,s2:v,s3:g}=_a(l,d,h,v,g),c[y++]=d,c[y++]=h,c[y++]=v,c[y++]=g;if(r){const w=hy(o.subarray(y*4));d^=w[0],h^=w[1],v^=w[2],g^=w[3],{s0:d,s1:h,s2:v,s3:g}=_a(l,d,h,v,g),c[y++]=d,c[y++]=h,c[y++]=v,c[y++]=g}return l.fill(0),u},decrypt:(o,i)=>{uy(o);const l=ay(t),a=Ue(n),c=Lu(o.length,i),u=Ue(o),f=Ue(c);let d=a[0],h=a[1],v=a[2],g=a[3];for(let y=0;y+4<=u.length;){const w=d,x=h,S=v,M=g;d=u[y+0],h=u[y+1],v=u[y+2],g=u[y+3];const{s0:q,s1:C,s2:K,s3:A}=cy(l,d,h,v,g);f[y++]=q^w,f[y++]=C^x,f[y++]=K^S,f[y++]=A^M}return l.fill(0),dy(c,r)}}}),De=(e,t)=>e[t++]&255|(e[t++]&255)<<8;class py{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=gn(t),ut(t,32);const n=De(t,0),s=De(t,2),r=De(t,4),o=De(t,6),i=De(t,8),l=De(t,10),a=De(t,12),c=De(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|s<<3)&8191,this.r[2]=(s>>>10|r<<6)&7939,this.r[3]=(r>>>7|o<<9)&8191,this.r[4]=(o>>>4|i<<12)&255,this.r[5]=i>>>1&8190,this.r[6]=(i>>>14|l<<2)&8191,this.r[7]=(l>>>11|a<<5)&8065,this.r[8]=(a>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let u=0;u<8;u++)this.pad[u]=De(t,16+2*u)}process(t,n,s=!1){const r=s?0:2048,{h:o,r:i}=this,l=i[0],a=i[1],c=i[2],u=i[3],f=i[4],d=i[5],h=i[6],v=i[7],g=i[8],y=i[9],w=De(t,n+0),x=De(t,n+2),S=De(t,n+4),M=De(t,n+6),q=De(t,n+8),C=De(t,n+10),K=De(t,n+12),A=De(t,n+14);let H=o[0]+(w&8191),F=o[1]+((w>>>13|x<<3)&8191),G=o[2]+((x>>>10|S<<6)&8191),se=o[3]+((S>>>7|M<<9)&8191),U=o[4]+((M>>>4|q<<12)&8191),B=o[5]+(q>>>1&8191),b=o[6]+((q>>>14|C<<2)&8191),R=o[7]+((C>>>11|K<<5)&8191),$=o[8]+((K>>>8|A<<8)&8191),P=o[9]+(A>>>5|r),I=0,J=I+H*l+F*(5*y)+G*(5*g)+se*(5*v)+U*(5*h);I=J>>>13,J&=8191,J+=B*(5*d)+b*(5*f)+R*(5*u)+$*(5*c)+P*(5*a),I+=J>>>13,J&=8191;let te=I+H*a+F*l+G*(5*y)+se*(5*g)+U*(5*v);I=te>>>13,te&=8191,te+=B*(5*h)+b*(5*d)+R*(5*f)+$*(5*u)+P*(5*c),I+=te>>>13,te&=8191;let X=I+H*c+F*a+G*l+se*(5*y)+U*(5*g);I=X>>>13,X&=8191,X+=B*(5*v)+b*(5*h)+R*(5*d)+$*(5*f)+P*(5*u),I+=X>>>13,X&=8191;let he=I+H*u+F*c+G*a+se*l+U*(5*y);I=he>>>13,he&=8191,he+=B*(5*g)+b*(5*v)+R*(5*h)+$*(5*d)+P*(5*f),I+=he>>>13,he&=8191;let ne=I+H*f+F*u+G*c+se*a+U*l;I=ne>>>13,ne&=8191,ne+=B*(5*y)+b*(5*g)+R*(5*v)+$*(5*h)+P*(5*d),I+=ne>>>13,ne&=8191;let oe=I+H*d+F*f+G*u+se*c+U*a;I=oe>>>13,oe&=8191,oe+=B*l+b*(5*y)+R*(5*g)+$*(5*v)+P*(5*h),I+=oe>>>13,oe&=8191;let W=I+H*h+F*d+G*f+se*u+U*c;I=W>>>13,W&=8191,W+=B*a+b*l+R*(5*y)+$*(5*g)+P*(5*v),I+=W>>>13,W&=8191;let E=I+H*v+F*h+G*d+se*f+U*u;I=E>>>13,E&=8191,E+=B*c+b*a+R*l+$*(5*y)+P*(5*g),I+=E>>>13,E&=8191;let O=I+H*g+F*v+G*h+se*d+U*f;I=O>>>13,O&=8191,O+=B*u+b*c+R*a+$*l+P*(5*y),I+=O>>>13,O&=8191;let L=I+H*y+F*g+G*v+se*h+U*d;I=L>>>13,L&=8191,L+=B*f+b*u+R*c+$*a+P*l,I+=L>>>13,L&=8191,I=(I<<2)+I|0,I=I+J|0,J=I&8191,I=I>>>13,te+=I,o[0]=J,o[1]=te,o[2]=X,o[3]=he,o[4]=ne,o[5]=oe,o[6]=W,o[7]=E,o[8]=O,o[9]=L}finalize(){const{h:t,pad:n}=this,s=new Uint16Array(10);let r=t[1]>>>13;t[1]&=8191;for(let l=2;l<10;l++)t[l]+=r,r=t[l]>>>13,t[l]&=8191;t[0]+=r*5,r=t[0]>>>13,t[0]&=8191,t[1]+=r,r=t[1]>>>13,t[1]&=8191,t[2]+=r,s[0]=t[0]+5,r=s[0]>>>13,s[0]&=8191;for(let l=1;l<10;l++)s[l]=t[l]+r,r=s[l]>>>13,s[l]&=8191;s[9]-=8192;let o=(r^1)-1;for(let l=0;l<10;l++)s[l]&=o;o=~o;for(let l=0;l<10;l++)t[l]=t[l]&o|s[l];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let i=t[0]+n[0];t[0]=i&65535;for(let l=1;l<8;l++)i=(t[l]+n[l]|0)+(i>>>16)|0,t[l]=i&65535}update(t){ts(this);const{buffer:n,blockLen:s}=this;t=gn(t);const r=t.length;for(let o=0;o<r;){const i=Math.min(s-this.pos,r-o);if(i===s){for(;s<=r-o;o+=s)this.process(t,o);continue}n.set(t.subarray(o,o+i),this.pos),this.pos+=i,o+=i,this.pos===s&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){ts(this),Oi(t,this),this.finished=!0;const{buffer:n,h:s}=this;let{pos:r}=this;if(r){for(n[r++]=1;r<16;r++)n[r]=0;this.process(n,0,!0)}this.finalize();let o=0;for(let i=0;i<8;i++)t[o++]=s[i]>>>0,t[o++]=s[i]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}}function gy(e){const t=(s,r)=>e(r).update(gn(s)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=s=>e(s),t}gy(e=>new py(e));const yy=Ni("expand 16-byte k"),vy=Ni("expand 32-byte k"),_y=Ue(yy),wy=Ue(vy);function Ee(e,t){return e<<t|e>>>32-t}function ni(e){return e.byteOffset%4===0}const Ks=64,my=16,Ou=2**32-1,wa=new Uint32Array;function by(e,t,n,s,r,o,i,l){const a=r.length,c=new Uint8Array(Ks),u=Ue(c),f=ni(r)&&ni(o),d=f?Ue(r):wa,h=f?Ue(o):wa;for(let v=0;v<a;i++){if(e(t,n,s,u,i,l),i>=Ou)throw new Error("arx: counter overflow");const g=Math.min(Ks,a-v);if(f&&g===Ks){const y=v/4;if(v%4!==0)throw new Error("arx: invalid block position");for(let w=0,x;w<my;w++)x=y+w,h[x]=d[x]^u[w];v+=Ks;continue}for(let y=0,w;y<g;y++)w=v+y,o[w]=r[w]^c[y];v+=g}}function Ey(e,t){const{allowShortKeys:n,extendNonceFn:s,counterLength:r,counterRight:o,rounds:i}=J0({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return mo(r),mo(i),va(o),va(n),(l,a,c,u,f=0)=>{ut(l),ut(a),ut(c);const d=c.length;if(u||(u=new Uint8Array(d)),ut(u),mo(f),f<0||f>=Ou)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);const h=[];let v=l.length,g,y;if(v===32)g=l.slice(),h.push(g),y=wy;else if(v===16&&n)g=new Uint8Array(32),g.set(l),g.set(l,16),y=_y,h.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${v}`);ni(a)||(a=a.slice(),h.push(a));const w=Ue(g);if(s){if(a.length!==24)throw new Error("arx: extended nonce must be 24 bytes");s(y,w,Ue(a.subarray(0,16)),w),a=a.subarray(16)}const x=16-r;if(x!==a.length)throw new Error(`arx: nonce must be ${x} or 16 bytes`);if(x!==12){const M=new Uint8Array(12);M.set(a,o?0:12-a.length),a=M,h.push(a)}const S=Ue(a);for(by(e,y,w,S,c,u,f,i);h.length>0;)h.pop().fill(0);return u}}function xy(e,t,n,s,r,o=20){let i=e[0],l=e[1],a=e[2],c=e[3],u=t[0],f=t[1],d=t[2],h=t[3],v=t[4],g=t[5],y=t[6],w=t[7],x=r,S=n[0],M=n[1],q=n[2],C=i,K=l,A=a,H=c,F=u,G=f,se=d,U=h,B=v,b=g,R=y,$=w,P=x,I=S,J=M,te=q;for(let he=0;he<o;he+=2)C=C+F|0,P=Ee(P^C,16),B=B+P|0,F=Ee(F^B,12),C=C+F|0,P=Ee(P^C,8),B=B+P|0,F=Ee(F^B,7),K=K+G|0,I=Ee(I^K,16),b=b+I|0,G=Ee(G^b,12),K=K+G|0,I=Ee(I^K,8),b=b+I|0,G=Ee(G^b,7),A=A+se|0,J=Ee(J^A,16),R=R+J|0,se=Ee(se^R,12),A=A+se|0,J=Ee(J^A,8),R=R+J|0,se=Ee(se^R,7),H=H+U|0,te=Ee(te^H,16),$=$+te|0,U=Ee(U^$,12),H=H+U|0,te=Ee(te^H,8),$=$+te|0,U=Ee(U^$,7),C=C+G|0,te=Ee(te^C,16),R=R+te|0,G=Ee(G^R,12),C=C+G|0,te=Ee(te^C,8),R=R+te|0,G=Ee(G^R,7),K=K+se|0,P=Ee(P^K,16),$=$+P|0,se=Ee(se^$,12),K=K+se|0,P=Ee(P^K,8),$=$+P|0,se=Ee(se^$,7),A=A+U|0,I=Ee(I^A,16),B=B+I|0,U=Ee(U^B,12),A=A+U|0,I=Ee(I^A,8),B=B+I|0,U=Ee(U^B,7),H=H+F|0,J=Ee(J^H,16),b=b+J|0,F=Ee(F^b,12),H=H+F|0,J=Ee(J^H,8),b=b+J|0,F=Ee(F^b,7);let X=0;s[X++]=i+C|0,s[X++]=l+K|0,s[X++]=a+A|0,s[X++]=c+H|0,s[X++]=u+F|0,s[X++]=f+G|0,s[X++]=d+se|0,s[X++]=h+U|0,s[X++]=v+B|0,s[X++]=g+b|0,s[X++]=y+R|0,s[X++]=w+$|0,s[X++]=x+P|0,s[X++]=S+I|0,s[X++]=M+J|0,s[X++]=q+te|0}const Nu=Ey(xy,{counterRight:!1,counterLength:4,allowShortKeys:!1});class Mu extends mu{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,kt.hash(t);const s=Cs(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(s.length>r?t.create().update(s).digest():s);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return kt.exists(this),this.iHash.update(t),this}digestInto(t){kt.exists(this),kt.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:r,destroyed:o,blockLen:i,outputLen:l}=this;return t=t,t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=l,t.oHash=n._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Fr=(e,t,n)=>new Mu(e,t).update(n).digest();Fr.create=(e,t)=>new Mu(e,t);function Ry(e,t,n){return kt.hash(e),n===void 0&&(n=new Uint8Array(e.outputLen)),Fr(e,Cs(n),Cs(t))}const Eo=new Uint8Array([0]),ma=new Uint8Array;function Sy(e,t,n,s=32){if(kt.hash(e),kt.number(s),s>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const r=Math.ceil(s/e.outputLen);n===void 0&&(n=ma);const o=new Uint8Array(r*e.outputLen),i=Fr.create(e,t),l=i._cloneInto(),a=new Uint8Array(i.outputLen);for(let c=0;c<r;c++)Eo[0]=c+1,l.update(c===0?ma:a).update(n).update(Eo).digestInto(a),o.set(a,e.outputLen*c),i._cloneInto(l);return i.destroy(),l.destroy(),a.fill(0),Eo.fill(0),o.slice(0,s)}var ky=Object.defineProperty,Oe=(e,t)=>{for(var n in t)ky(e,n,{get:t[n],enumerable:!0})},bn=Symbol("verified"),$y=e=>e instanceof Object;function Hu(e){if(!$y(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let s=0;s<n.length;s++)if(typeof n[s]=="object")return!1}return!0}var Bs={};Oe(Bs,{Queue:()=>Fu,QueueNode:()=>ju,binarySearch:()=>Fi,insertEventIntoAscendingList:()=>Ay,insertEventIntoDescendingList:()=>Cy,normalizeURL:()=>jn,utf8Decoder:()=>Mt,utf8Encoder:()=>At});var Mt=new TextDecoder("utf-8"),At=new TextEncoder;function jn(e){e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function Cy(e,t){const[n,s]=Fi(e,r=>t.id===r.id?0:t.created_at===r.created_at?-1:r.created_at-t.created_at);return s||e.splice(n,0,t),e}function Ay(e,t){const[n,s]=Fi(e,r=>t.id===r.id?0:t.created_at===r.created_at?-1:t.created_at-r.created_at);return s||e.splice(n,0,t),e}function Fi(e,t){let n=0,s=e.length-1;for(;n<=s;){const r=Math.floor((n+s)/2),o=t(e[r]);if(o===0)return[r,!0];o<0?s=r-1:n=r+1}return[n,!1]}var ju=class{constructor(e){ve(this,"value");ve(this,"next",null);ve(this,"prev",null);this.value=e}},Fu=class{constructor(){ve(this,"first");ve(this,"last");this.first=null,this.last=null}enqueue(e){const t=new ju(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,e.value}},Iy=class{generateSecretKey(){return cs.utils.randomPrivateKey()}getPublicKey(e){return et(cs.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=et(cs.getPublicKey(t)),n.id=Qs(n),n.sig=et(cs.sign(Qs(n),t)),n[bn]=!0,n}verifyEvent(e){if(typeof e[bn]=="boolean")return e[bn];const t=Qs(e);if(t!==e.id)return e[bn]=!1,!1;try{const n=cs.verify(e.sig,t,e.pubkey);return e[bn]=n,n}catch{return e[bn]=!1,!1}}};function Py(e){if(!Hu(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function Qs(e){let t=ws(At.encode(Py(e)));return et(t)}var Vr=new Iy,Ty=Vr.generateSecretKey,By=Vr.getPublicKey,vt=Vr.finalizeEvent,Ln=Vr.verifyEvent,Ly={};Oe(Ly,{Application:()=>Lv,BadgeAward:()=>Dy,BadgeDefinition:()=>$v,BlockedRelaysList:()=>dv,BookmarkList:()=>cv,Bookmarksets:()=>Rv,Calendar:()=>Fv,CalendarEventRSVP:()=>Vv,ChannelCreation:()=>zu,ChannelHideMessage:()=>Zu,ChannelMessage:()=>Gu,ChannelMetadata:()=>Wu,ChannelMuteUser:()=>Ju,ClassifiedListing:()=>Nv,ClientAuth:()=>Yu,CommunitiesList:()=>uv,CommunityDefinition:()=>Kv,CommunityPostApproval:()=>Qy,Contacts:()=>Hy,CreateOrUpdateProduct:()=>Iv,CreateOrUpdateStall:()=>Av,Curationsets:()=>Sv,Date:()=>Hv,DraftClassifiedListing:()=>Mv,DraftLong:()=>Tv,Emojisets:()=>Bv,EncryptedDirectMessage:()=>jy,EncryptedDirectMessages:()=>Fy,EventDeletion:()=>Vy,FileMetadata:()=>zy,FileServerPreference:()=>yv,Followsets:()=>bv,GenericRepost:()=>qy,Genericlists:()=>Ev,HTTPAuth:()=>qi,Handlerinformation:()=>qv,Handlerrecommendation:()=>Dv,Highlights:()=>ov,InterestsList:()=>pv,Interestsets:()=>Cv,JobFeedback:()=>tv,JobRequest:()=>Xy,JobResult:()=>ev,Label:()=>Yy,LightningPubRPC:()=>_v,LiveChatMessage:()=>Wy,LiveEvent:()=>Uv,LongFormArticle:()=>Pv,Metadata:()=>Oy,Mutelist:()=>iv,NWCWalletInfo:()=>vv,NWCWalletRequest:()=>Qu,NWCWalletResponse:()=>wv,NostrConnect:()=>mv,OpenTimestamps:()=>Ky,Pinlist:()=>lv,ProblemTracker:()=>Gy,ProfileBadges:()=>kv,PublicChatsList:()=>fv,Reaction:()=>Di,RecommendRelay:()=>My,RelayList:()=>av,Relaysets:()=>xv,Report:()=>Zy,Reporting:()=>Jy,Repost:()=>Vi,SearchRelaysList:()=>hv,ShortTextNote:()=>Ny,Time:()=>jv,UserEmojiList:()=>gv,UserStatuses:()=>Ov,Zap:()=>rv,ZapGoal:()=>nv,ZapRequest:()=>sv,classifyKind:()=>Uy,isEphemeralKind:()=>qu,isParameterizedReplaceableKind:()=>Ku,isRegularKind:()=>Vu,isReplaceableKind:()=>Du});function Vu(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function Du(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function qu(e){return 2e4<=e&&e<3e4}function Ku(e){return 3e4<=e&&e<4e4}function Uy(e){return Vu(e)?"regular":Du(e)?"replaceable":qu(e)?"ephemeral":Ku(e)?"parameterized":"unknown"}var Oy=0,Ny=1,My=2,Hy=3,jy=4,Fy=4,Vy=5,Vi=6,Di=7,Dy=8,qy=16,zu=40,Wu=41,Gu=42,Zu=43,Ju=44,Ky=1040,zy=1063,Wy=1311,Gy=1971,Zy=1984,Jy=1984,Yy=1985,Qy=4550,Xy=5999,ev=6999,tv=7e3,nv=9041,sv=9734,rv=9735,ov=9802,iv=1e4,lv=10001,av=10002,cv=10003,uv=10004,fv=10005,dv=10006,hv=10007,pv=10015,gv=10030,yv=10096,vv=13194,_v=21e3,Yu=22242,Qu=23194,wv=23195,mv=24133,qi=27235,bv=3e4,Ev=30001,xv=30002,Rv=30003,Sv=30004,kv=30008,$v=30009,Cv=30015,Av=30017,Iv=30018,Pv=30023,Tv=30024,Bv=30030,Lv=30078,Uv=30311,Ov=30315,Nv=30402,Mv=30403,Hv=31922,jv=31923,Fv=31924,Vv=31925,Dv=31989,qv=31990,Kv=34550;function zv(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1&&!e.ids.some(n=>t.id.startsWith(n))||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1&&!e.authors.some(n=>t.pubkey.startsWith(n)))return!1;for(let n in e)if(n[0]==="#"){let s=n.slice(1),r=e[`#${s}`];if(r&&!t.tags.find(([o,i])=>o===n.slice(1)&&r.indexOf(i)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function Wv(e,t){for(let n=0;n<e.length;n++)if(zv(e[n],t))return!0;return!1}var Gv={};Oe(Gv,{getHex64:()=>Dr,getInt:()=>Xu,getSubscriptionId:()=>ef,matchEventId:()=>Zv,matchEventKind:()=>Yv,matchEventPubkey:()=>Jv});function Dr(e,t){let n=t.length+3,s=e.indexOf(`"${t}":`)+n,r=e.slice(s).indexOf('"')+s+1;return e.slice(r,r+64)}function Xu(e,t){let n=t.length,s=e.indexOf(`"${t}":`)+n+3,r=e.slice(s),o=Math.min(r.indexOf(","),r.indexOf("}"));return parseInt(r.slice(0,o),10)}function ef(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let s=t+7+1+n,r=e.slice(s+1,80).indexOf('"');if(r===-1)return null;let o=s+1+r;return e.slice(s+1,o)}function Zv(e,t){return t===Dr(e,"id")}function Jv(e,t){return t===Dr(e,"pubkey")}function Yv(e,t){return t===Xu(e,"kind")}var Qv={};Oe(Qv,{makeAuthEvent:()=>tf});function tf(e,t){return{kind:Yu,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function Xv(){return new Promise(e=>{const t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var e1=e=>(e[bn]=!0,!0),nf;try{nf=WebSocket}catch{}var Ki=class{constructor(e,t){ve(this,"url");ve(this,"_connected",!1);ve(this,"onclose",null);ve(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));ve(this,"baseEoseTimeout",4400);ve(this,"connectionTimeout",4400);ve(this,"openSubs",new Map);ve(this,"connectionTimeoutHandle");ve(this,"connectionPromise");ve(this,"openCountRequests",new Map);ve(this,"openEventPublishes",new Map);ve(this,"ws");ve(this,"incomingMessageQueue",new Fu);ve(this,"queueRunning",!1);ve(this,"challenge");ve(this,"serial",0);ve(this,"verifyEvent");this.url=jn(e),this.verifyEvent=t.verifyEvent}static async connect(e,t){const n=new Ki(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new nf(this.url)}catch(n){t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var s;t(n.message),this._connected&&((s=this.onclose)==null||s.call(this),this.closeAllSubscriptions("relay connection errored"),this._connected=!1)},this.ws.onclose=async()=>{var n;this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection closed"),this._connected=!1},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await Xv();this.queueRunning=!1}handleNext(){var n,s;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const t=ef(e);if(t){const r=this.openSubs.get(t);if(!r)return;const o=Dr(e,"id"),i=(n=r.alreadyHaveEvent)==null?void 0:n.call(r,o);if((s=r.receivedEvent)==null||s.call(r,this,o),i)return}try{let r=JSON.parse(e);switch(r[0]){case"EVENT":{const o=this.openSubs.get(r[1]),i=r[2];this.verifyEvent(i)&&Wv(o.filters,i)&&o.onevent(i);return}case"COUNT":{const o=r[1],i=r[2],l=this.openCountRequests.get(o);l&&(l.resolve(i.count),this.openCountRequests.delete(o));return}case"EOSE":{const o=this.openSubs.get(r[1]);if(!o)return;o.receivedEose();return}case"OK":{const o=r[1],i=r[2],l=r[3],a=this.openEventPublishes.get(o);i?a.resolve(l):a.reject(new Error(l)),this.openEventPublishes.delete(o);return}case"CLOSED":{const o=r[1],i=this.openSubs.get(o);if(!i)return;i.closed=!0,i.close(r[2]);return}case"NOTICE":this.onnotice(r[1]);return;case"AUTH":{this.challenge=r[1];return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new Error("sending on closed connection");this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){if(!this.challenge)throw new Error("can't perform auth, no challenge was received");const t=await e(tf(this.url,this.challenge)),n=new Promise((s,r)=>{this.openEventPublishes.set(t.id,{resolve:s,reject:r})});return this.send('["AUTH",'+JSON.stringify(t)+"]"),n}async publish(e){const t=new Promise((n,s)=>{this.openEventPublishes.set(e.id,{resolve:n,reject:s})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,s=new Promise((r,o)=>{this.openCountRequests.set(n,{resolve:r,reject:o})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e)+"]"),s}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||"sub:"+this.serial,s=new t1(this,n,e,t);return this.openSubs.set(n,s),s}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},t1=class{constructor(e,t,n,s){ve(this,"relay");ve(this,"id");ve(this,"closed",!1);ve(this,"eosed",!1);ve(this,"filters");ve(this,"alreadyHaveEvent");ve(this,"receivedEvent");ve(this,"onevent");ve(this,"oneose");ve(this,"onclose");ve(this,"eoseTimeout");ve(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=s.alreadyHaveEvent,this.receivedEvent=s.receivedEvent,this.eoseTimeout=s.eoseTimeout||e.baseEoseTimeout,this.oneose=s.oneose,this.onclose=s.onclose,this.onevent=s.onevent||(r=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,r)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;this.closed||(this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]"),this.closed=!0),this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},si=class extends Ki{constructor(e){super(e,{verifyEvent:Ln})}static async connect(e){const t=new si(e);return await t.connect(),t}},n1=class{constructor(e){ve(this,"relays",new Map);ve(this,"seenOn",new Map);ve(this,"trackRelays",!1);ve(this,"verifyEvent");ve(this,"trustedRelayURLs",new Set);this.verifyEvent=e.verifyEvent}async ensureRelay(e,t){e=jn(e);let n=this.relays.get(e);return n||(n=new Ki(e,{verifyEvent:this.trustedRelayURLs.has(e)?e1:this.verifyEvent}),t!=null&&t.connectionTimeout&&(n.connectionTimeout=t.connectionTimeout),this.relays.set(e,n)),await n.connect(),n}close(e){e.map(jn).forEach(t=>{var n;(n=this.relays.get(t))==null||n.close()})}subscribeMany(e,t,n){this.trackRelays&&(n.receivedEvent=(f,d)=>{let h=this.seenOn.get(d);h||(h=new Set,this.seenOn.set(d,h)),h.add(f)});const s=new Set,r=[],o=[];let i=f=>{var d;o[f]=!0,o.filter(h=>h).length===e.length&&((d=n.oneose)==null||d.call(n),i=()=>{})};const l=[];let a=(f,d)=>{var h;i(f),l[f]=d,l.filter(v=>v).length===e.length&&((h=n.onclose)==null||h.call(n,l),a=()=>{})};const c=f=>{var h;if((h=n.alreadyHaveEvent)!=null&&h.call(n,f))return!0;const d=s.has(f);return s.add(f),d},u=Promise.all(e.map(jn).map(async(f,d,h)=>{if(h.indexOf(f)!==d){a(d,"duplicate url");return}let v;try{v=await this.ensureRelay(f,{connectionTimeout:n.maxWait?Math.max(n.maxWait*.8,n.maxWait-1e3):void 0})}catch(y){a(d,(y==null?void 0:y.message)||String(y));return}let g=v.subscribe(t,{...n,oneose:()=>i(d),onclose:y=>a(d,y),alreadyHaveEvent:c,eoseTimeout:n.maxWait});r.push(g)}));return{async close(){await u,r.forEach(f=>{f.close()})}}}subscribeManyEose(e,t,n){const s=this.subscribeMany(e,t,{...n,oneose(){s.close()}});return s}async querySync(e,t,n){return new Promise(async s=>{const r=[];this.subscribeManyEose(e,[t],{...n,onevent(o){r.push(o)},onclose(o){s(r)}})})}async get(e,t,n){t.limit=1;const s=await this.querySync(e,t,n);return s.sort((r,o)=>o.created_at-r.created_at),s[0]||null}publish(e,t){return e.map(jn).map(async(n,s,r)=>r.indexOf(n)!==s?Promise.reject("duplicate url"):(await this.ensureRelay(n)).publish(t))}},Ft=class extends n1{constructor(){super({verifyEvent:Ln})}},Qe={};Oe(Qe,{BECH32_REGEX:()=>sf,Bech32MaxSize:()=>zi,decode:()=>Ls,encodeBytes:()=>qr,naddrEncode:()=>c1,neventEncode:()=>a1,noteEncode:()=>i1,nprofileEncode:()=>l1,npubEncode:()=>o1,nrelayEncode:()=>u1,nsecEncode:()=>r1});var zi=5e3,sf=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function s1(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function Ls(e){var r,o,i,l,a,c,u,f;let{prefix:t,words:n}=es.decode(e,zi),s=new Uint8Array(es.fromWords(n));switch(t){case"nprofile":{let d=zs(s);if(!((r=d[0])!=null&&r[0]))throw new Error("missing TLV 0 for nprofile");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:et(d[0][0]),relays:d[1]?d[1].map(h=>Mt.decode(h)):[]}}}case"nevent":{let d=zs(s);if(!((o=d[0])!=null&&o[0]))throw new Error("missing TLV 0 for nevent");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(d[2]&&d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(d[3]&&d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:et(d[0][0]),relays:d[1]?d[1].map(h=>Mt.decode(h)):[],author:(i=d[2])!=null&&i[0]?et(d[2][0]):void 0,kind:(l=d[3])!=null&&l[0]?parseInt(et(d[3][0]),16):void 0}}}case"naddr":{let d=zs(s);if(!((a=d[0])!=null&&a[0]))throw new Error("missing TLV 0 for naddr");if(!((c=d[2])!=null&&c[0]))throw new Error("missing TLV 2 for naddr");if(d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((u=d[3])!=null&&u[0]))throw new Error("missing TLV 3 for naddr");if(d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Mt.decode(d[0][0]),pubkey:et(d[2][0]),kind:parseInt(et(d[3][0]),16),relays:d[1]?d[1].map(h=>Mt.decode(h)):[]}}}case"nrelay":{let d=zs(s);if(!((f=d[0])!=null&&f[0]))throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:Mt.decode(d[0][0])}}case"nsec":return{type:t,data:s};case"npub":case"note":return{type:t,data:et(s)};default:throw new Error(`unknown prefix ${t}`)}}function zs(e){let t={},n=e;for(;n.length>0;){let s=n[0],r=n[1],o=n.slice(2,2+r);if(n=n.slice(2+r),o.length<r)throw new Error(`not enough data to read on TLV ${s}`);t[s]=t[s]||[],t[s].push(o)}return t}function r1(e){return qr("nsec",e)}function o1(e){return qr("npub",Xn(e))}function i1(e){return qr("note",Xn(e))}function Us(e,t){let n=es.toWords(t);return es.encode(e,n,zi)}function qr(e,t){return Us(e,t)}function l1(e){let t=Kr({0:[Xn(e.pubkey)],1:(e.relays||[]).map(n=>At.encode(n))});return Us("nprofile",t)}function a1(e){let t;e.kind!==void 0&&(t=s1(e.kind));let n=Kr({0:[Xn(e.id)],1:(e.relays||[]).map(s=>At.encode(s)),2:e.author?[Xn(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Us("nevent",n)}function c1(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=Kr({0:[At.encode(e.identifier)],1:(e.relays||[]).map(s=>At.encode(s)),2:[Xn(e.pubkey)],3:[new Uint8Array(t)]});return Us("naddr",n)}function u1(e){let t=Kr({0:[At.encode(e)]});return Us("nrelay",t)}function Kr(e){let t=[];return Object.entries(e).reverse().forEach(([n,s])=>{s.forEach(r=>{let o=new Uint8Array(r.length+2);o.set([parseInt(n)],0),o.set([r.length],1),o.set(r,2),t.push(o)})}),hr(...t)}var f1=/\bnostr:((note|npub|naddr|nevent|nprofile)1\w+)\b|#\[(\d+)\]/g;function rf(e){let t=[];for(let n of e.content.matchAll(f1))if(n[2])try{let{type:s,data:r}=Ls(n[1]);switch(s){case"npub":{t.push({text:n[0],profile:{pubkey:r,relays:[]}});break}case"nprofile":{t.push({text:n[0],profile:r});break}case"note":{t.push({text:n[0],event:{id:r,relays:[]}});break}case"nevent":{t.push({text:n[0],event:r});break}case"naddr":{t.push({text:n[0],address:r});break}}}catch{}else if(n[3]){let s=parseInt(n[3],10),r=e.tags[s];if(!r)continue;switch(r[0]){case"p":{t.push({text:n[0],profile:{pubkey:r[1],relays:r[2]?[r[2]]:[]}});break}case"e":{t.push({text:n[0],event:{id:r[1],relays:r[2]?[r[2]]:[]}});break}case"a":{try{let[o,i,l]=r[1].split(":");t.push({text:n[0],address:{identifier:l,pubkey:i,kind:parseInt(o,10),relays:r[2]?[r[2]]:[]}})}catch{}break}}}return t}var d1={};Oe(d1,{decrypt:()=>h1,encrypt:()=>of});async function of(e,t,n){const s=e instanceof Uint8Array?et(e):e,r=rs.getSharedSecret(s,"02"+t),o=lf(r);let i=Uint8Array.from(Eu(16)),l=At.encode(n),a=Uu(o,i).encrypt(l),c=Vt.encode(new Uint8Array(a)),u=Vt.encode(new Uint8Array(i.buffer));return`${c}?iv=${u}`}async function h1(e,t,n){const s=e instanceof Uint8Array?et(e):e;let[r,o]=n.split("?iv="),i=rs.getSharedSecret(s,"02"+t),l=lf(i),a=Vt.decode(o),c=Vt.decode(r),u=Uu(l,a).decrypt(c);return Mt.decode(u)}function lf(e){return e.slice(1,33)}var af={};Oe(af,{NIP05_REGEX:()=>cf,isValid:()=>y1,queryProfile:()=>uf,searchDomain:()=>g1,useFetchImplementation:()=>p1});var cf=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,zr;try{zr=fetch}catch{}function p1(e){zr=e}async function g1(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`;return(await(await zr(n,{redirect:"error"})).json()).names}catch{return{}}}async function uf(e){var o;const t=e.match(cf);if(!t)return null;const[n,s="_",r]=t;try{const i=`https://${r}/.well-known/nostr.json?name=${s}`,l=await(await zr(i,{redirect:"error"})).json();let a=l.names[s];return a?{pubkey:a,relays:(o=l.relays)==null?void 0:o[a]}:null}catch{return null}}async function y1(e,t){let n=await uf(t);return n?n.pubkey===e:!1}var It={};Oe(It,{parse:()=>v1});function v1(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[]},n=[];for(const s of e.tags)s[0]==="e"&&s[1]&&n.push(s),s[0]==="p"&&s[1]&&t.profiles.push({pubkey:s[1],relays:s[2]?[s[2]]:[]});for(let s=0;s<n.length;s++){const r=n[s],[o,i,l,a]=r,c={id:i,relays:l?[l]:[]},u=s===0,f=s===n.length-1;if(a==="root"){t.root=c;continue}if(a==="reply"){t.reply=c;continue}if(a==="mention"){t.mentions.push(c);continue}if(u){t.root=c;continue}if(f){t.reply=c;continue}t.mentions.push(c)}return t}var _1={};Oe(_1,{fetchRelayInformation:()=>m1,useFetchImplementation:()=>w1});var ff;try{ff=fetch}catch{}function w1(e){ff=e}async function m1(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var b1={};Oe(b1,{getPow:()=>df,minePow:()=>E1});function df(e){let t=0;for(let n=0;n<e.length;n++){const s=parseInt(e[n],16);if(s===0)t+=4;else{t+=Math.clz32(s)-28;break}}return t}function E1(e,t){let n=0;const s=e,r=["nonce",n.toString(),t.toString()];for(s.tags.push(r);;){const o=Math.floor(new Date().getTime()/1e3);if(o!==s.created_at&&(n=0,s.created_at=o),r[1]=(++n).toString(),s.id=Qs(s),df(s.id)>=t)break}return s}var x1={};Oe(x1,{finishRepostEvent:()=>R1,getRepostedEvent:()=>S1,getRepostedEventPointer:()=>hf});function R1(e,t,n,s){return vt({kind:Vi,tags:[...e.tags??[],["e",t.id,n],["p",t.pubkey]],content:e.content===""?"":JSON.stringify(t),created_at:e.created_at},s)}function hf(e){if(e.kind!==Vi)return;let t,n;for(let s=e.tags.length-1;s>=0&&(t===void 0||n===void 0);s--){const r=e.tags[s];r.length>=2&&(r[0]==="e"&&t===void 0?t=r:r[0]==="p"&&n===void 0&&(n=r))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(s=>typeof s=="string"),author:n==null?void 0:n[1]}}function S1(e,{skipVerification:t}={}){const n=hf(e);if(n===void 0||e.content==="")return;let s;try{s=JSON.parse(e.content)}catch{return}if(s.id===n.id&&!(!t&&!Ln(s)))return s}var k1={};Oe(k1,{NOSTR_URI_REGEX:()=>Wr,parse:()=>C1,test:()=>$1});var Wr=new RegExp(`nostr:(${sf.source})`);function $1(e){return typeof e=="string"&&new RegExp(`^${Wr.source}$`).test(e)}function C1(e){const t=e.match(new RegExp(`^${Wr.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:Ls(t[1])}}var A1={};Oe(A1,{finishReactionEvent:()=>I1,getReactedEventPointer:()=>P1});function I1(e,t,n){const s=t.tags.filter(r=>r.length>=2&&(r[0]==="e"||r[0]==="p"));return vt({...e,kind:Di,tags:[...e.tags??[],...s,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function P1(e){if(e.kind!==Di)return;let t,n;for(let s=e.tags.length-1;s>=0&&(t===void 0||n===void 0);s--){const r=e.tags[s];r.length>=2&&(r[0]==="e"&&t===void 0?t=r:r[0]==="p"&&n===void 0&&(n=r))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(s=>s!==void 0),author:n[1]}}var T1={};Oe(T1,{matchAll:()=>B1,regex:()=>Wi,replaceAll:()=>L1});var Wi=()=>new RegExp(`\\b${Wr.source}\\b`,"g");function*B1(e){const t=e.matchAll(Wi());for(const n of t)try{const[s,r]=n;yield{uri:s,value:r,decoded:Ls(r),start:n.index,end:n.index+s.length}}catch{}}function L1(e,t){return e.replaceAll(Wi(),(n,s)=>t({uri:n,value:s,decoded:Ls(s)}))}var U1={};Oe(U1,{channelCreateEvent:()=>O1,channelHideMessageEvent:()=>H1,channelMessageEvent:()=>M1,channelMetadataEvent:()=>N1,channelMuteUserEvent:()=>j1});var O1=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return vt({kind:zu,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},N1=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return vt({kind:Wu,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},M1=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),vt({kind:Gu,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},H1=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return vt({kind:Zu,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},j1=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return vt({kind:Ju,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},F1={};Oe(F1,{EMOJI_SHORTCODE_REGEX:()=>pf,matchAll:()=>V1,regex:()=>Gi,replaceAll:()=>D1});var pf=/:(\w+):/,Gi=()=>new RegExp(`\\B${pf.source}\\B`,"g");function*V1(e){const t=e.matchAll(Gi());for(const n of t)try{const[s,r]=n;yield{shortcode:s,name:r,start:n.index,end:n.index+s.length}}catch{}}function D1(e,t){return e.replaceAll(Gi(),(n,s)=>t({shortcode:n,name:s}))}var q1={};Oe(q1,{useFetchImplementation:()=>K1,validateGithub:()=>z1});var Zi;try{Zi=fetch}catch{}function K1(e){Zi=e}async function z1(e,t,n){try{return await(await Zi(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var W1={};Oe(W1,{default:()=>Y1,v2:()=>gf});var G1=new TextDecoder,qe={minPlaintextSize:1,maxPlaintextSize:65535,utf8Encode:wu,utf8Decode(e){return G1.decode(e)},getConversationKey(e,t){const n=rs.getSharedSecret(e,"02"+t).subarray(1,33);return Ry(ws,n,"nip44-v2")},getMessageKeys(e,t){const n=Sy(ws,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}},calcPaddedLen(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)},writeU16BE(e){if(!Number.isSafeInteger(e)||e<qe.minPlaintextSize||e>qe.maxPlaintextSize)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t},pad(e){const t=qe.utf8Encode(e),n=t.length,s=qe.writeU16BE(n),r=new Uint8Array(qe.calcPaddedLen(n)-n);return hr(s,t,r)},unpad(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<qe.minPlaintextSize||t>qe.maxPlaintextSize||n.length!==t||e.length!==2+qe.calcPaddedLen(t))throw new Error("invalid padding");return qe.utf8Decode(n)},hmacAad(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const s=hr(n,t);return Fr(ws,e,s)},decodePayload(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=Vt.decode(e)}catch(o){throw new Error("invalid base64: "+o.message)}const s=n.length;if(s<99||s>65603)throw new Error("invalid data length: "+s);const r=n[0];if(r!==2)throw new Error("unknown encryption version "+r);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}};function Z1(e,t,n=Eu(32)){const{chacha_key:s,chacha_nonce:r,hmac_key:o}=qe.getMessageKeys(t,n),i=qe.pad(e),l=Nu(s,r,i),a=qe.hmacAad(o,l,n);return Vt.encode(hr(new Uint8Array([2]),n,l,a))}function J1(e,t){const{nonce:n,ciphertext:s,mac:r}=qe.decodePayload(e),{chacha_key:o,chacha_nonce:i,hmac_key:l}=qe.getMessageKeys(t,n),a=qe.hmacAad(l,s,n);if(!Y0(a,r))throw new Error("invalid MAC");const c=Nu(o,i,s);return qe.unpad(c)}var gf={utils:qe,encrypt:Z1,decrypt:J1},Y1={v2:gf},Q1={};Oe(Q1,{makeNwcRequestEvent:()=>e_,parseConnectionString:()=>X1});function X1(e){const{pathname:t,searchParams:n}=new URL(e),s=t,r=n.get("relay"),o=n.get("secret");if(!s||!r||!o)throw new Error("invalid connection string");return{pubkey:s,relay:r,secret:o}}async function e_(e,t,n){const r=await of(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),o={kind:Qu,created_at:Math.round(Date.now()/1e3),content:r,tags:[["p",e]]};return vt(o,t)}var t_={};Oe(t_,{getZapEndpoint:()=>s_,makeZapReceipt:()=>i_,makeZapRequest:()=>r_,useFetchImplementation:()=>n_,validateZapRequest:()=>o_});var Ji;try{Ji=fetch}catch{}function n_(e){Ji=e}async function s_(e){try{let t="",{lud06:n,lud16:s}=JSON.parse(e.content);if(n){let{words:i}=es.decode(n,1e3),l=es.fromWords(i);t=Mt.decode(l)}else if(s){let[i,l]=s.split("@");t=new URL(`/.well-known/lnurlp/${i}`,`https://${l}`).toString()}else return null;let o=await(await Ji(t)).json();if(o.allowsNostr&&o.nostrPubkey)return o.callback}catch{}return null}function r_({profile:e,event:t,amount:n,relays:s,comment:r=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let o={kind:9734,created_at:Math.round(Date.now()/1e3),content:r,tags:[["p",e],["amount",n.toString()],["relays",...s]]};return t&&o.tags.push(["e",t]),o}function o_(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!Hu(t))return"Zap request is not a valid Nostr event.";if(!Ln(t))return"Invalid signature on zap request.";let n=t.tags.find(([o,i])=>o==="p"&&i);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let s=t.tags.find(([o,i])=>o==="e"&&i);return s&&!s[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([o,i])=>o==="relays"&&i)?null:"Zap request doesn't have a 'relays' tag."}function i_({zapRequest:e,preimage:t,bolt11:n,paidAt:s}){let r=JSON.parse(e),o=r.tags.filter(([l])=>l==="e"||l==="p"||l==="a"),i={kind:9735,created_at:Math.round(s.getTime()/1e3),content:"",tags:[...o,["P",r.pubkey],["bolt11",n],["description",e]]};return t&&i.tags.push(["preimage",t]),i}var l_={};Oe(l_,{getToken:()=>a_,hashPayload:()=>Yi,unpackEventFromToken:()=>vf,validateEvent:()=>xf,validateEventKind:()=>wf,validateEventMethodTag:()=>bf,validateEventPayloadTag:()=>Ef,validateEventTimestamp:()=>_f,validateEventUrlTag:()=>mf,validateToken:()=>c_});var yf="Nostr ";async function a_(e,t,n,s=!1,r){const o={kind:qi,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};r&&o.tags.push(["payload",Yi(r)]);const i=await n(o);return(s?yf:"")+Vt.encode(At.encode(JSON.stringify(i)))}async function c_(e,t,n){const s=await vf(e).catch(o=>{throw o});return await xf(s,t,n).catch(o=>{throw o})}async function vf(e){if(!e)throw new Error("Missing token");e=e.replace(yf,"");const t=Mt.decode(Vt.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function _f(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function wf(e){return e.kind===qi}function mf(e,t){const n=e.tags.find(s=>s[0]==="u");return n?n.length>0&&n[1]===t:!1}function bf(e,t){const n=e.tags.find(s=>s[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function Yi(e){const t=ws(At.encode(JSON.stringify(e)));return et(t)}function Ef(e,t){const n=e.tags.find(r=>r[0]==="payload");if(!n)return!1;const s=Yi(t);return n.length>0&&n[1]===s}async function xf(e,t,n,s){if(!Ln(e))throw new Error("Invalid nostr event, signature invalid");if(!wf(e))throw new Error("Invalid nostr event, kind invalid");if(!_f(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!mf(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!bf(e,n))throw new Error("Invalid nostr event, method tag invalid");if(s&&typeof s=="object"&&Object.keys(s).length>0&&!Ef(e,s))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}const zn=async(e,t=[],n)=>{const s=Sf(e,t,n),r=kf(e,t,n),o=Rf(e,t,n),i=f_(e,t,n);return Promise.all([s,r,o,i])},ri=async(e,t,n=[],s)=>{const r=Sf(t,n,s),o=kf(t,n,s),i=Rf(t,n,s),l=d_(t,n,s);return u_(e,t),Promise.all([r,o,i,l])},u_=(e,t)=>{for(const n of t)n.replyingTo={user:e.author,pubkey:e.pubkey}},f_=async(e,t=[],n)=>{var i;if(!t.length)return e;const s=n||new Ft,r=e.map(l=>l.id),o=await s.querySync(t,{kinds:[1],"#e":r});for(const l of e){let a=0;for(const c of o){const u=It.parse(c);!u.reply&&((i=u==null?void 0:u.root)==null?void 0:i.id)===l.id&&a++}l.replies=a}},d_=async(e,t=[],n)=>{var i;if(!t.length)return e;const s=n||new Ft,r=e.map(l=>l.id),o=await s.querySync(t,{kinds:[1],"#e":r});for(const l of e){let a=0;for(const c of o){const u=It.parse(c);((i=u==null?void 0:u.reply)==null?void 0:i.id)===l.id&&a++}l.replies=a}},As=(e,t)=>{const n=[...e],s=[];return n.forEach(r=>{let o=!1;t.forEach(i=>{if(!o&&r.pubkey===i.pubkey){const l=r;l.author=JSON.parse(i.content),l.authorEvent=i,s.push(r),o=!0}}),o||s.push(r)}),s},Rf=async(e,t=[],n)=>{if(!t.length)return e;let s=n||new Ft;for(const r of e){if(!h_(r.content)){r.references=[];continue}let o=rf(r);const i=[];for(let c=0;c<o.length;c++){let{profile:u}=o[c];if(!u)continue;const f=s.get(t,{kinds:[0],limit:1,authors:[u.pubkey]});i.push(f)}const l=await Promise.all(i),a=[];for(let c=0;c<o.length;c++){let{profile:u}=o[c];u&&l.forEach((f,d)=>{if((f==null?void 0:f.pubkey)===(u==null?void 0:u.pubkey)){const h=o[d];h.profile_details=JSON.parse((f==null?void 0:f.content)||"{}"),a.push(h)}})}r.references=a}},Sf=async(e,t=[],n)=>{if(!t.length)return e;const s=e.map(i=>i.id),o=await(n||new Ft).querySync(t,{kinds:[7],"#e":s});e.forEach(i=>{let l=0;o.forEach(a=>{var u;const c=(u=a.tags.reverse().find(f=>f[0]==="e"))==null?void 0:u[1];c&&c===i.id&&a.content&&p_(a.content)&&l++}),i.likes=l})},kf=async(e,t=[],n)=>{if(!t.length)return e;const s=e.map(i=>i.id),o=await(n||new Ft).querySync(t,{kinds:[6],"#e":s});e.forEach(i=>{let l=0;o.forEach(a=>{var u;const c=(u=a.tags.find(f=>f[0]==="e"))==null?void 0:u[1];c&&c===i.id&&l++}),i.reposts=l})},h_=e=>e.indexOf("nostr:npub")!==-1||e.indexOf("nostr:nprofile1")!==-1,p_=e=>!["-","👎"].includes(e),xo=e=>{try{const t=new WebSocket(e);return new Promise(n=>{t.onopen=()=>{t.close(),n(!0)},t.onerror=()=>{t.close(),n(!1)}})}catch{return Promise.resolve(!1)}},ba=e=>/^[a-f0-9]{64}$/.test(e),g_=(e,t,n)=>{const s=new Promise(o=>{setTimeout(()=>{o(null)},n)}),r=new Promise(o=>{const i=e.subscribe(t,{onevent(l){o(l)},oneose(){i.close()}})});return Promise.race([r,s])},$f=e=>{const{tags:t}=e,n={read:[],write:[],all:[]};return t.length&&t.forEach(s=>{if(s[0]==="r"){const o=Bs.normalizeURL(s[1]),i=s[2];i?i==="read"?n.read.push(o):i==="write"&&n.write.push(o):(n.read.push(o),n.write.push(o)),n.all.push({url:o,type:i||"write"})}}),n},Qi=async(e,t,n)=>{const s=e.map(async r=>{const o=await t.publish([r],n),i=(await Promise.allSettled(o))[0];return{relay:r,success:i.status==="fulfilled"}});return await Promise.all(s)},Cf=e=>new Date(e*1e3).toLocaleString("default",{day:"numeric",month:"short",hour:"numeric",minute:"numeric"}),Af=e=>(Pt("data-v-393546d0"),e=e(),Tt(),e),y_={class:"event-details"},v_={key:0},__={class:"highlight"},w_={key:1},m_={key:0,class:"highlight"},b_={key:1,class:"event-details__no-user"},E_=Af(()=>m("div",null,"No info about author on this relay.",-1)),x_={class:"highlight"},R_={key:2},S_={key:0,class:"highlight"},k_={key:1,class:"event-details__no-user"},$_=Af(()=>m("div",null,"No info about author on this relay.",-1)),C_={class:"highlight"},A_=Me({__name:"RawData",props:{event:{},authorEvent:{},isUserEvent:{}},setup(e){const t=e,n=z(1),s=z(!0),r=z(),o=z({});qt(()=>{const{event:a,authorEvent:c}=t;r.value=i(a),c&&(o.value=i(c)),t.authorEvent&&(s.value=t.event.id!==t.authorEvent.id)});const i=a=>{const{id:c,pubkey:u,created_at:f,kind:d,tags:h,content:v,sig:g}=a;return{id:c,pubkey:u,created_at:f,kind:d,tags:h,content:v,sig:g}},l=a=>{n.value=a};return(a,c)=>(T(),D("div",y_,[m("div",{class:Ie(["event-details__header",{"event-details__header_user":a.isUserEvent}])},[m("span",{onClick:c[0]||(c[0]=()=>l(1)),class:Ie(["event-details__tab",{"event-details__tab_active":n.value===1}])},"Note",2),s.value?(T(),D("span",{key:0,onClick:c[1]||(c[1]=()=>l(2)),class:Ie(["event-details__tab",{"event-details__tab_active":n.value===2}])},"Author",2)):ce("",!0),m("span",{onClick:c[2]||(c[2]=()=>l(3)),class:Ie(["event-details__tab",{"event-details__tab_active":n.value===3}])},"Author content",2)],2),n.value===1?(T(),D("div",v_,[m("pre",__,ae(JSON.stringify(r.value,null,2)),1)])):ce("",!0),s.value&&n.value===2?(T(),D("div",w_,[a.authorEvent?(T(),D("pre",m_,ae(JSON.stringify(o.value,null,2)),1)):(T(),D("div",b_,[E_,m("pre",x_,"pubkey: "+ae(a.event.pubkey)+` 
npub: `+ae(de(Qe).npubEncode(a.event.pubkey)),1)]))])):ce("",!0),n.value===3?(T(),D("div",R_,[a.event.author?(T(),D("pre",S_,ae(JSON.stringify(a.event.author,null,2)),1)):(T(),D("div",k_,[$_,m("pre",C_,"pubkey: "+ae(a.event.pubkey)+`
npub: `+ae(de(Qe).npubEncode(a.event.pubkey)),1)]))])):ce("",!0)]))}});const Ce=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},If=Ce(A_,[["__scopeId","data-v-393546d0"]]),I_={},P_={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-heart",viewBox:"0 0 16 16"},T_=m("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"},null,-1),B_=[T_];function L_(e,t){return T(),D("svg",P_,B_)}const U_=Ce(I_,[["render",L_]]),O_={},N_={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-repeat",viewBox:"0 0 16 16"},M_=m("path",{d:"M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192m3.81.086a.5.5 0 0 1 .67.225A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.25.25 0 0 1 0-.384l2.36-1.966a.25.25 0 0 1 .41.192V12h6a4 4 0 0 0 3.585-5.777.5.5 0 0 1 .225-.67Z"},null,-1),H_=[M_];function j_(e,t){return T(),D("svg",N_,H_)}const F_=Ce(O_,[["render",j_]]),V_={},D_={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-reply",viewBox:"0 0 16 16"},q_=m("path",{d:"M6.598 5.013a.144.144 0 0 1 .202.134V6.3a.5.5 0 0 0 .5.5c.667 0 2.013.005 3.3.822.984.624 1.99 1.76 2.595 3.876-1.02-.983-2.185-1.516-3.205-1.799a8.74 8.74 0 0 0-1.921-.306 7.404 7.404 0 0 0-.798.008h-.013l-.005.001h-.001L7.3 9.9l-.05-.498a.5.5 0 0 0-.45.498v1.153c0 .108-.11.176-.202.134L2.614 8.254a.503.503 0 0 0-.042-.028.147.147 0 0 1 0-.252.499.499 0 0 0 .042-.028l3.984-2.933zM7.8 10.386c.068 0 .143.003.223.006.434.02 1.034.086 1.7.271 1.326.368 2.896 1.202 3.94 3.08a.5.5 0 0 0 .933-.305c-.464-3.71-1.886-5.662-3.46-6.66-1.245-.79-2.527-.942-3.336-.971v-.66a1.144 1.144 0 0 0-1.767-.96l-3.994 2.94a1.147 1.147 0 0 0 0 1.946l3.994 2.94a1.144 1.144 0 0 0 1.767-.96v-.667z"},null,-1),K_=[q_];function z_(e,t){return T(),D("svg",D_,K_)}const W_=Ce(V_,[["render",z_]]),G_={},Z_={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-chat",viewBox:"0 0 16 16"},J_=m("path",{d:"M2.678 11.894a1 1 0 0 1 .287.801 11 11 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8 8 0 0 0 8 14c3.996 0 7-2.807 7-6s-3.004-6-7-6-7 2.808-7 6c0 1.468.617 2.83 1.678 3.894m-.493 3.905a22 22 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a10 10 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9 9 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105"},null,-1),Y_=[J_];function Q_(e,t){return T(),D("svg",Z_,Y_)}const X_=Ce(G_,[["render",Q_]]),ew={class:"actions-bar"},tw={class:"actions-bar__action actions-bar__num"},nw={class:"actions_bar-number"},sw={class:"actions-bar__action actions-bar__num"},rw={class:"actions_bar-number"},ow={class:"actions_bar-number"},iw=Me({__name:"EventActionsBar",props:{likes:{},reposts:{},replies:{},hasReplyBtn:{type:Boolean}},emits:["showReplyField","handleShowReplies","handleHideReplies"],setup(e,{emit:t}){const n=t,s=()=>{n("showReplyField")},r=()=>{n("handleShowReplies")};return(o,i)=>(T(),D("div",ew,[m("span",tw,[ye(U_,{class:"actions-bar__icon"}),m("span",nw,ae(o.likes),1)]),m("span",sw,[ye(F_,{class:"actions-bar__icon"}),m("span",rw,ae(o.reposts),1)]),o.hasReplyBtn?(T(),D("span",{key:0,onClick:r,class:"actions-bar__action actions-bar__num actions-bar__replies"},[ye(X_,{class:"actions-bar__icon"}),m("span",ow,ae(o.replies),1)])):ce("",!0),o.hasReplyBtn?(T(),D("span",{key:1,onClick:s,class:"actions-bar__action actions-bar__reply"},[ye(W_,{class:"actions-bar__icon"})])):ce("",!0)]))}});const Gr=Kt("npub",()=>{const e=z(""),t=z("");function n(r){e.value=r}function s(r){t.value=r}return{npub:e,cachedUrlNpub:t,updateNpub:n,updateCachedUrl:s}}),Xi=Kt("user",()=>{const e=z(!1);function t(n){e.value=n}return{isRoutingUser:e,updateRoutingStatus:t}}),lw={class:"event-content"},aw={key:0},cw={key:1},uw=["onClick"],fw=Me({__name:"EventText",props:{event:{},slice:{}},setup(e){const t=e,n=Ur(),s=Gr(),r=Xi(),o=z([]);qt(()=>{o.value=l(t.event,t.slice)}),kr(()=>{o.value=l(t.event,t.slice)});const i=(f,d)=>{let h=[],v="";for(const g of f){const y=v.length;if(v+=g.value,v.length<=d)h.push(g);else{if(g.type==="text"){const w=d-y;g.value=g.value.slice(0,w)}h.push(g),h.push({type:"text",value:"..."});break}}return h},l=(f,d)=>{const h=f.content,v=f.references,g=[];v.forEach(x=>{let S=h.indexOf(x.text);if(g.includes(S))for(const M of g){if(!g.includes(S))break;S=h.indexOf(x.text,S+x.text.length)}x.textIndex=S,g.push(S)}),v.sort((x,S)=>x.textIndex-S.textIndex);let y=[],w=h;return v.forEach(x=>{const S=w.indexOf(x.text),M=w.slice(0,S),q=w.slice(S+x.text.length),C=a(x);y.push({type:"text",value:M}),y.push({type:"profile",value:C,npub:c(x.profile.pubkey)}),w=q}),y.push({type:"text",value:w}),d&&(y=i(y,d)),y},a=f=>{const d=f.profile_details,h=c(f.profile.pubkey);return`@${d.name||d.username||d.display_name||`${h.slice(0,15)}...`}`},c=f=>Qe.npubEncode(f),u=f=>{f&&(s.updateNpub(f),r.updateRoutingStatus(!0),n.push({path:`/user/${f}`}))};return(f,d)=>(T(),D("div",lw,[(T(!0),D(xe,null,dt(o.value,h=>(T(),D("span",null,[h.type==="text"?(T(),D("span",aw,ae(h.value),1)):ce("",!0),h.type==="profile"?(T(),D("span",cw,[m("a",{onClick:Ho(()=>u(h.npub),["prevent"]),href:"#"},ae(h.value),9,uw)])):ce("",!0)]))),256))]))}});const dw=Ce(fw,[["__scopeId","data-v-7fd067cb"]]);/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */new Uint8Array(new Uint32Array([287454020]).buffer)[0];const Lt={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Ea(e){if(e>=Lt._0&&e<=Lt._9)return e-Lt._0;if(e>=Lt._A&&e<=Lt._F)return e-(Lt._A-10);if(e>=Lt._a&&e<=Lt._f)return e-(Lt._a-10)}function hw(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const s=new Uint8Array(n);for(let r=0,o=0;r<n;r++,o+=2){const i=Ea(e.charCodeAt(o)),l=Ea(e.charCodeAt(o+1));if(i===void 0||l===void 0){const a=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+a+'" at index '+o)}s[r]=i*16+l}return s}const Un=Kt("nsec",()=>{const e=z(""),t=z(!1),n=z("");function s(f){e.value=f}function r(f){n.value=f}function o(f){t.value=f}function i(){try{const f=l();if(!f)throw new Error("Invalid private key");return By(f)}catch{return""}}function l(){try{return e.value.indexOf("nsec")===-1?hw(e.value):Qe.decode(e.value).data}catch{return null}}function a(){return e.value.length>0&&u()}function c(){return e.value.length>0&&!u()}function u(){return e.value.length===0?!1:i().length>0}return{nsec:e,updateNsec:s,rememberMe:t,setRememberMe:o,isNsecValid:u,isValidNsecPresented:a,isNotValidNsecPresented:c,getPubkey:i,cachedNsec:n,updateCachedNsec:r,getPrivkeyBytes:l}}),Zr=Kt("images",()=>{const e=z(!1);function t(n){e.value=n}return{showImages:e,updateShowImages:t}}),Os=Kt("pub-key",()=>{const e=z("");function t(n){e.value=n}return{fromPrivate:e,updateKeyFromPrivate:t}}),{normalizeURL:Ut}=Bs,vn=Kt("relay",()=>{const e=z({}),t=z(!1),n=z(""),s=z(""),r=z(""),o=z(0),i=z([]),l=z([]),a=z([]),c=z([]),u=Pe(()=>{const B=new Set([...a.value,...c.value]),b=[],R=[];return B.forEach($=>{a.value.includes($)&&!c.value.includes($)?b.push({url:$,type:"read"}):R.push({url:$,type:"write"})}),[...b,...R].sort(($,P)=>$.url.localeCompare(P.url))}),f=Pe(()=>u.value.map(B=>B.url)),d=Pe(()=>{const B=n.value,b=f.value;return b.includes(B)?b:[B,...b]}),h=Pe(()=>{const B=a.value,b=c.value,R=new Set([...B,...b]),$=[];return R.forEach(P=>{B.includes(P)&&b.includes(P)?$.push(["r",P]):B.includes(P)?$.push(["r",P,"read"]):b.includes(P)&&$.push(["r",P,"write"])}),$}),v=Pe(()=>l.value.map(B=>B.replace("wss://","").replace("/","")).join(", ")),g=Pe(()=>n.value.length>0);function y(B){e.value=B}function w(B){t.value=B}function x(B){n.value=B==="custom"||B===""?B:Ut(B)}function S(B){l.value=B.map(b=>Ut(b))}function M(B){a.value=B.map(b=>Ut(b))}function q(B){c.value=B.map(b=>Ut(b))}function C(B){c.value.includes(B)||c.value.push(Ut(B))}function K(B){const b=Ut(B);if(!b||f.value.includes(b))return!1;a.value.push(b)}function A(B){c.value=c.value.filter(b=>b!==B)}function H(B){a.value=a.value.filter(b=>b!==B),c.value=c.value.filter(b=>b!==B),l.value=l.value.filter(b=>b!==B)}function F(B){s.value=Ut(B)}function G(B){r.value=Ut(B)}function se(B){o.value=B}function U(B,b){i.value[B]=b.length?Ut(b):""}return{isConnectingToRelay:t,setConnectionToRelayStatus:w,connectedRelayUrl:n,setConnectedRelayUrl:x,connectedReedRelayUrls:l,setConnectedReedRelayUrls:S,selectedRelay:s,setSelectedRelay:F,customRelayUrl:r,setCustomRelayUrl:G,currentRelay:e,updateCurrentRelay:y,additionalRelaysCountForSignedEvent:o,updateAdditionalRelaysCountForSignedEvent:se,additionalRelaysUrlsForSignedEvent:i,updateRelayAdditionalRelaysUrlsForSignedEvent:U,connectedRelaysPrettyStr:v,reedRelays:a,writeRelays:c,setReedRelays:M,setWriteRelays:q,isConnectedToRelay:g,allRelays:u,removeWriteRelay:A,addWriteRelay:C,removeUserRelay:H,addUserRelay:K,nip65Tags:h,allRelaysUrls:f,allRelaysUrlsWithConnectedRelay:d}}),pw={},gw={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-link-45deg",viewBox:"0 0 16 16"},yw=m("path",{d:"M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"},null,-1),vw=m("path",{d:"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"},null,-1),_w=[yw,vw];function ww(e,t){return T(),D("svg",gw,_w)}const xa=Ce(pw,[["render",ww]]),mw={},bw={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-check2",viewBox:"0 0 16 16"},Ew=m("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0"},null,-1),xw=[Ew];function Rw(e,t){return T(),D("svg",bw,xw)}const Ra=Ce(mw,[["render",Rw]]),Sw={},kw={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",class:"bi bi-check-square",viewBox:"0 0 16 16"},$w=m("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"},null,-1),Cw=m("path",{d:"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"},null,-1),Aw=[$w,Cw];function Iw(e,t){return T(),D("svg",kw,Aw)}const Pf=Ce(Sw,[["render",Iw]]),Pw={},Tw={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",class:"bi bi-exclamation-octagon",viewBox:"0 0 16 16"},Bw=m("path",{d:"M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1z"},null,-1),Lw=m("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"},null,-1),Uw=[Bw,Lw];function Ow(e,t){return T(),D("svg",Tw,Uw)}const Tf=Ce(Pw,[["render",Ow]]),Nw={class:"event-card"},Mw={key:0,class:"event-img"},Hw=["src","title"],jw={class:"event-content"},Fw={class:"event-header"},Vw=["href"],Dw={class:"event-username-text"},qw={key:0,class:"event-replying-to"},Kw=["href"],zw={class:"event-body"},Ww={class:"event-footer"},Gw={class:"event-footer__right-actions"},Zw={class:"event-footer__link-wrapper"},Jw={class:"event__raw-data"},Yw={class:"event-footer-code-wrapper"},Qw={class:"event-footer__signature-text"},Xw={class:"event-footer__right-actions"},em={class:"event-footer__link-wrapper"},tm={key:0,class:"reply-field"},nm={class:"reply-field__actions"},sm={class:"reply-field__error"},rm=["disabled"],om={key:1,class:"loading-replies"},im={key:2,class:"replies"},lm=Me({__name:"EventContent",props:{event:{},pool:{},pubKey:{},index:{},hasReplyBtn:{type:Boolean},replyErr:{},isReplySent:{type:Boolean},isReplySentError:{type:Boolean},sliceText:{},isRootEvent:{type:Boolean},currentReadRelays:{}},emits:["toggleRawData","showReplyField","sendReply","resetSentStatus","loadMoreReplies"],setup(e,{emit:t}){const n=t,s=z(""),r=z(""),o=e,i=Ur(),l=Gr(),a=Un(),c=Xi(),u=Zr(),f=Os(),d=vn(),h=z(!1),v=z(!1),g=z([]),y=z(!1),w=z(!1),x=z(!1),S=z(!1),M=U=>{if(o.isRootEvent)return n("toggleRawData",U);o.event.showRawData=!o.event.showRawData},q=U=>`/user/${Qe.npubEncode(U)}`;qt(()=>{Object.keys(o.event).length!==0&&(x.value=Ln(o.event))}),kr(()=>{o.isRootEvent&&(o.replyErr&&(r.value=o.replyErr),o.isReplySent&&(v.value=!1,h.value=!1,s.value="",n("resetSentStatus")),o.isReplySentError&&(v.value=!1,n("resetSentStatus")))});const C=(U,B)=>U?U.name?U.name:U.username?U.username:U.display_name:Qe.npubEncode(B).slice(0,15)+"...",K=()=>{h.value=!h.value,n("showReplyField")},A=async()=>{if(v.value)return;if(!(a.nsec?a.nsec.trim():"").length){r.value="Please provide your private key or generate random key.";return}const B=s.value.trim();if(!B.length){r.value="Please provide message to broadcast.";return}let b,R;try{if(b=a.getPrivkeyBytes(),!b)throw new Error;if(R=a.getPubkey(),!R.length)throw new Error;f.updateKeyFromPrivate(R)}catch{r.value="Invalid private key. Please check it and try again.";return}const $={kind:1,pubkey:R,created_at:Math.floor(Date.now()/1e3),content:B,tags:[],id:"",sig:""},P=[],I=[];o.event.tags.forEach(ie=>{const p=[ie[0],ie[1]];ie[2]&&p.push(ie[2]),ie[3]&&p.push(ie[3]),p[0]==="e"?P.push(p):p[0]==="p"&&I.push(p)});const J=[];if(P.length){const ie=P.find(p=>p[3]==="root");ie?J.push(ie):J.push(P[0]),J.push(["e",o.event.id,"","reply"])}else J.push(["e",o.event.id,"","root"]);const te=rf($),X=I.map(ie=>ie[1]),he=[];te.forEach(ie=>{var _;const p=(_=ie==null?void 0:ie.profile)==null?void 0:_.pubkey;p&&!X.includes(p)&&(he.push(["p",p]),X.push(p))});const ne=[...he,...I];X.includes(o.event.pubkey)||ne.push(["p",o.event.pubkey]),$.tags=[...ne,...J];const oe=vt($,b);r.value="",v.value=!0;const W=ne.filter(ie=>ie[1]!==R).map(ie=>ie[1]);let E=[];const{pool:O}=o;if(W.length){const ie=[...d.reedRelays,...d.writeRelays,d.connectedRelayUrl];let p=[...new Set(ie)];const _=await O.querySync(p,{kinds:[10002],authors:W}),k=new Set;_.forEach(j=>{if(j.tags.length){const{read:N}=$f(j);N.forEach(Y=>{d.writeRelays.includes(Y)||k.add(Y)})}}),E=[...k]}if(o.isRootEvent)return n("sendReply",oe,E);const L=d.writeRelays;if(!L.length){r.value="Please provide your write relays to broadcast event";return}if(console.log("broadcasting event in REPLY handleSendReply"),console.log("event",$),console.log("relays",L),!(await Qi(L,O,$)).some(ie=>ie.success)){r.value="Failed to broadcast reply",console.log("failed to broadcast reply");return}if(console.log("additionalRelays",E),E.length)try{await O.publish(E,$)}catch{console.error("Failed to broadcast reply to some additional relays")}v.value=!1,h.value=!1,s.value="",H()},H=async()=>{const{event:U,currentReadRelays:B,pool:b}=o;if(!(B!=null&&B.length)||!b)return;if(o.isRootEvent)return n("loadMoreReplies");S.value=!0;let R=await b.querySync(B,{kinds:[1],"#e":[U.id]});R=R.filter(J=>{var X,he;const te=It.parse(J);return((X=te==null?void 0:te.root)==null?void 0:X.id)===U.id||((he=te==null?void 0:te.reply)==null?void 0:he.id)===U.id});const $=R.map(J=>J.pubkey),P=[...new Set($)],I=await b.querySync(B,{kinds:[0],authors:P});R=As(R,I),await ri(U,R,B,b),g.value=R,y.value=!0,S.value=!1},F=()=>{y.value=!1},G=()=>{const{origin:U,pathname:B}=window.location;let b=Qe.noteEncode(o.event.id);const R=`${U}${B}#/event/${b}`;navigator.clipboard.writeText(R),w.value=!0,setTimeout(()=>{w.value=!1},2e3)},se=U=>{const B=Qe.npubEncode(U);l.updateNpub(B),c.updateRoutingStatus(!0),i.push({path:q(U)})};return(U,B)=>{const b=xs("EventContent",!0);return T(),D(xe,null,[m("div",Nw,[m("div",{class:Ie(["event-card__content",{flipped:U.event.showRawData}])},[m("div",{class:Ie(["event-card__front","event__presentable-date",{"event-card__front_custom":U.pubKey===U.event.pubkey}])},[de(u).showImages&&U.event.author?(T(),D("div",Mw,[m("img",{class:"author-pic",src:U.event.author.picture,alt:"img",title:`Avatar for ${U.event.author.name}`},null,8,Hw)])):ce("",!0),m("div",jw,[m("div",Fw,[m("div",null,[m("a",{class:"event-username-link",onClick:B[0]||(B[0]=Ho(()=>se(U.event.pubkey),["prevent"])),href:q(U.event.pubkey)},[m("b",Dw,ae(C(U.event.author,U.event.pubkey)),1)],8,Vw)]),m("div",null,ae(de(Cf)(U.event.created_at)),1)]),U.event.replyingTo?(T(),D("div",qw,[$e(" Replying to "),m("a",{onClick:B[1]||(B[1]=Ho(()=>se(U.event.replyingTo.pubkey),["prevent"])),href:q(U.event.replyingTo.pubkey),class:"event-username-link event-username-text"},"@"+ae(C(U.event.replyingTo.user,U.event.replyingTo.pubkey)),9,Kw)])):ce("",!0),m("div",zw,[ye(dw,{event:U.event,slice:U.sliceText},null,8,["event","slice"])]),m("div",Ww,[ye(iw,{onShowReplyField:K,onHandleShowReplies:H,onHandleHideReplies:F,hasReplyBtn:U.hasReplyBtn,likes:U.event.likes,reposts:U.event.reposts,replies:U.event.replies},null,8,["hasReplyBtn","likes","reposts","replies"]),m("div",Gw,[m("div",Zw,[w.value?(T(),Be(Ra,{key:0,class:"event-footer-copy-icon event-footer-copy-icon_check"})):ce("",!0),w.value?ce("",!0):(T(),Be(xa,{key:1,onClick:G,title:"Copy link",class:"event-footer-copy-icon"}))]),m("span",{onClick:B[2]||(B[2]=()=>M(U.event.id)),title:"See raw data",class:"event-footer-code"}," {...} ")])])])],2),m("div",{class:Ie(["event-card__back",{"event-card__back_custom":U.pubKey===U.event.pubkey,"event-details-first":U.index===0}])},[m("div",Jw,[ye(If,{event:U.event,authorEvent:U.event.authorEvent},null,8,["event","authorEvent"])]),m("div",Yw,[m("div",{class:Ie(["event-footer__signature",{"event-footer__signature_invalid":!x.value}])},[x.value?(T(),Be(Pf,{key:0})):ce("",!0),x.value?ce("",!0):(T(),Be(Tf,{key:1})),m("span",Qw,ae(x.value?"Signature is valid":"Invalid signature"),1)],2),m("div",Xw,[m("div",em,[w.value?(T(),Be(Ra,{key:0,class:"event-footer-copy-icon event-footer-copy-icon_check"})):ce("",!0),w.value?ce("",!0):(T(),Be(xa,{key:1,onClick:G,title:"Copy link",class:"event-footer-copy-icon"}))]),m("span",{onClick:B[3]||(B[3]=()=>M(U.event.id)),title:"See raw data",class:"event-footer-code"}," {...} ")])])],2)],2)]),h.value?(T(),D("div",tm,[Dn(m("textarea",{"onUpdate:modelValue":B[4]||(B[4]=R=>s.value=R),rows:"4",class:"reply-field__textarea",placeholder:"Write a reply..."},null,512),[[Ss,s.value]]),m("div",nm,[m("div",sm,ae(r.value),1),m("button",{disabled:v.value,onClick:A,class:"reply-field__btn"},ae(v.value?"Sending reply...":"Reply"),9,rm)])])):ce("",!0),S.value?(T(),D("div",om," Loading replies... ")):ce("",!0),y.value&&g.value.length?(T(),D("div",im,[(T(!0),D(xe,null,dt(g.value,(R,$)=>(T(),D("div",{class:"reply",key:R.id},[ye(b,{sliceText:U.sliceText,onToggleRawData:B[5]||(B[5]=()=>M(U.event.id)),event:R,currentReadRelays:U.currentReadRelays,pool:U.pool,hasReplyBtn:U.hasReplyBtn},null,8,["sliceText","event","currentReadRelays","pool","hasReplyBtn"])]))),128))])):ce("",!0)],64)}}});const Ro=Ce(lm,[["__scopeId","data-v-58e8d5dd"]]),am={},cm={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrows-expand",viewBox:"0 0 16 16"},um=m("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8ZM7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2ZM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10Z"},null,-1),fm=[um];function dm(e,t){return T(),D("svg",cm,fm)}const hm=Ce(am,[["render",dm]]),Ns=Kt("pool",()=>{const e=z(new Ft),t=z(new Ft),n=z(new Ft);return{eventPool:e,feedPool:t,userPool:n}}),Bf=e=>(Pt("data-v-4ff832ef"),e=e(),Tt(),e),pm={class:"event"},gm={key:0},ym={key:1,class:"replies"},vm={class:"replies__other-link"},_m=Bf(()=>m("span",{class:"replies__other-text"}," Show more replies ",-1)),wm={key:1,class:"replies__other"},mm={key:2,class:"replies__other"},bm={class:"replies__other-text"},Em={key:4},xm={key:5,class:"replies__list"},Rm={class:"replies__list-item"},Sm=Bf(()=>m("div",{class:"replies__list-item-line-horizontal"},null,-1)),km=Me({__name:"EventView",props:{event:{},pubKey:{},index:{},sliceText:{},sliceTextReply:{},showReplies:{type:Boolean},hasReplyBtn:{type:Boolean},currentReadRelays:{}},emits:["toggleRawData"],setup(e,{emit:t}){const n=vn(),r=Ns().eventPool,o=t,i=z(""),l=e,a=z(!1),c=z(!1),u=z(!1),f=z(!1),d=z(!1),h=z(!1),v=z(!1),g=z(null),y=z([]);qt(async()=>{l.showReplies&&await w()});const w=async()=>{const{event:A,currentReadRelays:H}=l;if(!H.length)return;let F=await r.querySync(H,{kinds:[1],"#e":[A.id]});if(F=F.filter(B=>{var R;const b=It.parse(B);return!b.reply&&((R=b==null?void 0:b.root)==null?void 0:R.id)===A.id}),!F.length)return;d.value=!0,c.value=F.length>1;let G=F[0],se=[G];await ri(A,se,H,r),G=se[0];const U=await r.get(H,{kinds:[0],limit:1,authors:[G.pubkey]});U&&(G.author=JSON.parse(U.content)),g.value=G,d.value=!1},x=(A,H=!1)=>{if(H)return o("toggleRawData",A)},S=()=>{a.value=!a.value},M=async()=>{const{event:A,currentReadRelays:H}=l;if(!H.length)return;f.value=!0;let F=await r.querySync(H,{kinds:[1],"#e":[A.id]});if(F=F.filter(B=>{var R;const b=It.parse(B);return!b.reply&&((R=b==null?void 0:b.root)==null?void 0:R.id)===A.id}),!F.length){f.value=!1;return}const G=F.map(B=>B.pubkey),se=[...new Set(G)],U=await r.querySync(H,{kinds:[0],authors:se});F=As(F,U),await ri(A,F,H,r),y.value=F,u.value=!0,f.value=!1},q=async(A,H)=>{const F=n.writeRelays;if(!F.length){C("Please provide your write relays to broadcast event");return}if(!(await Qi(F,r,A)).some(U=>U.success)){C("Failed to broadcast reply"),console.log("Failed to broadcast reply");return}if(H!=null&&H.length)try{await r.publish(H,A)}catch{console.error("Failed to broadcast reply to some additional relays")}i.value="",await Er(),h.value=!0,v.value=!1,a.value=!1,u.value?await M():await w()},C=A=>{h.value=!1,v.value=!0,i.value=A},K=()=>{h.value=!1,v.value=!1};return(A,H)=>(T(),D("div",pm,[(T(),Be(Ro,{key:A.event.id,onSendReply:q,onShowReplyField:S,onToggleRawData:H[0]||(H[0]=F=>x(F,!0)),onResetSentStatus:K,onLoadMoreReplies:M,event:A.event,replyErr:i.value,pubKey:A.pubKey,isReplySent:h.value,sliceText:A.sliceText,isRootEvent:!0,currentReadRelays:A.currentReadRelays,pool:de(r),hasReplyBtn:A.hasReplyBtn},null,8,["event","replyErr","pubKey","isReplySent","sliceText","currentReadRelays","pool","hasReplyBtn"])),d.value?(T(),D("div",gm,"Loading replies...")):ce("",!0),A.showReplies&&g.value?(T(),D("div",ym,[!u.value&&c.value&&!f.value?(T(),D("div",{key:0,onClick:M,class:"replies__other"},[m("span",vm,[_m,ye(hm)])])):ce("",!0),f.value?(T(),D("div",wm," Loading replies... ")):ce("",!0),u.value&&c.value?(T(),D("div",mm,[m("span",bm," Loaded "+ae(y.value.length)+" replies ",1)])):ce("",!0),m("div",{class:Ie(["line-vertical",{"line-vertical_long":c.value,"line-vertical_reply-field":a.value&&!c.value,"line-vertical_reply-field_long":a.value&&c.value}])},null,2),u.value?ce("",!0):(T(),D("div",{key:3,class:Ie(["line-horizontal",{"line-horizontal_height":c.value}])},null,2)),u.value?ce("",!0):(T(),D("div",Em,[(T(),Be(Ro,{onSendReply:q,key:g.value.id,sliceText:A.sliceTextReply,event:g.value,currentReadRelays:A.currentReadRelays,pool:de(r),hasReplyBtn:A.hasReplyBtn},null,8,["sliceText","event","currentReadRelays","pool","hasReplyBtn"]))])),u.value?(T(),D("div",xm,[(T(!0),D(xe,null,dt(y.value,(F,G)=>(T(),D("div",Rm,[Sm,m("div",{class:Ie(["replies__list-item-line-vertical",{"replies__list-item-line-vertical_short":G===y.value.length-1}])},null,2),(T(),Be(Ro,{onSendReply:q,key:F.id,sliceText:A.sliceTextReply,event:F,currentReadRelays:A.currentReadRelays,pool:de(r),hasReplyBtn:A.hasReplyBtn},null,8,["sliceText","event","currentReadRelays","pool","hasReplyBtn"]))]))),256))])):ce("",!0)])):ce("",!0)]))}});const Lf=Ce(km,[["__scopeId","data-v-4ff832ef"]]),$m=Me({__name:"RelayEventsList",props:{events:{},pubKey:{},currentReadRelays:{}},emits:["toggleRawData"],setup(e,{emit:t}){const n=t,s=r=>{n("toggleRawData",r)};return(r,o)=>(T(),D("div",null,[(T(!0),D(xe,null,dt(r.events,(i,l)=>(T(),Be(Lf,{key:i.id,class:"event",onToggleRawData:s,currentReadRelays:r.currentReadRelays,event:i,pubKey:r.pubKey,index:l,showReplies:!0,hasReplyBtn:!0,sliceText:150},null,8,["currentReadRelays","event","pubKey","index"]))),128))]))}});const Cm=Ce($m,[["__scopeId","data-v-84edcd50"]]),Am={key:0,class:"pagination"},Im={key:0},Pm={key:1},Tm={key:1},Bm={key:4},Lm=Me({__name:"Pagination",props:{pagesCount:{},currentPage:{}},emits:["showPage"],setup(e,{emit:t}){const n=t,s=Ps(),r=o=>({path:s.path,query:{...s.query,page:o}});return jt(()=>s.query.page,async o=>{const i=parseInt(o);i&&n("showPage",i)}),(o,i)=>{const l=xs("router-link");return o.pagesCount>1?(T(),D("div",Am,[$e(" Pages: "),o.pagesCount<5?(T(),D("span",Im,[(T(!0),D(xe,null,dt(o.pagesCount,a=>(T(),Be(l,{key:a,class:Ie(["pagination__link",{pagination__link_active:o.currentPage==a}]),to:r(a)},{default:Ye(()=>[$e(ae(a),1)]),_:2},1032,["class","to"]))),128))])):ce("",!0),o.pagesCount>=5?(T(),D("span",Pm,[o.currentPage>=3?(T(),Be(l,{key:1,class:Ie(["pagination__link"]),to:r(1)},{default:Ye(()=>[$e(ae(1))]),_:1},8,["to"])):ce("",!0),o.currentPage>3?(T(),D("span",Tm,"...")):ce("",!0),o.currentPage!=1?(T(),Be(l,{key:o.currentPage-1,class:Ie(["pagination__link"]),to:r(o.currentPage-1)},{default:Ye(()=>[$e(ae(o.currentPage-1),1)]),_:1},8,["to"])):ce("",!0),(T(),Be(l,{key:o.currentPage,class:Ie(["pagination__link pagination__link_active"]),to:r(o.currentPage)},{default:Ye(()=>[$e(ae(o.currentPage),1)]),_:1},8,["to"])),o.currentPage!=o.pagesCount?(T(),Be(l,{key:o.currentPage+1,class:Ie(["pagination__link"]),to:r(o.currentPage+1)},{default:Ye(()=>[$e(ae(o.currentPage+1),1)]),_:1},8,["to"])):ce("",!0),o.currentPage<o.pagesCount-2?(T(),D("span",Bm,"...")):ce("",!0),o.currentPage<=o.pagesCount-2?(T(),Be(l,{key:o.pagesCount,class:Ie(["pagination__link"]),to:r(o.pagesCount)},{default:Ye(()=>[$e(ae(o.pagesCount),1)]),_:1},8,["to"])):ce("",!0)])):ce("",!0)])):ce("",!0)}}});const Uf=Ce(Lm,[["__scopeId","data-v-fa836b0e"]]),Um=e=>(Pt("data-v-2db5cc65"),e=e(),Tt(),e),Om={class:"log"},Nm=Um(()=>m("strong",null,"Relay events log",-1)),Mm={class:"log__list"},Hm={class:"log__list-item"},jm={key:0},Fm={key:1},Vm=Me({__name:"RelayLog",props:{eventsLog:{}},setup(e){const t=e;return(n,s)=>(T(),D("div",Om,[Nm,m("ul",Mm,[(T(!0),D(xe,null,dt(t.eventsLog,r=>(T(),D("li",Hm,[(T(!0),D(xe,null,dt(r,({type:o,value:i})=>(T(),D(xe,null,[o==="text"?(T(),D("span",jm,ae(i),1)):(T(),D("b",Fm,ae(i),1))],64))),256))]))),256))])]))}});const Dm=Ce(Vm,[["__scopeId","data-v-2db5cc65"]]),Sa=["wss://nos.lol","wss://relay.nostr.band","wss://relay.nostr.ai","wss://relayable.org","wss://relay.damus.io"],mn=["wss://relay.damus.io","wss://nostr-pub.wellorder.net","wss://offchain.pub","wss://nostr.fmt.wiz.biz","wss://eden.nostr.land","wss://atlas.nostr.land","wss://relay.snort.social","wss://nostr.fly.dev","wss://nostr.nostr.band","wss://relay.nostrgraph.net","wss://relay.nostr.bg","wss://nostr.wine","wss://nos.lol","wss://relay.mostr.pub","wss://no.str.cr","wss://brb.io","wss://nostr.zebedee.cloud"],An=20,Jr=Kt("feed",()=>{const e=z([]),t=z(!1),n=z([]),s=z(0),r=z([]),o=z([]),i=z(""),l=z("");function a(S){e.value=S}function c(S){const M=e.value.find(q=>q.id===S);M&&(M.showRawData=!M.showRawData)}function u(S){t.value=S}function f(S){n.value=S}function d(S){s.value=S}function h(S){r.value=S}function v(S){r.value.push(S)}function g(S){o.value=S}function y(S){o.value.push(S)}function w(S){i.value=S}function x(S){l.value=S}return{events:e,updateEvents:a,toggleEventRawData:c,showNewEventsBadge:t,setShowNewEventsBadge:u,newEventsBadgeImageUrls:n,setNewEventsBadgeImageUrls:f,newEventsBadgeCount:s,setNewEventsBadgeCount:d,newEventsToShow:r,updateNewEventsToShow:h,pushToNewEventsToShow:v,paginationEventsIds:o,updatePaginationEventsIds:g,pushToPaginationEventsIds:y,messageToBroadcast:i,updateMessageToBroadcast:w,signedJson:l,updateSignedJson:x}}),qm=e=>(Pt("data-v-313ddb61"),e=e(),Tt(),e),Km={id:"feed"},zm={class:"columns"},Wm={key:0,class:"connecting-notice"},Gm={key:0,class:"new-events__imgs"},Zm=["src"],Jm=["src"],Ym={class:"new-events__text"},Qm=qm(()=>m("b",{class:"new-events__arrow"},"↑",-1)),Xm=Me({__name:"Feed",props:{eventsLog:{}},emits:["loadNewRelayEvents"],setup(e,{emit:t}){const n=vn(),s=Zr(),r=Jr(),o=Os(),i=Ns(),l=t,a=Pe(()=>r.newEventsBadgeImageUrls[0]),c=Pe(()=>r.newEventsBadgeImageUrls[1]),u=z(1),f=Pe(()=>Math.ceil(r.paginationEventsIds.length/An)),d=Ps(),h=Pe(()=>d.path);jt(()=>d.path,async()=>{u.value>1&&v(1)}),qt(()=>{f.value>1&&v(1)});const v=async y=>{const w=i.feedPool,x=n.connectedReedRelayUrls;if(!x.length)return;const S=An,M=(y-1)*S,q=M+S,K=r.paginationEventsIds.slice().reverse().slice(M,q),A=await w.querySync(x,{ids:K}),H=A.map(se=>se.pubkey),F=await w.querySync(x,{kinds:[0],authors:H});let G=As(A,F);await zn(G,x,w),r.updateEvents(G),u.value=y},g=async()=>{await l("loadNewRelayEvents"),u.value=1};return(y,w)=>(T(),D("div",Km,[m("div",zm,[m("div",{class:Ie(["events",{"d-md-none":h.value==="/log"}])},[de(n).isConnectingToRelay?(T(),D("div",Wm," Loading "+ae(de(n).currentRelay?"new":"")+" relay feed... ",1)):ce("",!0),de(r).showNewEventsBadge?(T(),D("div",{key:1,onClick:g,class:"new-events"},[de(s).showImages?(T(),D("div",Gm,[m("img",{class:"new-events__img",src:a.value,alt:"img"},null,8,Zm),m("img",{class:"new-events__img",src:c.value,alt:"img"},null,8,Jm)])):ce("",!0),m("span",Ym,ae(de(r).newEventsBadgeCount)+" new notes",1),Qm])):ce("",!0),ye(Cm,{events:de(r).events,pubKey:de(o).fromPrivate,showImages:de(s).showImages,currentReadRelays:de(n).connectedReedRelayUrls,onToggleRawData:de(r).toggleEventRawData},null,8,["events","pubKey","showImages","currentReadRelays","onToggleRawData"]),ye(Uf,{pagesCount:f.value,currentPage:u.value,onShowPage:v},null,8,["pagesCount","currentPage"])],2),m("div",{class:Ie(["log-wrapper",{"d-md-none":h.value!=="/log"}])},[ye(Dm,{eventsLog:y.eventsLog},null,8,["eventsLog"])],2)])]))}});const So=Ce(Xm,[["__scopeId","data-v-313ddb61"]]),eb=e=>(Pt("data-v-f43437e0"),e=e(),Tt(),e),tb={class:"message-fields-wrapper"},nb={class:"message-fields"},sb={class:"message-fields__field"},rb=eb(()=>m("label",{for:"message"},[m("strong",null,"Message to broadcast")],-1)),ob={class:"field-elements"},ib=["value"],lb={class:"send-btn-wrapper"},ab=["disabled"],cb={class:"error"},ub={class:"notice"},fb=Me({__name:"MessageInput",props:{sentEventIds:{},isSendingMessage:{type:Boolean},broadcastNotice:{}},emits:["broadcastEvent"],setup(e,{emit:t}){const n=e,s=t,r=Un(),o=Os(),i=Jr(),l=z(""),a=async()=>{if(!(r.nsec?r.nsec.trim():"").length){l.value="Please provide your private key or generate random key.";return}const f=i.messageToBroadcast.trim();if(!f.length){l.value="Please provide message to broadcast.";return}let d;try{if(d=r.getPrivkeyBytes(),!d)throw new Error;const g=r.getPubkey();if(!g.length)throw new Error;o.updateKeyFromPrivate(g)}catch{l.value="Invalid private key. Please check it and try again.";return}const h={kind:1,pubkey:o.fromPrivate,created_at:Math.floor(Date.now()/1e3),content:f,tags:[],id:"",sig:""},v=vt(h,d);if(n.sentEventIds.has(v.id)){l.value="The same event can't be sent twice (same id, signature).";return}l.value="",s("broadcastEvent",v,"text")},c=u=>{var f;i.updateMessageToBroadcast((f=u==null?void 0:u.target)==null?void 0:f.value)};return(u,f)=>(T(),D("div",tb,[m("div",nb,[m("div",sb,[rb,m("div",ob,[m("textarea",{class:"message-input",name:"message",id:"message",cols:"30",rows:"3",value:de(i).messageToBroadcast,onInput:c,placeholder:"Test message 👋"},null,40,ib)]),m("div",lb,[m("button",{disabled:u.isSendingMessage,class:"send-btn",onClick:a},ae(u.isSendingMessage?"Broadcasting...":"Broadcast"),9,ab)])])]),m("div",cb,ae(l.value),1),m("div",ub,ae(u.broadcastNotice),1)]))}});const ka=Ce(fb,[["__scopeId","data-v-f43437e0"]]),Yr=e=>(Pt("data-v-e2b473b5"),e=e(),Tt(),e),db={class:"message-fields-wrapper"},hb={class:"signed-message-desc"},pb=Yr(()=>m("p",{class:"signed-message-desc_p"},[$e(" Event should be signed with your private key in advance. Event will be broadcasted to a selected relay. More details about events and signatures are "),m("a",{target:"_blank",href:"https://github.com/nostr-protocol/nips/blob/master/01.md#events-and-signatures"},"here"),$e(". ")],-1)),gb={class:"signed-message-desc_p"},yb=Yr(()=>m("br",null,null,-1)),vb={key:0,class:"additional-relays"},_b={class:"additional-relay-field"},wb=Yr(()=>m("span",null,"1.",-1)),mb=["value"],bb={class:"additional-relay-field"},Eb=["onInput"],xb={class:"message-fields__field_sig"},Rb=Yr(()=>m("label",{class:"message-fields__label",for:"signed_json"},[m("strong",null,"JSON of a signed event")],-1)),Sb={class:"field-elements"},kb={class:"signed-json-btn-wrapper"},$b={class:"error"},Cb=["disabled"],Ab=Me({__name:"SignedEventInput",props:{isSendingMessage:{type:Boolean},broadcastError:{}},emits:["broadcastEvent"],setup(e,{emit:t}){const n=t,s=vn(),r=Jr(),o=Un(),i=Os(),l=z(""),a=()=>{if(!r.signedJson.length){l.value="Provide signed event.";return}let d;try{d=JSON.parse(r.signedJson)}catch{l.value="Invalid JSON. Please check it and try again.";return}const h=s.currentRelay;if(!(h!=null&&h.connected)){l.value="Please connect to relay first.";return}if(o.isValidNsecPresented()){const v=o.getPubkey();v!=null&&v.length&&i.updateKeyFromPrivate(v)}l.value="",n("broadcastEvent",d,"json")},c=()=>{const d=s.additionalRelaysCountForSignedEvent+1;s.updateAdditionalRelaysCountForSignedEvent(d)},u=d=>{var h;r.updateSignedJson((h=d==null?void 0:d.target)==null?void 0:h.value)},f=(d,h)=>{var g;const v=(g=d==null?void 0:d.target)==null?void 0:g.value;s.updateRelayAdditionalRelaysUrlsForSignedEvent(h,v)};return(d,h)=>{var v,g;return T(),D("div",db,[m("div",hb,[pb,m("p",gb,[$e(" Event will be broadcasted to a selected relay. You can add more relays to retransmit the event. "),yb,m("button",{class:"additional-relay-btn",onClick:c}," Add relay "),de(s).additionalRelaysCountForSignedEvent>0?(T(),D("div",vb,[m("div",_b,[wb,m("input",{readonly:"",value:(v=de(s).currentRelay)!=null&&v.url?`${(g=de(s).currentRelay)==null?void 0:g.url} (already selected)`:"Firstly connect to default relay",type:"text"},null,8,mb)]),(T(!0),D(xe,null,dt(de(s).additionalRelaysCountForSignedEvent,y=>(T(),D("div",null,[m("div",bb,[m("span",null,ae(y+1)+".",1),m("input",{onInput:w=>f(w,y),placeholder:"[wss://]relay.example.com",type:"text"},null,40,Eb)])]))),256))])):ce("",!0)])]),m("div",xb,[Rb,m("div",Sb,[m("textarea",{class:"signed-json-textarea",name:"signed_json",id:"signed_json",cols:"30",rows:"5",onInput:u,placeholder:'{"kind":1,"pubkey":"5486dbb083512982669fa180aa02d722ce35054233cea724061fbc5f39f81aa3","created_at":1685664152,"content":"Test message 👋","tags":[],"id":"89adae408121ba6d721203365becff4d312292a9dd9b7a35ffa230a1483b09a2","sig":"b2592ae88ba1040c928e458dd6822413f148c8cc4f478d992e024e8c9d9648b96e6ce6dc564ab5815675007f824d9e9f634f8dbde554afeb6e594bcaac4389dd"}'},ae(de(r).signedJson),33)])]),m("div",kb,[m("div",$b,ae(l.value)+" "+ae(d.broadcastError),1),m("button",{disabled:d.isSendingMessage,class:"send-btn send-btn_signed-json",onClick:a},ae(d.isSendingMessage?"Broadcasting...":"Broadcast"),9,Cb)])])}}});const Ib=Ce(Ab,[["__scopeId","data-v-e2b473b5"]]),Pb=xi('<h3>Slightly Private App</h3><p><a href="https://nostr.com">nostr</a> is public, censorship-resistant social network. It&#39;s simple: <ol><li>Select a relay from the list, or specify a <a href="https://nostr.watch/" target="_blank">custom URL</a></li><li><em>Optionally</em>, set your private key, to create new messages</li></ol></p><p> Traditional social networks can suppress certain posts or users. In nostr, every message is signed by user&#39;s <em>private key</em> and broadcasted to <em>relays</em>. <strong>Messages are tamper-resistant</strong>: no one can edit them, or the signature will become invalid. <strong>Users can&#39;t be blocked</strong>: even if a relay blocks someone, it&#39;s always possible to switch to a different one, or create up a personal relay. </p><p> The app is available at <a href="http://nostr.spa">nostr.spa</a>. You can: <ul><li><em>Connect</em> and see relay&#39;s global feed.</li><li><em>Post</em> new messages to the relay.</li><li><em>Broadcast</em> a pre-signed message. No need to enter a private key.</li><li><em>Search</em> information about a user or an event.</li></ul></p>',4),Tb=xi("<ul><li>No tracking from our end</li><li>Private keys are not sent anywhere. They are stored in RAM of your device</li><li>Relay will see your ip+browser after you click <em>Connect</em> button</li><li>GitHub will see ip+browser of anyone who&#39;s using the app, because it&#39;s hosted on GitHub Pages. They won&#39;t see any nostr-specific interactions you will make</li><li><em>Show avatars</em> feature will leak your ip+browser to random people on the internet. Since there are no centralized servers in nostr, every user can specify their own URL for avatar hosting. Meaning, users can control the hosting webservers and see logs</li><li><em>Remember me</em> feature will write private key you&#39;ve entered to browser&#39;s Local Storage, which is usually stored on your device&#39;s disk</li><li>VPN or TOR usage is advised, <em>as with any nostr client</em>, to prevent ip leakage</li></ul>",1),Bb=xi('<h3>Open source</h3><p> The lightweight nostr client is built to showcase <a href="/noble/">noble</a> cryptography. Signing is done using <a target="_blank" href="https://github.com/paulmillr/noble-curves">noble-curves</a>, while <a target="_blank" href="https://github.com/paulmillr/scure-base">scure-base</a> is used for bech32, <a target="_blank" href="https://github.com/nbd-wtf/nostr-tools">nostr-tools</a> are used for general nostr utilities and Vue.js is utilized for UI. Check out <a target="_blank" href="https://github.com/paulmillr/paulmillr.github.io">the source code</a>. You are welcome to host the client on your personal website. </p>',2),$a=Me({__name:"Help",props:{showPrivacy:{}},setup(e){const t=Ps(),n=z(null);return qt(()=>{n.value&&t.hash=="#privacy"&&n.value.scrollIntoView()}),kr(()=>{n.value&&t.hash=="#privacy"&&n.value.scrollIntoView()}),(s,r)=>(T(),D(xe,null,[Pb,m("p",null,[m("h3",{id:"#privacy",ref_key:"privacyEl",ref:n},"Privacy policy",512),Tb]),Bb],64))}}),Et=ss({value:1,update(e){this.value=e}}),Lb=Kt("user-notes",()=>{const e=z([]),t=z([]);function n(o){e.value=o}function s(o){t.value=o}function r(o){const i=e.value.find(l=>l.id===o);i&&(i.showRawData=!i.showRawData)}return{notes:e,allNotesIds:t,updateNotes:n,updateIds:s,toggleRawData:r}}),Qr=e=>(Pt("data-v-59817eec"),e=e(),Tt(),e),Ub={class:"event"},Ob={key:0,class:"event__content"},Nb=Qr(()=>m("hr",null,null,-1)),Mb={class:"event__code-block"},Hb={class:"event__code-title"},jb=Qr(()=>m("b",null,"Author: ",-1)),Fb={class:"content-col_code"},Vb={class:"event__code"},Db={class:"event__code-block"},qb={class:"event__code-title"},Kb=Qr(()=>m("b",null,"Event id: ",-1)),zb={class:"content-col_code"},Wb={class:"event__code"},Gb=Qr(()=>m("div",{class:"header-col"},[m("b",null,"Created: ")],-1)),Zb={class:"content-col_code"},Jb={class:"event__code"},Yb={class:"event-footer__signature-text"},Qb=Me({__name:"UserEvent",props:{event:{},author:{},key:{}},setup(e){const t=e,n=z(!1),s=z(!1),r=z(!1),o=z(""),i=z(""),l=z(""),a=z(0),c=z(!1);Wd(()=>{const{event:f}=t;o.value=f.id,i.value=f.sig,l.value=f.pubkey,a.value=f.created_at}),qt(()=>{Object.keys(t.event).length!==0&&(c.value=Ln(t.event))});const u=()=>{n.value=!n.value};return(f,d)=>(T(),D("div",Ub,[n.value?ce("",!0):(T(),D("div",Ob,[rh(f.$slots,"default",{},()=>[$e("No content for event")],!0),Nb,m("div",Mb,[m("div",Hb,[jb,m("button",{class:"event__code-btn",onClick:d[0]||(d[0]=h=>r.value=!r.value)},ae(r.value?"npub":"hex"),1)]),m("div",Fb,[m("code",Vb,ae(r.value?l.value:de(Qe).npubEncode(l.value)),1)])]),m("div",Db,[m("div",qb,[Kb,m("button",{class:"event__code-btn",onClick:d[1]||(d[1]=h=>s.value=!s.value)},ae(s.value?"nevent":"hex"),1)]),m("div",zb,[m("code",Wb,ae(s.value?o.value:de(Qe).neventEncode({id:o.value})),1)])]),m("div",null,[Gb,m("div",Zb,[m("code",Jb,ae(de(Cf)(a.value)),1)])])])),n.value?(T(),Be(If,{key:1,isUserEvent:!0,event:f.event,authorEvent:f.event},null,8,["event","authorEvent"])):ce("",!0),m("div",{class:Ie(["event-footer",{"event-footer_flex-end":!n.value}])},[n.value?(T(),D("div",{key:0,class:Ie(["event-footer__signature",{"event-footer__signature_invalid":!c.value}])},[c.value?(T(),Be(Pf,{key:0})):ce("",!0),c.value?ce("",!0):(T(),Be(Tf,{key:1})),m("span",Yb,ae(c.value?"Signature is valid":"Invalid signature"),1)],2)):ce("",!0),m("div",null,[m("span",{class:"event-footer-code",onClick:u},"{...}")])],2)]))}});const Xb=Ce(Qb,[["__scopeId","data-v-59817eec"]]),e2={},t2={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-download",viewBox:"0 0 16 16"},n2=m("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"},null,-1),s2=m("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"},null,-1),r2=[n2,s2];function o2(e,t){return T(),D("svg",t2,r2)}const i2=Ce(e2,[["render",o2]]),Xr=e=>(Pt("data-v-f5d7ff6a"),e=e(),Tt(),e),l2={class:"field"},a2={class:"field-label",for:"user_public_key"},c2=Xr(()=>m("strong",null,"Profile's public key or event id",-1)),u2={class:"field-elements"},f2={class:"error"},d2={key:0,class:"loading-notice"},h2={class:"user"},p2={key:0,class:"user__avatar-wrapper"},g2=["src"],y2={class:"user__info"},v2={class:"user__nickname"},_2={class:"user__name"},w2={class:"user__desc"},m2={key:0,class:"user__nip05"},b2=["href"],E2=Xr(()=>m("strong",null,"nip05",-1)),x2={key:1,class:"user__contacts"},R2={class:"user__contacts-col user__following-cnt"},S2={class:"user__contacts-col user__followers-cnt"},k2={key:0},$2={key:1,class:"user__contacts-download-icon"},C2=Xr(()=>m("span",{class:"user__contacts-followers-word"}," Followers ",-1)),A2={key:2},I2={key:3,id:"user-posts"},P2={key:0},T2={key:1},B2={key:5,class:"not-found"},L2=Xr(()=>m("div",{class:"not-found__desc"}," Data was not found on selected relay. Please try to connect to another one or you can try to load info from the list of popular relays: ",-1)),U2=Me({__name:"User",props:{handleRelayConnect:{type:Function}},setup(e){const n=Ns().userPool,s=Gr(),r=Lb(),o=Xi(),i=Zr(),l=Un(),a=vn(),c=e,u=z({}),f=z({}),d=z(!1),h=z(!1),v=z(""),g=z(!1),y=z(""),w=z(!1),x=z(""),S=z(!1),M=z(!1),q=z(!1),C=z(!1),K=z(1),A=Pe(()=>Math.ceil(r.allNotesIds.length/An)),H=Ur(),F=Ps(),G=ne=>{const[oe,W]=ne.split("@");return`https://${W}/.well-known/nostr.json?name=${oe}`},se=z([]);qt(()=>{var ne,oe;if((oe=(ne=F.params)==null?void 0:ne.id)!=null&&oe.length&&!a.currentRelay.connected){s.updateNpub(F.params.id),s.updateCachedUrl(F.params.id),a.currentRelay.connected||(q.value=!0);return}if(o.isRoutingUser&&s.npub.length){s.updateCachedUrl(s.npub),o.updateRoutingStatus(!1),R();return}}),jt(()=>F.params,()=>{o.isRoutingUser&&(s.updateCachedUrl(s.npub),o.updateRoutingStatus(!1),R())}),jt(()=>F.redirectedFrom,()=>{s.updateNpub(F.params.id),s.updateCachedUrl(F.params.id),b()}),gc(()=>{r.notes.length&&R()});const U=()=>{x.value="",g.value=!1},B=async ne=>{const oe=a.connectedReedRelayUrls;if(!oe.length)return;const W=An,E=(ne-1)*W,O=E+W,L=r.allNotesIds.slice(E,O),V=await n.querySync(oe,{ids:L});let ue=$(V,f.value);await zn(ue,oe,n),r.updateNotes(ue),K.value=ne},b=()=>{u.value={},f.value={},r.updateNotes([]),r.updateIds([])},R=async()=>{Et.update(Et.value+1);const ne=Et.value,oe=s.npub.trim();let W=!1;if(!oe.length){v.value="Public key or event id is required.";return}if(ba(oe))y.value=oe,W=!0;else try{let{data:ue,type:ie}=Qe.decode(oe);if(ie!=="npub"&&ie!=="note"){v.value="Public key or event id should be in npub or note format, or hex.";return}C.value=ie==="note",y.value=ue.toString()}catch{v.value="Public key or event id is invalid. Please check it and try again.";return}q.value&&await c.handleRelayConnect();const E=a.connectedReedRelayUrls;if(ne!==Et.value)return;if(!E.length){v.value=q.value?"Connection error, try to connect again or try to choose other relay.":"Please connect to relay first.";return}q.value=!1,b(),h.value=!1,v.value="",w.value=!0;let O=[];if(C.value||W){const ue=y.value;if(O=await n.querySync(E,{ids:[ue]}),ne!==Et.value)return;O.length&&(r.updateIds(O.map(ie=>ie.id)),y.value=O[0].pubkey,C.value=!0)}const L=await n.get(E,{kinds:[0],limit:1,authors:[y.value]});if(ne!==Et.value)return;if(!L){w.value=!1,g.value=!0;return}se.value=E;const V=await n.get(E,{kinds:[3],limit:1,authors:[y.value]});if(ne===Et.value){if(u.value=L,f.value=JSON.parse(L.content),f.value.followingCount=(V==null?void 0:V.tags.length)||0,d.value=!1,w.value=!1,g.value=!1,C.value?H.push({path:`/event/${oe}`}):H.push({path:`/user/${oe}`}),s.updateCachedUrl(oe),M.value=!0,P(ne),!C.value){if(O=await n.querySync(E,{kinds:[1],authors:[y.value]}),ne!==Et.value)return;const ue=new Set;O.forEach(p=>{const _=It.parse(p);(_.reply||_.root)&&ue.add(p.id)}),O=O.filter(p=>!ue.has(p.id)),r.updateIds(O.map(p=>p.id));const ie=An;K.value=1,O=O.slice(0,ie)}O=$(O,f.value),await zn(O,E,n),ne===Et.value&&(r.updateNotes(O),M.value=!1)}},$=(ne,oe)=>ne.map(W=>(W.author=oe,W)),P=async(ne=0)=>{const oe=f.value.nip05,W=u.value.pubkey;if(!(!oe||!W))try{const E=await I(oe,W);if(ne&&ne!==Et.value)return;d.value=E}catch{console.log("Failed to check nip05")}},I=async(ne,oe)=>{const W=await af.queryProfile(ne);return oe===(W==null?void 0:W.pubkey)},J=()=>{if(!l.nsec.trim().length){v.value="Please provide private key first.";return}try{const oe=l.getPubkey();if(!oe.length)throw new Error;s.updateNpub(Qe.npubEncode(oe)),v.value=""}catch{v.value="Private key is invalid. Please check it and try again.";return}},te=async()=>{const ne=s.npub.trim();let oe=!1;if(!ne.length){x.value="Public key or event id is required.";return}if(ba(ne))y.value=ne,oe=!0;else try{let{data:L,type:V}=Qe.decode(ne);if(V!=="npub"&&V!=="note"){x.value="Public key or event id should be in npub or note format, or hex.";return}C.value=V==="note",y.value=L.toString()}catch{x.value="Public key or event id is invalid. Please check it and try again.";return}S.value=!0,r.updateIds([]);let W=[];if(C.value||oe){const L=y.value;W=await n.querySync(mn,{ids:[L]}),W.length&&(y.value=W[0].pubkey,C.value=!0)}const E=await n.get(mn,{kinds:[0],limit:1,authors:[y.value]});if(!E){S.value=!1,x.value="User was not found on listed relays.";return}se.value=mn;const O=await n.get(mn,{kinds:[3],limit:1,authors:[y.value]});if(u.value=E,f.value=JSON.parse(E.content),f.value.followingCount=(O==null?void 0:O.tags.length)||0,x.value="",S.value=!1,g.value=!1,h.value=!0,d.value=!1,C.value?H.push({path:`/event/${ne}`}):H.push({path:`/user/${ne}`}),s.updateCachedUrl(ne),M.value=!0,P(),!C.value){W=await n.querySync(mn,{kinds:[1],authors:[y.value]});const L=new Set;W.forEach(V=>{const ue=It.parse(V);(ue.reply||ue.root)&&L.add(V.id)}),W=W.filter(V=>!L.has(V.id))}W=$(W,f.value),await zn(W,mn,n),r.updateNotes(W),M.value=!1},X=async()=>{f.value.followersCount=0;const ne=n.subscribeMany(se.value,[{"#p":[y.value],kinds:[3]}],{onevent(oe){f.value.followersCount=f.value.followersCount+1},oneose(){ne.close()}})},he=ne=>{r.toggleRawData(ne)};return(ne,oe)=>(T(),D(xe,null,[m("div",l2,[m("label",a2,[c2,de(l).nsec.length?(T(),D("button",{key:0,onClick:J,class:"random-key-btn"},"Use mine")):ce("",!0)]),m("div",u2,[Dn(m("input",{onInput:U,"onUpdate:modelValue":oe[0]||(oe[0]=W=>de(s).npub=W),class:"pubkey-input",id:"user_public_key",type:"text",placeholder:"npub, note, hex of pubkey or note id..."},null,544),[[Ss,de(s).npub]]),m("button",{onClick:R,class:"get-user-btn"},ae(q.value?"Connect & Search":"Search"),1)]),m("div",f2,ae(v.value),1)]),w.value?(T(),D("div",d2," Loading event info... ")):ce("",!0),u.value.id?(T(),Be(Xb,{author:f.value,event:u.value,key:u.value.id},{default:Ye(()=>[m("div",h2,[de(i).showImages?(T(),D("div",p2,[m("img",{class:"user__avatar",src:f.value.picture},null,8,g2)])):ce("",!0),m("div",y2,[m("div",null,[m("div",v2,ae(f.value.username||f.value.name),1),m("div",_2,ae(f.value.display_name||""),1),m("div",w2,ae(f.value.about||""),1),d.value?(T(),D("div",m2,[m("a",{target:"_blank",href:G(f.value.nip05)},[E2,$e(": "+ae(f.value.nip05),1)],8,b2)])):ce("",!0),f.value.followingCount>=0?(T(),D("div",x2,[m("span",R2,[m("b",null,ae(f.value.followingCount),1),$e(" Following ")]),m("span",S2,[f.value.followersCount?(T(),D("b",k2,ae(f.value.followersCount),1)):(T(),D("span",$2,[ye(i2,{onClick:X})])),C2])])):ce("",!0)])])])]),_:1},8,["author","event"])):ce("",!0),M.value?(T(),D("div",A2,"Loading notes...")):ce("",!0),de(r).notes.length>0&&!M.value?(T(),D("h3",I2,[C.value?(T(),D("span",P2,"Event info")):(T(),D("span",T2,"User notes"))])):ce("",!0),(T(!0),D(xe,null,dt(de(r).notes,(W,E)=>(T(),Be(Lf,{key:W.id,hasReplyBtn:!C.value,showReplies:!C.value,currentReadRelays:se.value,index:E,onToggleRawData:he,event:W},null,8,["hasReplyBtn","showReplies","currentReadRelays","index","event"]))),128)),!M.value&&!w.value?(T(),Be(Uf,{key:4,pagesCount:A.value,currentPage:K.value,onShowPage:B},null,8,["pagesCount","currentPage"])):ce("",!0),g.value?(T(),D("div",B2,[L2,m("div",null,[m("button",{onClick:te,class:"fallback-search-btn"}," Search in all listed relays "),m("div",{class:Ie(["not-found__status",{error:x.value.length}])},ae(x.value)+" "+ae(S.value?"Searching...":""),3),m("ul",null,[(T(!0),D(xe,null,dt(de(mn),W=>(T(),D("li",null,ae(W),1))),256))])])])):ce("",!0)],64))}});const Ca=Ce(U2,[["__scopeId","data-v-f5d7ff6a"]]),O2={},N2={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16"},M2=m("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},null,-1),H2=m("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"},null,-1),j2=[M2,H2];function F2(e,t){return T(),D("svg",N2,j2)}const V2=Ce(O2,[["render",F2]]),eo=e=>(Pt("data-v-9e584693"),e=e(),Tt(),e),D2=eo(()=>m("h4",null,"Your relays:",-1)),q2={class:"error"},K2={class:"relays"},z2={class:"relay"},W2={class:"actions"},G2=["onChange","id","name","checked"],Z2=["for"],J2=eo(()=>m("span",{class:"actions__delimiter"}," | ",-1)),Y2=["onClick"],Q2=eo(()=>m("span",{class:"actions__remove-label"},"remove",-1)),X2={key:0},eE={key:0},tE={key:1},nE=eo(()=>m("h4",null,"Add relay:",-1)),sE={class:"add-relay"},rE={class:"error"},ko="Updating relays error. Please reload the page and try again or write us about the issue.",oE=Me({__name:"Settings",props:{handleRelayConnect:{type:Function}},setup(e){const t=e,n=Ns(),s=Un(),r=Os(),o=vn(),i=z(""),l=z(""),a=z(""),c=h=>{if(a.value="",!(s.nsec?s.nsec.trim():"").length){a.value="Please provide your private key.";return}let g,y;try{if(g=s.getPrivkeyBytes(),!g)throw new Error;if(y=s.getPubkey(),!y.length)throw new Error;r.updateKeyFromPrivate(y)}catch{a.value="Invalid private key. Please check it and try again.";return}const w={kind:10002,pubkey:y,created_at:Math.floor(Date.now()/1e3),content:"",tags:h};return vt(w,g)},u=async(h,v)=>{a.value="",h.target.checked?o.addWriteRelay(v):o.removeWriteRelay(v);const y=o.nip65Tags,w=c(y),x=n.feedPool;if(w)return await x.publish(o.allRelaysUrlsWithConnectedRelay,w);a.value.length||(a.value=ko)},f=async h=>{a.value="",o.removeUserRelay(h),t.handleRelayConnect(!0);const v=o.nip65Tags,g=c(v),y=n.feedPool;if(g)return await y.publish(o.allRelaysUrlsWithConnectedRelay,g);a.value.length||(a.value=ko)},d=async()=>{let h="";a.value="",l.value="";try{h=Bs.normalizeURL(i.value)}catch{l.value="Invalid relay url.";return}o.addUserRelay(h),t.handleRelayConnect(!0),i.value="";const v=o.nip65Tags,g=c(v),y=n.feedPool;if(g)return await y.publish(o.allRelaysUrlsWithConnectedRelay,g);a.value.length||(a.value=ko)};return(h,v)=>(T(),D(xe,null,[D2,m("div",q2,ae(a.value),1),m("ul",K2,[(T(!0),D(xe,null,dt(de(o).allRelays,(g,y)=>(T(),D("li",z2,[$e(ae(g.url)+" ",1),m("div",W2,[m("input",{onChange:w=>u(w,g.url),class:"actions__checkbox",type:"checkbox",id:`write-${y}`,name:`write-${y}`,checked:g.type==="write"},null,40,G2),m("label",{class:"actions__label",for:`write-${y}`}," publish to relay",8,Z2),J2,m("span",{onClick:()=>f(g.url),class:"actions__remove"},[ye(V2,{class:"trash-icon"}),Q2],8,Y2)])]))),256)),de(o).allRelays.length?ce("",!0):(T(),D("div",X2,[de(o).isConnectedToRelay?(T(),D("span",eE,[$e(" The list with your relays on "),m("b",null,ae(de(o).connectedRelayUrl),1),$e(" was not found. ")])):(T(),D("span",tE," Please connect to a relay to see the list of your relays. "))]))]),nE,m("div",sE,[Dn(m("input",{"onUpdate:modelValue":v[0]||(v[0]=g=>i.value=g),class:"add-relay__input",type:"text",placeholder:"[wss://]relay.url"},null,512),[[Ss,i.value]]),m("button",{onClick:d,class:"add-relay__btn"},"Add")]),m("div",rE,ae(l.value),1)],64))}});const iE=Ce(oE,[["__scopeId","data-v-9e584693"]]),lE=[{path:"/feed",name:"Feed",components:{default:So,messageInput:ka}},{path:"/message",name:"Message",components:{default:So,signedEventInput:Ib}},{path:"/log",name:"Log",components:{default:So,messageInput:ka}},{path:"/user",name:"User",component:Ca,alias:["/event"]},{path:"/user/:id",component:Ca,alias:["/event/:id"]},{path:"/help",name:"Help",component:$a},{path:"/",component:$a,beforeEnter:(e,t,n)=>{const s=e.query.user,r=e.query.event;s!=null&&s.length?n({path:`/user/${s}`}):r!=null&&r.length?n({path:`/event/${r}`}):n()}},{path:"/settings",component:iE}],aE=Lg({history:Jp(),routes:lE}),cE={class:"show-images"},uE={class:"show-images__field"},fE=["checked"],dE=m("label",{class:"show-images__label",for:"show-feed-images"}," Show avatars",-1),hE=Me({__name:"ShowImagesCheckbox",props:{showImages:{type:Boolean}},emits:["toggleImages"],setup(e,{emit:t}){const n=e,s=t;return(r,o)=>{const i=xs("router-link");return T(),D("div",cE,[m("span",uE,[m("input",{onChange:o[0]||(o[0]=l=>s("toggleImages")),class:"show-images__input",type:"checkbox",id:"show-feed-images",checked:n.showImages},null,40,fE),dE]),m("small",null,[$e(" ("),ye(i,{to:{path:"/help",hash:"#privacy"}},{default:Ye(()=>[$e("Exposes your IP")]),_:1}),$e(")")])])}}});const Ms=e=>(Pt("data-v-091ddec7"),e=e(),Tt(),e),pE={class:"relay-fields"},gE={class:"relay-fields__wrapper"},yE={class:"relay-fields__relay"},vE={class:"relay-fields__select-field"},_E=Ms(()=>m("label",{class:"field-label_priv-key",for:"relays"},[m("strong",null,"Select relay")],-1)),wE={class:"field-elements"},mE=["value"],bE=Ms(()=>m("option",{value:"custom"},"custom url",-1)),EE={class:"show-images"},xE={class:"message-fields__field"},RE=Ms(()=>m("label",{for:"priv_key"},[m("strong",null,"Private key (optional)")],-1)),SE={class:"field-elements"},kE={class:"remember-me"},$E=Ms(()=>m("label",{class:"remember-me__label",for:"remember-me"}," Remember me",-1)),CE={class:"error"},AE={key:0,class:"field"},IE=Ms(()=>m("label",{for:"relay_url"},[m("strong",null,"Relay URL")],-1)),PE={class:"field-elements"},TE=Me({__name:"HeaderFields",props:{wsError:{}},emits:["relayConnect","relayDisconnect"],setup(e,{emit:t}){const n=e,s=t,r=vn(),o=Zr(),i=Un(),l=z(!1),a=Pe(()=>r.selectedRelay!==r.connectedRelayUrl);r.setSelectedRelay(Sa[0]);const c=y=>{const w=y.target.value;l.value=w==="custom",r.setSelectedRelay(w)},u=y=>{i.rememberMe&&localStorage.setItem("privkey",i.nsec),i.cachedNsec!==i.nsec&&r.isConnectedToRelay&&i.getPubkey().length&&s("relayConnect")},f=()=>{const y=Ty();i.updateNsec(Qe.nsecEncode(y))},d=()=>{i.rememberMe?(localStorage.setItem("rememberMe","true"),localStorage.setItem("privkey",i.nsec)):localStorage.clear()},h=()=>{o.updateShowImages(!o.showImages)},v=()=>{s("relayConnect")},g=()=>{s("relayDisconnect")};return(y,w)=>(T(),D(xe,null,[m("p",pE,[m("div",gE,[m("div",yE,[m("div",vE,[_E,m("div",wE,[m("select",{class:"select-relay__select",onChange:c,name:"relays",id:"relays"},[(T(!0),D(xe,null,dt(de(Sa),x=>(T(),D("option",{value:x},ae(x),9,mE))),256)),bE],32),a.value?(T(),D("button",{key:0,onClick:v,class:"select-relay__btn"},ae(de(r).isConnectingToRelay?"Connecting...":"Connect"),1)):(T(),D("button",{key:1,onClick:g,class:"select-relay__btn"}," Disconnect "))])]),m("div",EE,[ye(hE,{showImages:de(o).showImages,onToggleImages:h},null,8,["showImages"])])]),m("div",xE,[RE,m("div",SE,[Dn(m("input",{onInput:u,"onUpdate:modelValue":w[0]||(w[0]=x=>de(i).nsec=x),class:"priv-key-input",id:"priv_key",type:"password",placeholder:"nsec..."},null,544),[[Ss,de(i).nsec]]),m("button",{onClick:f,class:"random-key-btn"},"Random")]),m("div",kE,[Dn(m("input",{onChange:d,class:"remember-me__input",type:"checkbox",id:"remember-me","onUpdate:modelValue":w[1]||(w[1]=x=>de(i).rememberMe=x)},null,544),[[yp,de(i).rememberMe]]),$E])])]),m("div",CE,ae(n.wsError),1)]),l.value?(T(),D("div",AE,[IE,m("div",PE,[Dn(m("input",{"onUpdate:modelValue":w[2]||(w[2]=x=>de(r).customRelayUrl=x),class:"relay-input",id:"relay_url",type:"text",placeholder:"[wss://]relay.example.com"},null,512),[[Ss,de(r).customRelayUrl]])])])):ce("",!0)],64))}});const BE=Ce(TE,[["__scopeId","data-v-091ddec7"]]),LE={class:"tabs"},UE=Me({__name:"App",setup(e){const t=Ur(),n=Ps(),s=Gr(),r=Un(),o=vn(),i=Jr(),l=Ns();let a,c;const u=localStorage.getItem("rememberMe")==="true";r.setRememberMe(u);const f=u?localStorage.getItem("privkey"):"";r.updateNsec(f||"");const d=z([]),h=new Set,v=new Set;let g=z([]),y=z(0),w=z(""),x=z("");const S=z([]),M=z(""),q=z(""),C=z(""),K=z(!1),A=Pe(()=>s.cachedUrlNpub.length?`/user/${s.cachedUrlNpub}`:"/user"),H=$=>{S.value.unshift($)},F=async()=>{var W,E;const $=l.feedPool,P=o.connectedReedRelayUrls;if(!P.length)return;const I=i.newEventsToShow;if(I.length<2)return;const J=I[I.length-1].pubkey,te=I[I.length-2].pubkey,X={kinds:[0],authors:[J],limit:1},he={kinds:[0],authors:[te],limit:1},ne=await $.querySync(P,X),oe=await $.querySync(P,he);c&&(!((W=ne[0])!=null&&W.content)||!((E=oe[0])!=null&&E.content)||(w.value=JSON.parse(ne[0].content).picture,x.value=JSON.parse(oe[0].content).picture,i.setNewEventsBadgeImageUrls([w.value,x.value]),y.value=I.length,i.setNewEventsBadgeCount(I.length),i.setShowNewEventsBadge(!0)))},G=$=>new Promise(P=>setTimeout(P,$)),se=($,P,I)=>new Promise(J=>{const te=[];let X,he=I;if(I&&I.length&&I[0].limit){let{limit:oe,...W}=I[0];he=[W],X=oe}const ne=$.subscribeMany(P,he,{onevent(oe){const W=It.parse(oe);W.reply||W.root||(te.push(oe),X&&te.length>=X&&(J(te.slice(0,X)),ne.close()))},oneose(){ne.close()}})});async function U($=!1){if(o.isConnectingToRelay)return;let P=o.selectedRelay,I=!1;if(P==="custom"&&(P=Bs.normalizeURL(o.customRelayUrl),I=!0),!P.length)return;if(r.isNotValidNsecPresented()){M.value="Private key is invalid. Please check it and try again.";return}else r.updateCachedNsec(r.nsec);!$&&o.currentRelay.connected&&(o.currentRelay.close(),H([{type:"text",value:"disconnected from "},{type:"bold",value:o.currentRelay.url}])),a&&a.close(),c&&(clearInterval(c),c=0),$||(o.setReedRelays([]),o.setWriteRelays([]));let J;if(!$){try{o.setConnectionToRelayStatus(!0);try{J=await si.connect(P)}catch{await G(500),J=await si.connect(P)}M.value=""}catch{let V=`WebSocket connection to "${P}" failed. You can try again. `;navigator.onLine?V+="Also check WebSocket address. Relay address should be a correct WebSocket URL. Or relay is unavailable or you are offline.":V+="Or check your internet connection.",M.value=V,o.setConnectionToRelayStatus(!1);return}if(o.updateCurrentRelay(J),H([{type:"text",value:"connected to "},{type:"bold",value:J.url}]),r.isNotValidNsecPresented()&&(M.value="Private key is invalid. Please check it and try again."),r.isValidNsecPresented()){const L=r.getPubkey(),ue=await g_(J,[{kinds:[10002],limit:1,authors:[L]}],3e3);if(ue&&ue.tags.length){const{read:ie,write:p}=$f(ue);o.setReedRelays(ie),o.setWriteRelays(p)}}}i.setShowNewEventsBadge(!1),g.value=[],i.updateNewEventsToShow([]),l.feedPool=new Ft;const te=l.feedPool,X=[];o.reedRelays.length&&(await Promise.all(o.reedRelays.map(async V=>{const ue=await xo(V);return{url:V,connected:ue}}))).forEach(V=>{if($&&!o.reedRelays.includes(V.url)||(V.connected&&X.push(V.url),(J==null?void 0:J.url)===V.url))return;const ue=V.connected?"connected to ":"failed to connect to ";H([{type:"text",value:ue},{type:"bold",value:V.url}])});const he=X.length?X:[P],oe=await se(te,he,[{kinds:[1],limit:An}]),W=oe.map(L=>L.pubkey),E=await te.querySync(he,{kinds:[0],authors:W});let O=As(oe,E);await zn(O,he,te),h.clear(),i.updatePaginationEventsIds([]),O.forEach(L=>{h.add(L.id),i.pushToPaginationEventsIds(L.id)}),d.value=O,i.updateEvents(O),o.setConnectedRelayUrl(I?"custom":P),o.setConnectedReedRelayUrls(he),o.setConnectionToRelayStatus(!1),a=te.subscribeMany(he,[{kinds:[1],limit:1}],{onevent(L){if(h.has(L.id))return;const V=It.parse(L);V.reply||V.root||(g.value.push({id:L.id,pubkey:L.pubkey}),i.pushToNewEventsToShow({id:L.id,pubkey:L.pubkey}))}}),c=setInterval(F,3e3)}const B=async()=>{const $=l.feedPool,P=o.connectedReedRelayUrls;if(!P.length)return;t.push({path:`${n.path}`});let I=i.newEventsToShow;i.updateNewEventsToShow(i.newEventsToShow.filter(E=>!I.includes(E)));const J=I.map(E=>E.id),te=An;i.updatePaginationEventsIds(i.paginationEventsIds.concat(J));const X=i.paginationEventsIds.slice(-te),he=await $.querySync(P,{ids:X}),ne=he.map(E=>E.pubkey),oe=await $.querySync(P,{kinds:[0],authors:ne});let W=As(he,oe);await zn(W,P,$),W.forEach(E=>h.add(E.id)),i.updateEvents(W),i.setShowNewEventsBadge(!1),H([{type:"text",value:`loaded ${I.length}`},{type:"text",value:" new event(s) from "},{type:"bold",value:o.connectedRelaysPrettyStr}])},b=async($,P)=>{const I=l.feedPool;let J=o.writeRelays;if(P==="json"){const W=o.additionalRelaysUrlsForSignedEvent;let E=[];if(W.length){let O="Can't connect to these relays: ",L=!1;for(const V of W)if(V!=null&&V.length){if(!await xo(V)){L=!0,O+=`${V}, `;continue}E.push(V)}if(L){const V=o.connectedRelayUrl;await xo(V)||(O+=`${V}, `),O=O.slice(0,-2),O+=". Relays are unavailable or you are offline.",q.value=O,K.value=!1;return}}J=[o.connectedRelayUrl,...E],J=[...new Set(J)]}if(K.value)return;K.value=!0;const te=o.connectedReedRelayUrls;let X=null;if(te.length){const W=[{kinds:[1],ids:[$.id],limit:1}];X=I.subscribeMany(te,W,{async onevent(E){const O=setInterval(async()=>{g.value.some(L=>L.id==E.id)&&(clearInterval(O),await B(),X==null||X.close())},100)}})}const he=await Qi(J,I,$);he.forEach(W=>{W.success?H([{type:"text",value:"✅ new event broadcasted to "},{type:"bold",value:W.relay}]):H([{type:"text",value:"❌ failed to publish to "},{type:"bold",value:W.relay}])}),he.every(W=>W.success===!1)&&P==="json"&&te.length&&(X==null||X.close()),he.some(W=>W.success===!1)||(P==="text"&&i.updateMessageToBroadcast(""),P==="json"&&i.updateSignedJson("")),K.value=!1},R=()=>{if(!o.isConnectedToRelay)return;clearInterval(c),i.setShowNewEventsBadge(!1),g.value=[],i.updateNewEventsToShow([]);const $=o.currentRelay;o.setConnectedRelayUrl(""),o.setConnectedReedRelayUrls([]),o.setReedRelays([]),o.setWriteRelays([]),a.close(),$.close(),H([{type:"text",value:"disconnected from "},{type:"bold",value:$.url}])};return($,P)=>{const I=xs("router-link"),J=xs("router-view");return T(),D(xe,null,[ye(BE,{onRelayConnect:U,onRelayDisconnect:R,wsError:M.value},null,8,["wsError"]),m("div",LE,[ye(I,{class:"tab-link",to:"/feed"},{default:Ye(()=>[$e("Feed")]),_:1}),ye(I,{class:"tab-link",to:A.value},{default:Ye(()=>[$e("User")]),_:1},8,["to"]),ye(I,{class:"tab-link",to:"/message"},{default:Ye(()=>[$e("Message")]),_:1}),ye(I,{class:"tab-link",to:"/help"},{default:Ye(()=>[$e("Help")]),_:1}),ye(I,{class:"tab-link",to:"/log"},{default:Ye(()=>[$e("Log")]),_:1}),ye(I,{class:"tab-link",to:"/settings"},{default:Ye(()=>[$e("Settings")]),_:1})]),ye(J,{name:"messageInput",onBroadcastEvent:b,isSendingMessage:K.value,sentEventIds:de(v),broadcastNotice:C.value},null,8,["isSendingMessage","sentEventIds","broadcastNotice"]),ye(J,{name:"signedEventInput",onBroadcastEvent:b,isSendingMessage:K.value,broadcastError:q.value},null,8,["isSendingMessage","broadcastError"]),ye(J,{onLoadNewRelayEvents:B,handleRelayConnect:U,eventsLog:S.value},null,8,["eventsLog"])],64)}}});const OE=Ce(UE,[["__scopeId","data-v-8b79df83"]]),NE=Ep(OE),ME=kp();NE.use(aE).use(ME).mount("#app");
//# sourceMappingURL=main.js.map
