var uf=Object.defineProperty;var ff=(e,t,n)=>t in e?uf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var we=(e,t,n)=>(ff(e,typeof t!="symbol"?t+"":t,n),n);/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Jo(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const Ae={},On=[],ot=()=>{},df=()=>!1,ur=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Yo=e=>e.startsWith("onUpdate:"),We=Object.assign,Qo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},hf=Object.prototype.hasOwnProperty,be=(e,t)=>hf.call(e,t),he=Array.isArray,Mn=e=>ks(e)==="[object Map]",fr=e=>ks(e)==="[object Set]",Ki=e=>ks(e)==="[object Date]",ve=e=>typeof e=="function",He=e=>typeof e=="string",ln=e=>typeof e=="symbol",Ce=e=>e!==null&&typeof e=="object",pl=e=>(Ce(e)||ve(e))&&ve(e.then)&&ve(e.catch),gl=Object.prototype.toString,ks=e=>gl.call(e),pf=e=>ks(e).slice(8,-1),yl=e=>ks(e)==="[object Object]",Xo=e=>He(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ls=Jo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),dr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},gf=/-(\w)/g,Rt=dr(e=>e.replace(gf,(t,n)=>n?n.toUpperCase():"")),yf=/\B([A-Z])/g,Qn=dr(e=>e.replace(yf,"-$1").toLowerCase()),hr=dr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Wr=dr(e=>e?`on${hr(e)}`:""),cn=(e,t)=>!Object.is(e,t),Ds=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Zs=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},_o=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let zi;const vl=()=>zi||(zi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ei(e){if(he(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=He(s)?mf(s):ei(s);if(r)for(const o in r)t[o]=r[o]}return t}else if(He(e)||Ce(e))return e}const vf=/;(?![^(]*\))/g,_f=/:([^]+)/,wf=/\/\*[^]*?\*\//g;function mf(e){const t={};return e.replace(wf,"").split(vf).forEach(n=>{if(n){const s=n.split(_f);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Pe(e){let t="";if(He(e))t=e;else if(he(e))for(let n=0;n<e.length;n++){const s=Pe(e[n]);s&&(t+=s+" ")}else if(Ce(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const bf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ef=Jo(bf);function _l(e){return!!e||e===""}function xf(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=pr(e[s],t[s]);return n}function pr(e,t){if(e===t)return!0;let n=Ki(e),s=Ki(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=ln(e),s=ln(t),n||s)return e===t;if(n=he(e),s=he(t),n||s)return n&&s?xf(e,t):!1;if(n=Ce(e),s=Ce(t),n||s){if(!n||!s)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const i in e){const a=e.hasOwnProperty(i),l=t.hasOwnProperty(i);if(a&&!l||!a&&l||!pr(e[i],t[i]))return!1}}return String(e)===String(t)}function wl(e,t){return e.findIndex(n=>pr(n,t))}const le=e=>He(e)?e:e==null?"":he(e)||Ce(e)&&(e.toString===gl||!ve(e.toString))?JSON.stringify(e,ml,2):String(e),ml=(e,t)=>t&&t.__v_isRef?ml(e,t.value):Mn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],o)=>(n[Gr(s,o)+" =>"]=r,n),{})}:fr(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Gr(n))}:ln(t)?Gr(t):Ce(t)&&!he(t)&&!yl(t)?String(t):t,Gr=(e,t="")=>{var n;return ln(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let rt;class bl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=rt,!t&&rt&&(this.index=(rt.scopes||(rt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=rt;try{return rt=this,t()}finally{rt=n}}}on(){rt=this}off(){rt=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function El(e){return new bl(e)}function Rf(e,t=rt){t&&t.active&&t.effects.push(e)}function xl(){return rt}function Sf(e){rt&&rt.cleanups.push(e)}let xn;class ti{constructor(t,n,s,r){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Rf(this,r)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,$n();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(kf(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Cn()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=sn,n=xn;try{return sn=!0,xn=this,this._runnings++,Wi(this),this.fn()}finally{Gi(this),this._runnings--,xn=n,sn=t}}stop(){var t;this.active&&(Wi(this),Gi(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function kf(e){return e.value}function Wi(e){e._trackId++,e._depsLength=0}function Gi(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Rl(e.deps[t],e);e.deps.length=e._depsLength}}function Rl(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let sn=!0,wo=0;const Sl=[];function $n(){Sl.push(sn),sn=!1}function Cn(){const e=Sl.pop();sn=e===void 0?!0:e}function ni(){wo++}function si(){for(wo--;!wo&&mo.length;)mo.shift()()}function kl(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&Rl(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const mo=[];function $l(e,t,n){ni();for(const s of e.keys()){let r;s._dirtyLevel<t&&(r??(r=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(r??(r=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&mo.push(s.scheduler)))}si()}const Cl=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Js=new WeakMap,Rn=Symbol(""),bo=Symbol("");function nt(e,t,n){if(sn&&xn){let s=Js.get(e);s||Js.set(e,s=new Map);let r=s.get(n);r||s.set(n,r=Cl(()=>s.delete(n))),kl(xn,r)}}function Ot(e,t,n,s,r,o){const i=Js.get(e);if(!i)return;let a=[];if(t==="clear")a=[...i.values()];else if(n==="length"&&he(e)){const l=Number(s);i.forEach((c,u)=>{(u==="length"||!ln(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(i.get(n)),t){case"add":he(e)?Xo(n)&&a.push(i.get("length")):(a.push(i.get(Rn)),Mn(e)&&a.push(i.get(bo)));break;case"delete":he(e)||(a.push(i.get(Rn)),Mn(e)&&a.push(i.get(bo)));break;case"set":Mn(e)&&a.push(i.get(Rn));break}ni();for(const l of a)l&&$l(l,4);si()}function $f(e,t){var n;return(n=Js.get(e))==null?void 0:n.get(t)}const Cf=Jo("__proto__,__v_isRef,__isVue"),Il=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ln)),Zi=If();function If(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=Ee(this);for(let o=0,i=this.length;o<i;o++)nt(s,"get",o+"");const r=s[t](...n);return r===-1||r===!1?s[t](...n.map(Ee)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){$n(),ni();const s=Ee(this)[t].apply(this,n);return si(),Cn(),s}}),e}function Af(e){const t=Ee(this);return nt(t,"has",e),t.hasOwnProperty(e)}class Al{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,s){const r=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?Df:Nl:o?Bl:Tl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=he(t);if(!r){if(i&&be(Zi,n))return Reflect.get(Zi,n,s);if(n==="hasOwnProperty")return Af}const a=Reflect.get(t,n,s);return(ln(n)?Il.has(n):Cf(n))||(r||nt(t,"get",n),o)?a:Ve(a)?i&&Xo(n)?a:a.value:Ce(a)?r?Ul(a):Xn(a):a}}class Pl extends Al{constructor(t=!1){super(!1,t)}set(t,n,s,r){let o=t[n];if(!this._shallow){const l=qn(o);if(!Ys(s)&&!qn(s)&&(o=Ee(o),s=Ee(s)),!he(t)&&Ve(o)&&!Ve(s))return l?!1:(o.value=s,!0)}const i=he(t)&&Xo(n)?Number(n)<t.length:be(t,n),a=Reflect.set(t,n,s,r);return t===Ee(r)&&(i?cn(s,o)&&Ot(t,"set",n,s):Ot(t,"add",n,s)),a}deleteProperty(t,n){const s=be(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&Ot(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!ln(n)||!Il.has(n))&&nt(t,"has",n),s}ownKeys(t){return nt(t,"iterate",he(t)?"length":Rn),Reflect.ownKeys(t)}}class Pf extends Al{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Tf=new Pl,Bf=new Pf,Nf=new Pl(!0),ri=e=>e,gr=e=>Reflect.getPrototypeOf(e);function Ls(e,t,n=!1,s=!1){e=e.__v_raw;const r=Ee(e),o=Ee(t);n||(cn(t,o)&&nt(r,"get",t),nt(r,"get",o));const{has:i}=gr(r),a=s?ri:n?ai:ys;if(i.call(r,t))return a(e.get(t));if(i.call(r,o))return a(e.get(o));e!==r&&e.get(t)}function Us(e,t=!1){const n=this.__v_raw,s=Ee(n),r=Ee(e);return t||(cn(e,r)&&nt(s,"has",e),nt(s,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function Os(e,t=!1){return e=e.__v_raw,!t&&nt(Ee(e),"iterate",Rn),Reflect.get(e,"size",e)}function Ji(e){e=Ee(e);const t=Ee(this);return gr(t).has.call(t,e)||(t.add(e),Ot(t,"add",e,e)),this}function Yi(e,t){t=Ee(t);const n=Ee(this),{has:s,get:r}=gr(n);let o=s.call(n,e);o||(e=Ee(e),o=s.call(n,e));const i=r.call(n,e);return n.set(e,t),o?cn(t,i)&&Ot(n,"set",e,t):Ot(n,"add",e,t),this}function Qi(e){const t=Ee(this),{has:n,get:s}=gr(t);let r=n.call(t,e);r||(e=Ee(e),r=n.call(t,e)),s&&s.call(t,e);const o=t.delete(e);return r&&Ot(t,"delete",e,void 0),o}function Xi(){const e=Ee(this),t=e.size!==0,n=e.clear();return t&&Ot(e,"clear",void 0,void 0),n}function Ms(e,t){return function(s,r){const o=this,i=o.__v_raw,a=Ee(i),l=t?ri:e?ai:ys;return!e&&nt(a,"iterate",Rn),i.forEach((c,u)=>s.call(r,l(c),l(u),o))}}function Hs(e,t,n){return function(...s){const r=this.__v_raw,o=Ee(r),i=Mn(o),a=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,c=r[e](...s),u=n?ri:t?ai:ys;return!t&&nt(o,"iterate",l?bo:Rn),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function Kt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Lf(){const e={get(o){return Ls(this,o)},get size(){return Os(this)},has:Us,add:Ji,set:Yi,delete:Qi,clear:Xi,forEach:Ms(!1,!1)},t={get(o){return Ls(this,o,!1,!0)},get size(){return Os(this)},has:Us,add:Ji,set:Yi,delete:Qi,clear:Xi,forEach:Ms(!1,!0)},n={get(o){return Ls(this,o,!0)},get size(){return Os(this,!0)},has(o){return Us.call(this,o,!0)},add:Kt("add"),set:Kt("set"),delete:Kt("delete"),clear:Kt("clear"),forEach:Ms(!0,!1)},s={get(o){return Ls(this,o,!0,!0)},get size(){return Os(this,!0)},has(o){return Us.call(this,o,!0)},add:Kt("add"),set:Kt("set"),delete:Kt("delete"),clear:Kt("clear"),forEach:Ms(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Hs(o,!1,!1),n[o]=Hs(o,!0,!1),t[o]=Hs(o,!1,!0),s[o]=Hs(o,!0,!0)}),[e,n,t,s]}const[Uf,Of,Mf,Hf]=Lf();function oi(e,t){const n=t?e?Hf:Mf:e?Of:Uf;return(s,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(be(n,r)&&r in s?n:s,r,o)}const Vf={get:oi(!1,!1)},Ff={get:oi(!1,!0)},jf={get:oi(!0,!1)},Tl=new WeakMap,Bl=new WeakMap,Nl=new WeakMap,Df=new WeakMap;function qf(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Kf(e){return e.__v_skip||!Object.isExtensible(e)?0:qf(pf(e))}function Xn(e){return qn(e)?e:ii(e,!1,Tf,Vf,Tl)}function Ll(e){return ii(e,!1,Nf,Ff,Bl)}function Ul(e){return ii(e,!0,Bf,jf,Nl)}function ii(e,t,n,s,r){if(!Ce(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const i=Kf(e);if(i===0)return e;const a=new Proxy(e,i===2?s:n);return r.set(e,a),a}function rn(e){return qn(e)?rn(e.__v_raw):!!(e&&e.__v_isReactive)}function qn(e){return!!(e&&e.__v_isReadonly)}function Ys(e){return!!(e&&e.__v_isShallow)}function Ol(e){return rn(e)||qn(e)}function Ee(e){const t=e&&e.__v_raw;return t?Ee(t):e}function yr(e){return Object.isExtensible(e)&&Zs(e,"__v_skip",!0),e}const ys=e=>Ce(e)?Xn(e):e,ai=e=>Ce(e)?Ul(e):e;class Ml{constructor(t,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ti(()=>t(this._value),()=>qs(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const t=Ee(this);return(!t._cacheable||t.effect.dirty)&&cn(t._value,t._value=t.effect.run())&&qs(t,4),Hl(t),t.effect._dirtyLevel>=2&&qs(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function zf(e,t,n=!1){let s,r;const o=ve(e);return o?(s=e,r=ot):(s=e.get,r=e.set),new Ml(s,r,o||!r,n)}function Hl(e){var t;sn&&xn&&(e=Ee(e),kl(xn,(t=e.dep)!=null?t:e.dep=Cl(()=>e.dep=void 0,e instanceof Ml?e:void 0)))}function qs(e,t=4,n){e=Ee(e);const s=e.dep;s&&$l(s,t)}function Ve(e){return!!(e&&e.__v_isRef===!0)}function j(e){return Vl(e,!1)}function Wf(e){return Vl(e,!0)}function Vl(e,t){return Ve(e)?e:new Gf(e,t)}class Gf{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ee(t),this._value=n?t:ys(t)}get value(){return Hl(this),this._value}set value(t){const n=this.__v_isShallow||Ys(t)||qn(t);t=n?t:Ee(t),cn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ys(t),qs(this,4))}}function ue(e){return Ve(e)?e.value:e}const Zf={get:(e,t,n)=>ue(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return Ve(r)&&!Ve(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function Fl(e){return rn(e)?e:new Proxy(e,Zf)}function Jf(e){const t=he(e)?new Array(e.length):{};for(const n in e)t[n]=Qf(e,n);return t}class Yf{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return $f(Ee(this._object),this._key)}}function Qf(e,t,n){const s=e[t];return Ve(s)?s:new Yf(e,t,n)}/**
* @vue/runtime-core v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function on(e,t,n,s){try{return s?e(...s):e()}catch(r){vr(r,t,n)}}function dt(e,t,n,s){if(ve(e)){const o=on(e,t,n,s);return o&&pl(o)&&o.catch(i=>{vr(i,t,n)}),o}const r=[];for(let o=0;o<e.length;o++)r.push(dt(e[o],t,n,s));return r}function vr(e,t,n,s=!0){const r=t?t.vnode:null;if(t){let o=t.parent;const i=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,i,a)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){on(l,null,10,[e,i,a]);return}}Xf(e,n,r,s)}function Xf(e,t,n,s=!0){console.error(e)}let vs=!1,Eo=!1;const Ze=[];let bt=0;const Hn=[];let Qt=null,_n=0;const jl=Promise.resolve();let li=null;function ci(e){const t=li||jl;return e?t.then(this?e.bind(this):e):t}function ed(e){let t=bt+1,n=Ze.length;for(;t<n;){const s=t+n>>>1,r=Ze[s],o=_s(r);o<e||o===e&&r.pre?t=s+1:n=s}return t}function ui(e){(!Ze.length||!Ze.includes(e,vs&&e.allowRecurse?bt+1:bt))&&(e.id==null?Ze.push(e):Ze.splice(ed(e.id),0,e),Dl())}function Dl(){!vs&&!Eo&&(Eo=!0,li=jl.then(Kl))}function td(e){const t=Ze.indexOf(e);t>bt&&Ze.splice(t,1)}function nd(e){he(e)?Hn.push(...e):(!Qt||!Qt.includes(e,e.allowRecurse?_n+1:_n))&&Hn.push(e),Dl()}function ea(e,t,n=vs?bt+1:0){for(;n<Ze.length;n++){const s=Ze[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;Ze.splice(n,1),n--,s()}}}function ql(e){if(Hn.length){const t=[...new Set(Hn)].sort((n,s)=>_s(n)-_s(s));if(Hn.length=0,Qt){Qt.push(...t);return}for(Qt=t,_n=0;_n<Qt.length;_n++)Qt[_n]();Qt=null,_n=0}}const _s=e=>e.id==null?1/0:e.id,sd=(e,t)=>{const n=_s(e)-_s(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Kl(e){Eo=!1,vs=!0,Ze.sort(sd);const t=ot;try{for(bt=0;bt<Ze.length;bt++){const n=Ze[bt];n&&n.active!==!1&&on(n,null,14)}}finally{bt=0,Ze.length=0,ql(),vs=!1,li=null,(Ze.length||Hn.length)&&Kl()}}function rd(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Ae;let r=n;const o=t.startsWith("update:"),i=o&&t.slice(7);if(i&&i in s){const u=`${i==="modelValue"?"model":i}Modifiers`,{number:f,trim:d}=s[u]||Ae;d&&(r=n.map(h=>He(h)?h.trim():h)),f&&(r=n.map(_o))}let a,l=s[a=Wr(t)]||s[a=Wr(Rt(t))];!l&&o&&(l=s[a=Wr(Qn(t))]),l&&dt(l,e,6,r);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,dt(c,e,6,r)}}function zl(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const o=e.emits;let i={},a=!1;if(!ve(e)){const l=c=>{const u=zl(c,t,!0);u&&(a=!0,We(i,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(Ce(e)&&s.set(e,null),null):(he(o)?o.forEach(l=>i[l]=null):We(i,o),Ce(e)&&s.set(e,i),i)}function _r(e,t){return!e||!ur(t)?!1:(t=t.slice(2).replace(/Once$/,""),be(e,t[0].toLowerCase()+t.slice(1))||be(e,Qn(t))||be(e,t))}let Me=null,wr=null;function Qs(e){const t=Me;return Me=e,wr=e&&e.type.__scopeId||null,t}function $t(e){wr=e}function Ct(){wr=null}function Qe(e,t=Me,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&fa(-1);const o=Qs(t);let i;try{i=e(...r)}finally{Qs(o),s._d&&fa(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function Zr(e){const{type:t,vnode:n,proxy:s,withProxy:r,props:o,propsOptions:[i],slots:a,attrs:l,emit:c,render:u,renderCache:f,data:d,setupState:h,ctx:w,inheritAttrs:y}=e;let v,m;const b=Qs(e);try{if(n.shapeFlag&4){const $=r||s,N=$;v=mt(u.call(N,$,f,o,h,d,w)),m=l}else{const $=t;v=mt($.length>1?$(o,{attrs:l,slots:a,emit:c}):$(o,null)),m=t.props?l:od(l)}}catch($){fs.length=0,vr($,e,1),v=_e(un)}let E=v;if(m&&y!==!1){const $=Object.keys(m),{shapeFlag:N}=E;$.length&&N&7&&(i&&$.some(Yo)&&(m=id(m,i)),E=Kn(E,m))}return n.dirs&&(E=Kn(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(E.transition=n.transition),v=E,Qs(b),v}const od=e=>{let t;for(const n in e)(n==="class"||n==="style"||ur(n))&&((t||(t={}))[n]=e[n]);return t},id=(e,t)=>{const n={};for(const s in e)(!Yo(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function ad(e,t,n){const{props:s,children:r,component:o}=e,{props:i,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?ta(s,i,c):!!i;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(i[d]!==s[d]&&!_r(c,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?ta(s,i,c):!0:!!i;return!1}function ta(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(t[o]!==e[o]&&!_r(n,o))return!0}return!1}function ld({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Wl="components";function ws(e,t){return ud(Wl,e,!0,t)||e}const cd=Symbol.for("v-ndc");function ud(e,t,n=!0,s=!1){const r=Me||ze;if(r){const o=r.type;if(e===Wl){const a=sh(o,!1);if(a&&(a===t||a===Rt(t)||a===hr(Rt(t))))return o}const i=na(r[e]||o[e],t)||na(r.appContext[e],t);return!i&&s?o:i}}function na(e,t){return e&&(e[t]||e[Rt(t)]||e[hr(Rt(t))])}const fd=e=>e.__isSuspense;function dd(e,t){t&&t.pendingBranch?he(e)?t.effects.push(...e):t.effects.push(e):nd(e)}const hd=Symbol.for("v-scx"),pd=()=>lt(hd);function gd(e,t){return fi(e,null,t)}const Vs={};function Mt(e,t,n){return fi(e,t,n)}function fi(e,t,{immediate:n,deep:s,flush:r,once:o,onTrack:i,onTrigger:a}=Ae){if(t&&o){const k=t;t=(...F)=>{k(...F),N()}}const l=ze,c=k=>s===!0?k:bn(k,s===!1?1:void 0);let u,f=!1,d=!1;if(Ve(e)?(u=()=>e.value,f=Ys(e)):rn(e)?(u=()=>c(e),f=!0):he(e)?(d=!0,f=e.some(k=>rn(k)||Ys(k)),u=()=>e.map(k=>{if(Ve(k))return k.value;if(rn(k))return c(k);if(ve(k))return on(k,l,2)})):ve(e)?t?u=()=>on(e,l,2):u=()=>(h&&h(),dt(e,l,3,[w])):u=ot,t&&s){const k=u;u=()=>bn(k())}let h,w=k=>{h=E.onStop=()=>{on(k,l,4),h=E.onStop=void 0}},y;if(xr)if(w=ot,t?n&&dt(t,l,3,[u(),d?[]:void 0,w]):u(),r==="sync"){const k=pd();y=k.__watcherHandles||(k.__watcherHandles=[])}else return ot;let v=d?new Array(e.length).fill(Vs):Vs;const m=()=>{if(!(!E.active||!E.dirty))if(t){const k=E.run();(s||f||(d?k.some((F,V)=>cn(F,v[V])):cn(k,v)))&&(h&&h(),dt(t,l,3,[k,v===Vs?void 0:d&&v[0]===Vs?[]:v,w]),v=k)}else E.run()};m.allowRecurse=!!t;let b;r==="sync"?b=m:r==="post"?b=()=>Xe(m,l&&l.suspense):(m.pre=!0,l&&(m.id=l.uid),b=()=>ui(m));const E=new ti(u,ot,b),$=xl(),N=()=>{E.stop(),$&&Qo($.effects,E)};return t?n?m():v=E.run():r==="post"?Xe(E.run.bind(E),l&&l.suspense):E.run(),y&&y.push(N),N}function yd(e,t,n){const s=this.proxy,r=He(e)?e.includes(".")?Gl(s,e):()=>s[e]:e.bind(s,s);let o;ve(t)?o=t:(o=t.handler,n=t);const i=$s(this),a=fi(r,o.bind(s),n);return i(),a}function Gl(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function bn(e,t,n=0,s){if(!Ce(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(s=s||new Set,s.has(e))return e;if(s.add(e),Ve(e))bn(e.value,t,n,s);else if(he(e))for(let r=0;r<e.length;r++)bn(e[r],t,n,s);else if(fr(e)||Mn(e))e.forEach(r=>{bn(r,t,n,s)});else if(yl(e))for(const r in e)bn(e[r],t,n,s);return e}function Vn(e,t){if(Me===null)return e;const n=Rr(Me)||Me.proxy,s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,i,a,l=Ae]=t[r];o&&(ve(o)&&(o={mounted:o,updated:o}),o.deep&&bn(i),s.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return e}function pn(e,t,n,s){const r=e.dirs,o=t&&t.dirs;for(let i=0;i<r.length;i++){const a=r[i];o&&(a.oldValue=o[i].value);let l=a.dir[s];l&&($n(),dt(l,n,8,[e.el,a,e,t]),Cn())}}/*! #__NO_SIDE_EFFECTS__ */function Oe(e,t){return ve(e)?(()=>We({name:e.name},t,{setup:e}))():e}const cs=e=>!!e.type.__asyncLoader,Zl=e=>e.type.__isKeepAlive;function vd(e,t){Jl(e,"a",t)}function _d(e,t){Jl(e,"da",t)}function Jl(e,t,n=ze){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(mr(t,s,n),n){let r=n.parent;for(;r&&r.parent;)Zl(r.parent.vnode)&&wd(s,t,n,r),r=r.parent}}function wd(e,t,n,s){const r=mr(t,e,s,!0);Ql(()=>{Qo(s[t],r)},n)}function mr(e,t,n=ze,s=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;$n();const a=$s(n),l=dt(t,n,e,i);return a(),Cn(),l});return s?r.unshift(o):r.push(o),o}}const Ft=e=>(t,n=ze)=>(!xr||e==="sp")&&mr(e,(...s)=>t(...s),n),Yl=Ft("bm"),It=Ft("m"),di=Ft("bu"),md=Ft("u"),bd=Ft("bum"),Ql=Ft("um"),Ed=Ft("sp"),xd=Ft("rtg"),Rd=Ft("rtc");function Sd(e,t=ze){mr("ec",e,t)}function ct(e,t,n,s){let r;const o=n&&n[s];if(he(e)||He(e)){r=new Array(e.length);for(let i=0,a=e.length;i<a;i++)r[i]=t(e[i],i,void 0,o&&o[i])}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,o&&o[i])}else if(Ce(e))if(e[Symbol.iterator])r=Array.from(e,(i,a)=>t(i,a,void 0,o&&o[a]));else{const i=Object.keys(e);r=new Array(i.length);for(let a=0,l=i.length;a<l;a++){const c=i[a];r[a]=t(e[c],c,a,o&&o[a])}}else r=[];return n&&(n[s]=r),r}function kd(e,t,n={},s,r){if(Me.isCE||Me.parent&&cs(Me.parent)&&Me.parent.isCE)return t!=="default"&&(n.name=t),_e("slot",n,s&&s());let o=e[t];o&&o._c&&(o._d=!1),C();const i=o&&Xl(o(n)),a=Ne(Re,{key:n.key||i&&i.key||`_${t}`},i||(s?s():[]),i&&e._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function Xl(e){return e.some(t=>er(t)?!(t.type===un||t.type===Re&&!Xl(t.children)):!0)?e:null}const xo=e=>e?fc(e)?Rr(e)||e.proxy:xo(e.parent):null,us=We(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>xo(e.parent),$root:e=>xo(e.root),$emit:e=>e.emit,$options:e=>hi(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,ui(e.update)}),$nextTick:e=>e.n||(e.n=ci.bind(e.proxy)),$watch:e=>yd.bind(e)}),Jr=(e,t)=>e!==Ae&&!e.__isScriptSetup&&be(e,t),$d={get({_:e},t){const{ctx:n,setupState:s,data:r,props:o,accessCache:i,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(Jr(s,t))return i[t]=1,s[t];if(r!==Ae&&be(r,t))return i[t]=2,r[t];if((c=e.propsOptions[0])&&be(c,t))return i[t]=3,o[t];if(n!==Ae&&be(n,t))return i[t]=4,n[t];Ro&&(i[t]=0)}}const u=us[t];let f,d;if(u)return t==="$attrs"&&nt(e,"get",t),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==Ae&&be(n,t))return i[t]=4,n[t];if(d=l.config.globalProperties,be(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:o}=e;return Jr(r,t)?(r[t]=n,!0):s!==Ae&&be(s,t)?(s[t]=n,!0):be(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:o}},i){let a;return!!n[i]||e!==Ae&&be(e,i)||Jr(t,i)||(a=o[0])&&be(a,i)||be(s,i)||be(us,i)||be(r.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:be(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function sa(e){return he(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ro=!0;function Cd(e){const t=hi(e),n=e.proxy,s=e.ctx;Ro=!1,t.beforeCreate&&ra(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:i,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:w,activated:y,deactivated:v,beforeDestroy:m,beforeUnmount:b,destroyed:E,unmounted:$,render:N,renderTracked:k,renderTriggered:F,errorCaptured:V,serverPrefetch:W,expose:Z,inheritAttrs:te,components:M,directives:Q,filters:D}=t;if(c&&Id(c,s,null),i)for(const A in i){const T=i[A];ve(T)&&(s[A]=T.bind(n))}if(r){const A=r.call(n,n);Ce(A)&&(e.data=Xn(A))}if(Ro=!0,o)for(const A in o){const T=o[A],q=ve(T)?T.bind(n,n):ve(T.get)?T.get.bind(n,n):ot,X=!ve(T)&&ve(T.set)?T.set.bind(n):ot,ie=Te({get:q,set:X});Object.defineProperty(s,A,{enumerable:!0,configurable:!0,get:()=>ie.value,set:ee=>ie.value=ee})}if(a)for(const A in a)ec(a[A],s,n,A);if(l){const A=ve(l)?l.call(n):l;Reflect.ownKeys(A).forEach(T=>{Ks(T,A[T])})}u&&ra(u,e,"c");function P(A,T){he(T)?T.forEach(q=>A(q.bind(n))):T&&A(T.bind(n))}if(P(Yl,f),P(It,d),P(di,h),P(md,w),P(vd,y),P(_d,v),P(Sd,V),P(Rd,k),P(xd,F),P(bd,b),P(Ql,$),P(Ed,W),he(Z))if(Z.length){const A=e.exposed||(e.exposed={});Z.forEach(T=>{Object.defineProperty(A,T,{get:()=>n[T],set:q=>n[T]=q})})}else e.exposed||(e.exposed={});N&&e.render===ot&&(e.render=N),te!=null&&(e.inheritAttrs=te),M&&(e.components=M),Q&&(e.directives=Q)}function Id(e,t,n=ot){he(e)&&(e=So(e));for(const s in e){const r=e[s];let o;Ce(r)?"default"in r?o=lt(r.from||s,r.default,!0):o=lt(r.from||s):o=lt(r),Ve(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[s]=o}}function ra(e,t,n){dt(he(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function ec(e,t,n,s){const r=s.includes(".")?Gl(n,s):()=>n[s];if(He(e)){const o=t[e];ve(o)&&Mt(r,o)}else if(ve(e))Mt(r,e.bind(n));else if(Ce(e))if(he(e))e.forEach(o=>ec(o,t,n,s));else{const o=ve(e.handler)?e.handler.bind(n):t[e.handler];ve(o)&&Mt(r,o,e)}}function hi(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,a=o.get(t);let l;return a?l=a:!r.length&&!n&&!s?l=t:(l={},r.length&&r.forEach(c=>Xs(l,c,i,!0)),Xs(l,t,i)),Ce(t)&&o.set(t,l),l}function Xs(e,t,n,s=!1){const{mixins:r,extends:o}=t;o&&Xs(e,o,n,!0),r&&r.forEach(i=>Xs(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const a=Ad[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const Ad={data:oa,props:ia,emits:ia,methods:as,computed:as,beforeCreate:Ye,created:Ye,beforeMount:Ye,mounted:Ye,beforeUpdate:Ye,updated:Ye,beforeDestroy:Ye,beforeUnmount:Ye,destroyed:Ye,unmounted:Ye,activated:Ye,deactivated:Ye,errorCaptured:Ye,serverPrefetch:Ye,components:as,directives:as,watch:Td,provide:oa,inject:Pd};function oa(e,t){return t?e?function(){return We(ve(e)?e.call(this,this):e,ve(t)?t.call(this,this):t)}:t:e}function Pd(e,t){return as(So(e),So(t))}function So(e){if(he(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ye(e,t){return e?[...new Set([].concat(e,t))]:t}function as(e,t){return e?We(Object.create(null),e,t):t}function ia(e,t){return e?he(e)&&he(t)?[...new Set([...e,...t])]:We(Object.create(null),sa(e),sa(t??{})):t}function Td(e,t){if(!e)return t;if(!t)return e;const n=We(Object.create(null),e);for(const s in t)n[s]=Ye(e[s],t[s]);return n}function tc(){return{app:null,config:{isNativeTag:df,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bd=0;function Nd(e,t){return function(s,r=null){ve(s)||(s=We({},s)),r!=null&&!Ce(r)&&(r=null);const o=tc(),i=new WeakSet;let a=!1;const l=o.app={_uid:Bd++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:oh,get config(){return o.config},set config(c){},use(c,...u){return i.has(c)||(c&&ve(c.install)?(i.add(c),c.install(l,...u)):ve(c)&&(i.add(c),c(l,...u))),l},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),l},component(c,u){return u?(o.components[c]=u,l):o.components[c]},directive(c,u){return u?(o.directives[c]=u,l):o.directives[c]},mount(c,u,f){if(!a){const d=_e(s,r);return d.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),u&&t?t(d,c):e(d,c,f),a=!0,l._container=c,c.__vue_app__=l,Rr(d.component)||d.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return o.provides[c]=u,l},runWithContext(c){const u=Fn;Fn=l;try{return c()}finally{Fn=u}}};return l}}let Fn=null;function Ks(e,t){if(ze){let n=ze.provides;const s=ze.parent&&ze.parent.provides;s===n&&(n=ze.provides=Object.create(s)),n[e]=t}}function lt(e,t,n=!1){const s=ze||Me;if(s||Fn){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Fn._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&ve(t)?t.call(s&&s.proxy):t}}function Ld(){return!!(ze||Me||Fn)}function Ud(e,t,n,s=!1){const r={},o={};Zs(o,Er,1),e.propsDefaults=Object.create(null),nc(e,t,r,o);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);n?e.props=s?r:Ll(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function Od(e,t,n,s){const{props:r,attrs:o,vnode:{patchFlag:i}}=e,a=Ee(r),[l]=e.propsOptions;let c=!1;if((s||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(_r(e.emitsOptions,d))continue;const h=t[d];if(l)if(be(o,d))h!==o[d]&&(o[d]=h,c=!0);else{const w=Rt(d);r[w]=ko(l,a,w,h,e,!1)}else h!==o[d]&&(o[d]=h,c=!0)}}}else{nc(e,t,r,o)&&(c=!0);let u;for(const f in a)(!t||!be(t,f)&&((u=Qn(f))===f||!be(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=ko(l,a,f,void 0,e,!0)):delete r[f]);if(o!==a)for(const f in o)(!t||!be(t,f))&&(delete o[f],c=!0)}c&&Ot(e,"set","$attrs")}function nc(e,t,n,s){const[r,o]=e.propsOptions;let i=!1,a;if(t)for(let l in t){if(ls(l))continue;const c=t[l];let u;r&&be(r,u=Rt(l))?!o||!o.includes(u)?n[u]=c:(a||(a={}))[u]=c:_r(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,i=!0)}if(o){const l=Ee(n),c=a||Ae;for(let u=0;u<o.length;u++){const f=o[u];n[f]=ko(r,l,f,c[f],e,!be(c,f))}}return i}function ko(e,t,n,s,r,o){const i=e[n];if(i!=null){const a=be(i,"default");if(a&&s===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&ve(l)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const u=$s(r);s=c[n]=l.call(null,t),u()}}else s=l}i[0]&&(o&&!a?s=!1:i[1]&&(s===""||s===Qn(n))&&(s=!0))}return s}function sc(e,t,n=!1){const s=t.propsCache,r=s.get(e);if(r)return r;const o=e.props,i={},a=[];let l=!1;if(!ve(e)){const u=f=>{l=!0;const[d,h]=sc(f,t,!0);We(i,d),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!l)return Ce(e)&&s.set(e,On),On;if(he(o))for(let u=0;u<o.length;u++){const f=Rt(o[u]);aa(f)&&(i[f]=Ae)}else if(o)for(const u in o){const f=Rt(u);if(aa(f)){const d=o[u],h=i[f]=he(d)||ve(d)?{type:d}:We({},d);if(h){const w=ua(Boolean,h.type),y=ua(String,h.type);h[0]=w>-1,h[1]=y<0||w<y,(w>-1||be(h,"default"))&&a.push(f)}}}const c=[i,a];return Ce(e)&&s.set(e,c),c}function aa(e){return e[0]!=="$"&&!ls(e)}function la(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function ca(e,t){return la(e)===la(t)}function ua(e,t){return he(t)?t.findIndex(n=>ca(n,e)):ve(t)&&ca(t,e)?0:-1}const rc=e=>e[0]==="_"||e==="$stable",pi=e=>he(e)?e.map(mt):[mt(e)],Md=(e,t,n)=>{if(t._n)return t;const s=Qe((...r)=>pi(t(...r)),n);return s._c=!1,s},oc=(e,t,n)=>{const s=e._ctx;for(const r in e){if(rc(r))continue;const o=e[r];if(ve(o))t[r]=Md(r,o,s);else if(o!=null){const i=pi(o);t[r]=()=>i}}},ic=(e,t)=>{const n=pi(t);e.slots.default=()=>n},Hd=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ee(t),Zs(t,"_",n)):oc(t,e.slots={})}else e.slots={},t&&ic(e,t);Zs(e.slots,Er,1)},Vd=(e,t,n)=>{const{vnode:s,slots:r}=e;let o=!0,i=Ae;if(s.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:(We(r,t),!n&&a===1&&delete r._):(o=!t.$stable,oc(t,r)),i=t}else t&&(ic(e,t),i={default:1});if(o)for(const a in r)!rc(a)&&i[a]==null&&delete r[a]};function $o(e,t,n,s,r=!1){if(he(e)){e.forEach((d,h)=>$o(d,t&&(he(t)?t[h]:t),n,s,r));return}if(cs(s)&&!r)return;const o=s.shapeFlag&4?Rr(s.component)||s.component.proxy:s.el,i=r?null:o,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Ae?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(He(c)?(u[c]=null,be(f,c)&&(f[c]=null)):Ve(c)&&(c.value=null)),ve(l))on(l,a,12,[i,u]);else{const d=He(l),h=Ve(l);if(d||h){const w=()=>{if(e.f){const y=d?be(f,l)?f[l]:u[l]:l.value;r?he(y)&&Qo(y,o):he(y)?y.includes(o)||y.push(o):d?(u[l]=[o],be(f,l)&&(f[l]=u[l])):(l.value=[o],e.k&&(u[e.k]=l.value))}else d?(u[l]=i,be(f,l)&&(f[l]=i)):h&&(l.value=i,e.k&&(u[e.k]=i))};i?(w.id=-1,Xe(w,n)):w()}}}const Xe=dd;function Fd(e){return jd(e)}function jd(e,t){const n=vl();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:i,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=ot,insertStaticContent:w}=e,y=(p,g,S,U=null,L=null,J=null,ne=void 0,G=null,Y=!!g.dynamicChildren)=>{if(p===g)return;p&&!ss(p,g)&&(U=x(p),ee(p,L,J,!0),p=null),g.patchFlag===-2&&(Y=!1,g.dynamicChildren=null);const{type:K,ref:re,shapeFlag:de}=g;switch(K){case br:v(p,g,S,U);break;case un:m(p,g,S,U);break;case zs:p==null&&b(g,S,U,ne);break;case Re:M(p,g,S,U,L,J,ne,G,Y);break;default:de&1?N(p,g,S,U,L,J,ne,G,Y):de&6?Q(p,g,S,U,L,J,ne,G,Y):(de&64||de&128)&&K.process(p,g,S,U,L,J,ne,G,Y,I)}re!=null&&L&&$o(re,p&&p.ref,J,g||p,!g)},v=(p,g,S,U)=>{if(p==null)s(g.el=a(g.children),S,U);else{const L=g.el=p.el;g.children!==p.children&&c(L,g.children)}},m=(p,g,S,U)=>{p==null?s(g.el=l(g.children||""),S,U):g.el=p.el},b=(p,g,S,U)=>{[p.el,p.anchor]=w(p.children,g,S,U,p.el,p.anchor)},E=({el:p,anchor:g},S,U)=>{let L;for(;p&&p!==g;)L=d(p),s(p,S,U),p=L;s(g,S,U)},$=({el:p,anchor:g})=>{let S;for(;p&&p!==g;)S=d(p),r(p),p=S;r(g)},N=(p,g,S,U,L,J,ne,G,Y)=>{g.type==="svg"?ne="svg":g.type==="math"&&(ne="mathml"),p==null?k(g,S,U,L,J,ne,G,Y):W(p,g,L,J,ne,G,Y)},k=(p,g,S,U,L,J,ne,G)=>{let Y,K;const{props:re,shapeFlag:de,transition:fe,dirs:ge}=p;if(Y=p.el=i(p.type,J,re&&re.is,re),de&8?u(Y,p.children):de&16&&V(p.children,Y,null,U,L,Yr(p,J),ne,G),ge&&pn(p,null,U,"created"),F(Y,p,p.scopeId,ne,U),re){for(const $e in re)$e!=="value"&&!ls($e)&&o(Y,$e,null,re[$e],J,p.children,U,L,z);"value"in re&&o(Y,"value",null,re.value,J),(K=re.onVnodeBeforeMount)&&yt(K,U,p)}ge&&pn(p,null,U,"beforeMount");const me=Dd(L,fe);me&&fe.beforeEnter(Y),s(Y,g,S),((K=re&&re.onVnodeMounted)||me||ge)&&Xe(()=>{K&&yt(K,U,p),me&&fe.enter(Y),ge&&pn(p,null,U,"mounted")},L)},F=(p,g,S,U,L)=>{if(S&&h(p,S),U)for(let J=0;J<U.length;J++)h(p,U[J]);if(L){let J=L.subTree;if(g===J){const ne=L.vnode;F(p,ne,ne.scopeId,ne.slotScopeIds,L.parent)}}},V=(p,g,S,U,L,J,ne,G,Y=0)=>{for(let K=Y;K<p.length;K++){const re=p[K]=G?Xt(p[K]):mt(p[K]);y(null,re,g,S,U,L,J,ne,G)}},W=(p,g,S,U,L,J,ne)=>{const G=g.el=p.el;let{patchFlag:Y,dynamicChildren:K,dirs:re}=g;Y|=p.patchFlag&16;const de=p.props||Ae,fe=g.props||Ae;let ge;if(S&&gn(S,!1),(ge=fe.onVnodeBeforeUpdate)&&yt(ge,S,g,p),re&&pn(g,p,S,"beforeUpdate"),S&&gn(S,!0),K?Z(p.dynamicChildren,K,G,S,U,Yr(g,L),J):ne||T(p,g,G,null,S,U,Yr(g,L),J,!1),Y>0){if(Y&16)te(G,g,de,fe,S,U,L);else if(Y&2&&de.class!==fe.class&&o(G,"class",null,fe.class,L),Y&4&&o(G,"style",de.style,fe.style,L),Y&8){const me=g.dynamicProps;for(let $e=0;$e<me.length;$e++){const Be=me[$e],Fe=de[Be],ut=fe[Be];(ut!==Fe||Be==="value")&&o(G,Be,Fe,ut,L,p.children,S,U,z)}}Y&1&&p.children!==g.children&&u(G,g.children)}else!ne&&K==null&&te(G,g,de,fe,S,U,L);((ge=fe.onVnodeUpdated)||re)&&Xe(()=>{ge&&yt(ge,S,g,p),re&&pn(g,p,S,"updated")},U)},Z=(p,g,S,U,L,J,ne)=>{for(let G=0;G<g.length;G++){const Y=p[G],K=g[G],re=Y.el&&(Y.type===Re||!ss(Y,K)||Y.shapeFlag&70)?f(Y.el):S;y(Y,K,re,null,U,L,J,ne,!0)}},te=(p,g,S,U,L,J,ne)=>{if(S!==U){if(S!==Ae)for(const G in S)!ls(G)&&!(G in U)&&o(p,G,S[G],null,ne,g.children,L,J,z);for(const G in U){if(ls(G))continue;const Y=U[G],K=S[G];Y!==K&&G!=="value"&&o(p,G,K,Y,ne,g.children,L,J,z)}"value"in U&&o(p,"value",S.value,U.value,ne)}},M=(p,g,S,U,L,J,ne,G,Y)=>{const K=g.el=p?p.el:a(""),re=g.anchor=p?p.anchor:a("");let{patchFlag:de,dynamicChildren:fe,slotScopeIds:ge}=g;ge&&(G=G?G.concat(ge):ge),p==null?(s(K,S,U),s(re,S,U),V(g.children||[],S,re,L,J,ne,G,Y)):de>0&&de&64&&fe&&p.dynamicChildren?(Z(p.dynamicChildren,fe,S,L,J,ne,G),(g.key!=null||L&&g===L.subTree)&&ac(p,g,!0)):T(p,g,S,re,L,J,ne,G,Y)},Q=(p,g,S,U,L,J,ne,G,Y)=>{g.slotScopeIds=G,p==null?g.shapeFlag&512?L.ctx.activate(g,S,U,ne,Y):D(g,S,U,L,J,ne,Y):R(p,g,Y)},D=(p,g,S,U,L,J,ne)=>{const G=p.component=Qd(p,U,L);if(Zl(p)&&(G.ctx.renderer=I),Xd(G),G.asyncDep){if(L&&L.registerDep(G,P),!p.el){const Y=G.subTree=_e(un);m(null,Y,g,S)}}else P(G,p,g,S,L,J,ne)},R=(p,g,S)=>{const U=g.component=p.component;if(ad(p,g,S))if(U.asyncDep&&!U.asyncResolved){A(U,g,S);return}else U.next=g,td(U.update),U.effect.dirty=!0,U.update();else g.el=p.el,U.vnode=g},P=(p,g,S,U,L,J,ne)=>{const G=()=>{if(p.isMounted){let{next:re,bu:de,u:fe,parent:ge,vnode:me}=p;{const Tn=lc(p);if(Tn){re&&(re.el=me.el,A(p,re,ne)),Tn.asyncDep.then(()=>{p.isUnmounted||G()});return}}let $e=re,Be;gn(p,!1),re?(re.el=me.el,A(p,re,ne)):re=me,de&&Ds(de),(Be=re.props&&re.props.onVnodeBeforeUpdate)&&yt(Be,ge,re,me),gn(p,!0);const Fe=Zr(p),ut=p.subTree;p.subTree=Fe,y(ut,Fe,f(ut.el),x(ut),p,L,J),re.el=Fe.el,$e===null&&ld(p,Fe.el),fe&&Xe(fe,L),(Be=re.props&&re.props.onVnodeUpdated)&&Xe(()=>yt(Be,ge,re,me),L)}else{let re;const{el:de,props:fe}=g,{bm:ge,m:me,parent:$e}=p,Be=cs(g);if(gn(p,!1),ge&&Ds(ge),!Be&&(re=fe&&fe.onVnodeBeforeMount)&&yt(re,$e,g),gn(p,!0),de&&pe){const Fe=()=>{p.subTree=Zr(p),pe(de,p.subTree,p,L,null)};Be?g.type.__asyncLoader().then(()=>!p.isUnmounted&&Fe()):Fe()}else{const Fe=p.subTree=Zr(p);y(null,Fe,S,U,p,L,J),g.el=Fe.el}if(me&&Xe(me,L),!Be&&(re=fe&&fe.onVnodeMounted)){const Fe=g;Xe(()=>yt(re,$e,Fe),L)}(g.shapeFlag&256||$e&&cs($e.vnode)&&$e.vnode.shapeFlag&256)&&p.a&&Xe(p.a,L),p.isMounted=!0,g=S=U=null}},Y=p.effect=new ti(G,ot,()=>ui(K),p.scope),K=p.update=()=>{Y.dirty&&Y.run()};K.id=p.uid,gn(p,!0),K()},A=(p,g,S)=>{g.component=p;const U=p.vnode.props;p.vnode=g,p.next=null,Od(p,g.props,U,S),Vd(p,g.children,S),$n(),ea(p),Cn()},T=(p,g,S,U,L,J,ne,G,Y=!1)=>{const K=p&&p.children,re=p?p.shapeFlag:0,de=g.children,{patchFlag:fe,shapeFlag:ge}=g;if(fe>0){if(fe&128){X(K,de,S,U,L,J,ne,G,Y);return}else if(fe&256){q(K,de,S,U,L,J,ne,G,Y);return}}ge&8?(re&16&&z(K,L,J),de!==K&&u(S,de)):re&16?ge&16?X(K,de,S,U,L,J,ne,G,Y):z(K,L,J,!0):(re&8&&u(S,""),ge&16&&V(de,S,U,L,J,ne,G,Y))},q=(p,g,S,U,L,J,ne,G,Y)=>{p=p||On,g=g||On;const K=p.length,re=g.length,de=Math.min(K,re);let fe;for(fe=0;fe<de;fe++){const ge=g[fe]=Y?Xt(g[fe]):mt(g[fe]);y(p[fe],ge,S,null,L,J,ne,G,Y)}K>re?z(p,L,J,!0,!1,de):V(g,S,U,L,J,ne,G,Y,de)},X=(p,g,S,U,L,J,ne,G,Y)=>{let K=0;const re=g.length;let de=p.length-1,fe=re-1;for(;K<=de&&K<=fe;){const ge=p[K],me=g[K]=Y?Xt(g[K]):mt(g[K]);if(ss(ge,me))y(ge,me,S,null,L,J,ne,G,Y);else break;K++}for(;K<=de&&K<=fe;){const ge=p[de],me=g[fe]=Y?Xt(g[fe]):mt(g[fe]);if(ss(ge,me))y(ge,me,S,null,L,J,ne,G,Y);else break;de--,fe--}if(K>de){if(K<=fe){const ge=fe+1,me=ge<re?g[ge].el:U;for(;K<=fe;)y(null,g[K]=Y?Xt(g[K]):mt(g[K]),S,me,L,J,ne,G,Y),K++}}else if(K>fe)for(;K<=de;)ee(p[K],L,J,!0),K++;else{const ge=K,me=K,$e=new Map;for(K=me;K<=fe;K++){const st=g[K]=Y?Xt(g[K]):mt(g[K]);st.key!=null&&$e.set(st.key,K)}let Be,Fe=0;const ut=fe-me+1;let Tn=!1,ji=0;const ns=new Array(ut);for(K=0;K<ut;K++)ns[K]=0;for(K=ge;K<=de;K++){const st=p[K];if(Fe>=ut){ee(st,L,J,!0);continue}let gt;if(st.key!=null)gt=$e.get(st.key);else for(Be=me;Be<=fe;Be++)if(ns[Be-me]===0&&ss(st,g[Be])){gt=Be;break}gt===void 0?ee(st,L,J,!0):(ns[gt-me]=K+1,gt>=ji?ji=gt:Tn=!0,y(st,g[gt],S,null,L,J,ne,G,Y),Fe++)}const Di=Tn?qd(ns):On;for(Be=Di.length-1,K=ut-1;K>=0;K--){const st=me+K,gt=g[st],qi=st+1<re?g[st+1].el:U;ns[K]===0?y(null,gt,S,qi,L,J,ne,G,Y):Tn&&(Be<0||K!==Di[Be]?ie(gt,S,qi,2):Be--)}}},ie=(p,g,S,U,L=null)=>{const{el:J,type:ne,transition:G,children:Y,shapeFlag:K}=p;if(K&6){ie(p.component.subTree,g,S,U);return}if(K&128){p.suspense.move(g,S,U);return}if(K&64){ne.move(p,g,S,I);return}if(ne===Re){s(J,g,S);for(let de=0;de<Y.length;de++)ie(Y[de],g,S,U);s(p.anchor,g,S);return}if(ne===zs){E(p,g,S);return}if(U!==2&&K&1&&G)if(U===0)G.beforeEnter(J),s(J,g,S),Xe(()=>G.enter(J),L);else{const{leave:de,delayLeave:fe,afterLeave:ge}=G,me=()=>s(J,g,S),$e=()=>{de(J,()=>{me(),ge&&ge()})};fe?fe(J,me,$e):$e()}else s(J,g,S)},ee=(p,g,S,U=!1,L=!1)=>{const{type:J,props:ne,ref:G,children:Y,dynamicChildren:K,shapeFlag:re,patchFlag:de,dirs:fe}=p;if(G!=null&&$o(G,null,S,p,!0),re&256){g.ctx.deactivate(p);return}const ge=re&1&&fe,me=!cs(p);let $e;if(me&&($e=ne&&ne.onVnodeBeforeUnmount)&&yt($e,g,p),re&6)ae(p.component,S,U);else{if(re&128){p.suspense.unmount(S,U);return}ge&&pn(p,null,g,"beforeUnmount"),re&64?p.type.remove(p,g,S,L,I,U):K&&(J!==Re||de>0&&de&64)?z(K,g,S,!1,!0):(J===Re&&de&384||!L&&re&16)&&z(Y,g,S),U&&ye(p)}(me&&($e=ne&&ne.onVnodeUnmounted)||ge)&&Xe(()=>{$e&&yt($e,g,p),ge&&pn(p,null,g,"unmounted")},S)},ye=p=>{const{type:g,el:S,anchor:U,transition:L}=p;if(g===Re){oe(S,U);return}if(g===zs){$(p);return}const J=()=>{r(S),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(p.shapeFlag&1&&L&&!L.persisted){const{leave:ne,delayLeave:G}=L,Y=()=>ne(S,J);G?G(p.el,J,Y):Y()}else J()},oe=(p,g)=>{let S;for(;p!==g;)S=d(p),r(p),p=S;r(g)},ae=(p,g,S)=>{const{bum:U,scope:L,update:J,subTree:ne,um:G}=p;U&&Ds(U),L.stop(),J&&(J.active=!1,ee(ne,p,g,S)),G&&Xe(G,g),Xe(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},z=(p,g,S,U=!1,L=!1,J=0)=>{for(let ne=J;ne<p.length;ne++)ee(p[ne],g,S,U,L)},x=p=>p.shapeFlag&6?x(p.component.subTree):p.shapeFlag&128?p.suspense.next():d(p.anchor||p.el);let H=!1;const B=(p,g,S)=>{p==null?g._vnode&&ee(g._vnode,null,null,!0):y(g._vnode||null,p,g,null,null,null,S),H||(H=!0,ea(),ql(),H=!1),g._vnode=p},I={p:y,um:ee,m:ie,r:ye,mt:D,mc:V,pc:T,pbc:Z,n:x,o:e};let se,pe;return t&&([se,pe]=t(I)),{render:B,hydrate:se,createApp:Nd(B,se)}}function Yr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function gn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Dd(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ac(e,t,n=!1){const s=e.children,r=t.children;if(he(s)&&he(r))for(let o=0;o<s.length;o++){const i=s[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=Xt(r[o]),a.el=i.el),n||ac(i,a)),a.type===br&&(a.el=i.el)}}function qd(e){const t=e.slice(),n=[0];let s,r,o,i,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(r=n[n.length-1],e[r]<c){t[s]=r,n.push(s);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,e[n[a]]<c?o=a+1:i=a;c<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}function lc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:lc(t)}const Kd=e=>e.__isTeleport,Re=Symbol.for("v-fgt"),br=Symbol.for("v-txt"),un=Symbol.for("v-cmt"),zs=Symbol.for("v-stc"),fs=[];let ft=null;function C(e=!1){fs.push(ft=e?null:[])}function zd(){fs.pop(),ft=fs[fs.length-1]||null}let ms=1;function fa(e){ms+=e}function cc(e){return e.dynamicChildren=ms>0?ft||On:null,zd(),ms>0&&ft&&ft.push(e),e}function O(e,t,n,s,r,o){return cc(_(e,t,n,s,r,o,!0))}function Ne(e,t,n,s,r){return cc(_e(e,t,n,s,r,!0))}function er(e){return e?e.__v_isVNode===!0:!1}function ss(e,t){return e.type===t.type&&e.key===t.key}const Er="__vInternal",uc=({key:e})=>e??null,Ws=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?He(e)||Ve(e)||ve(e)?{i:Me,r:e,k:t,f:!!n}:e:null);function _(e,t=null,n=null,s=0,r=null,o=e===Re?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&uc(t),ref:t&&Ws(t),scopeId:wr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Me};return a?(yi(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=He(n)?8:16),ms>0&&!i&&ft&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&ft.push(l),l}const _e=Wd;function Wd(e,t=null,n=null,s=0,r=null,o=!1){if((!e||e===cd)&&(e=un),er(e)){const a=Kn(e,t,!0);return n&&yi(a,n),ms>0&&!o&&ft&&(a.shapeFlag&6?ft[ft.indexOf(e)]=a:ft.push(a)),a.patchFlag|=-2,a}if(rh(e)&&(e=e.__vccOpts),t){t=Gd(t);let{class:a,style:l}=t;a&&!He(a)&&(t.class=Pe(a)),Ce(l)&&(Ol(l)&&!he(l)&&(l=We({},l)),t.style=ei(l))}const i=He(e)?1:fd(e)?128:Kd(e)?64:Ce(e)?4:ve(e)?2:0;return _(e,t,n,s,r,i,o,!0)}function Gd(e){return e?Ol(e)||Er in e?We({},e):e:null}function Kn(e,t,n=!1){const{props:s,ref:r,patchFlag:o,children:i}=e,a=t?Zd(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&uc(a),ref:t&&t.ref?n&&r?he(r)?r.concat(Ws(t)):[r,Ws(t)]:Ws(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Re?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Kn(e.ssContent),ssFallback:e.ssFallback&&Kn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ke(e=" ",t=0){return _e(br,null,e,t)}function gi(e,t){const n=_e(zs,null,e);return n.staticCount=t,n}function ce(e="",t=!1){return t?(C(),Ne(un,null,e)):_e(un,null,e)}function mt(e){return e==null||typeof e=="boolean"?_e(un):he(e)?_e(Re,null,e.slice()):typeof e=="object"?Xt(e):_e(br,null,String(e))}function Xt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Kn(e)}function yi(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(he(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),yi(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(Er in t)?t._ctx=Me:r===3&&Me&&(Me.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ve(t)?(t={default:t,_ctx:Me},n=32):(t=String(t),s&64?(n=16,t=[ke(t)]):n=8);e.children=t,e.shapeFlag|=n}function Zd(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=Pe([t.class,s.class]));else if(r==="style")t.style=ei([t.style,s.style]);else if(ur(r)){const o=t[r],i=s[r];i&&o!==i&&!(he(o)&&o.includes(i))&&(t[r]=o?[].concat(o,i):i)}else r!==""&&(t[r]=s[r])}return t}function yt(e,t,n,s=null){dt(e,t,7,[n,s])}const Jd=tc();let Yd=0;function Qd(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||Jd,o={uid:Yd++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new bl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sc(s,r),emitsOptions:zl(s,r),emit:null,emitted:null,propsDefaults:Ae,inheritAttrs:s.inheritAttrs,ctx:Ae,data:Ae,props:Ae,attrs:Ae,slots:Ae,refs:Ae,setupState:Ae,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=rd.bind(null,o),e.ce&&e.ce(o),o}let ze=null,tr,Co;{const e=vl(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};tr=t("__VUE_INSTANCE_SETTERS__",n=>ze=n),Co=t("__VUE_SSR_SETTERS__",n=>xr=n)}const $s=e=>{const t=ze;return tr(e),e.scope.on(),()=>{e.scope.off(),tr(t)}},da=()=>{ze&&ze.scope.off(),tr(null)};function fc(e){return e.vnode.shapeFlag&4}let xr=!1;function Xd(e,t=!1){t&&Co(t);const{props:n,children:s}=e.vnode,r=fc(e);Ud(e,n,r,t),Hd(e,s);const o=r?eh(e,t):void 0;return t&&Co(!1),o}function eh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=yr(new Proxy(e.ctx,$d));const{setup:s}=n;if(s){const r=e.setupContext=s.length>1?nh(e):null,o=$s(e);$n();const i=on(s,e,0,[e.props,r]);if(Cn(),o(),pl(i)){if(i.then(da,da),t)return i.then(a=>{ha(e,a,t)}).catch(a=>{vr(a,e,0)});e.asyncDep=i}else ha(e,i,t)}else dc(e,t)}function ha(e,t,n){ve(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ce(t)&&(e.setupState=Fl(t)),dc(e,n)}let pa;function dc(e,t,n){const s=e.type;if(!e.render){if(!t&&pa&&!s.render){const r=s.template||hi(e).template;if(r){const{isCustomElement:o,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:l}=s,c=We(We({isCustomElement:o,delimiters:a},i),l);s.render=pa(r,c)}}e.render=s.render||ot}{const r=$s(e);$n();try{Cd(e)}finally{Cn(),r()}}}function th(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return nt(e,"get","$attrs"),t[n]}}))}function nh(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return th(e)},slots:e.slots,emit:e.emit,expose:t}}function Rr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Fl(yr(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in us)return us[n](e)},has(t,n){return n in t||n in us}}))}function sh(e,t=!0){return ve(e)?e.displayName||e.name:e.name||t&&e.__name}function rh(e){return ve(e)&&"__vccOpts"in e}const Te=(e,t)=>zf(e,t,xr);function hc(e,t,n){const s=arguments.length;return s===2?Ce(t)&&!he(t)?er(t)?_e(e,null,[t]):_e(e,t):_e(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&er(n)&&(n=[n]),_e(e,t,n))}const oh="3.4.19";/**
* @vue/runtime-dom v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ih="http://www.w3.org/2000/svg",ah="http://www.w3.org/1998/Math/MathML",en=typeof document<"u"?document:null,ga=en&&en.createElement("template"),lh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?en.createElementNS(ih,e):t==="mathml"?en.createElementNS(ah,e):en.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>en.createTextNode(e),createComment:e=>en.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>en.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,o){const i=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{ga.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const a=ga.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},ch=Symbol("_vtc");function uh(e,t,n){const s=e[ch];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ya=Symbol("_vod"),fh=Symbol(""),dh=/(^|;)\s*display\s*:/;function hh(e,t,n){const s=e.style,r=He(n),o=s.display;let i=!1;if(n&&!r){if(t&&!He(t))for(const a in t)n[a]==null&&Io(s,a,"");for(const a in n)a==="display"&&(i=!0),Io(s,a,n[a])}else if(r){if(t!==n){const a=s[fh];a&&(n+=";"+a),s.cssText=n,i=dh.test(n)}}else t&&e.removeAttribute("style");ya in e&&(e[ya]=i?s.display:"",s.display=o)}const va=/\s*!important$/;function Io(e,t,n){if(he(n))n.forEach(s=>Io(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=ph(e,t);va.test(n)?e.setProperty(Qn(s),n.replace(va,""),"important"):e[s]=n}}const _a=["Webkit","Moz","ms"],Qr={};function ph(e,t){const n=Qr[t];if(n)return n;let s=Rt(t);if(s!=="filter"&&s in e)return Qr[t]=s;s=hr(s);for(let r=0;r<_a.length;r++){const o=_a[r]+s;if(o in e)return Qr[t]=o}return t}const wa="http://www.w3.org/1999/xlink";function gh(e,t,n,s,r){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(wa,t.slice(6,t.length)):e.setAttributeNS(wa,t,n);else{const o=Ef(t);n==null||o&&!_l(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function yh(e,t,n,s,r,o,i){if(t==="innerHTML"||t==="textContent"){s&&i(s,r,o),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=_l(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function wn(e,t,n,s){e.addEventListener(t,n,s)}function vh(e,t,n,s){e.removeEventListener(t,n,s)}const ma=Symbol("_vei");function _h(e,t,n,s,r=null){const o=e[ma]||(e[ma]={}),i=o[t];if(s&&i)i.value=s;else{const[a,l]=wh(t);if(s){const c=o[t]=Eh(s,r);wn(e,a,c,l)}else i&&(vh(e,a,i,l),o[t]=void 0)}}const ba=/(?:Once|Passive|Capture)$/;function wh(e){let t;if(ba.test(e)){t={};let s;for(;s=e.match(ba);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Qn(e.slice(2)),t]}let Xr=0;const mh=Promise.resolve(),bh=()=>Xr||(mh.then(()=>Xr=0),Xr=Date.now());function Eh(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;dt(xh(s,n.value),t,5,[s])};return n.value=e,n.attached=bh(),n}function xh(e,t){if(he(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const Ea=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Rh=(e,t,n,s,r,o,i,a,l)=>{const c=r==="svg";t==="class"?uh(e,s,c):t==="style"?hh(e,n,s):ur(t)?Yo(t)||_h(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Sh(e,t,s,c))?yh(e,t,s,o,i,a,l):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),gh(e,t,s,c))};function Sh(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ea(t)&&ve(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Ea(t)&&He(n)?!1:t in e}const nr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return he(t)?n=>Ds(t,n):t};function kh(e){e.target.composing=!0}function xa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const jn=Symbol("_assign"),bs={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[jn]=nr(r);const o=s||r.props&&r.props.type==="number";wn(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=_o(a)),e[jn](a)}),n&&wn(e,"change",()=>{e.value=e.value.trim()}),t||(wn(e,"compositionstart",kh),wn(e,"compositionend",xa),wn(e,"change",xa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:r}},o){if(e[jn]=nr(o),e.composing)return;const i=r||e.type==="number"?_o(e.value):e.value,a=t??"";i!==a&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===a)||(e.value=a))}},$h={deep:!0,created(e,t,n){e[jn]=nr(n),wn(e,"change",()=>{const s=e._modelValue,r=Ch(e),o=e.checked,i=e[jn];if(he(s)){const a=wl(s,r),l=a!==-1;if(o&&!l)i(s.concat(r));else if(!o&&l){const c=[...s];c.splice(a,1),i(c)}}else if(fr(s)){const a=new Set(s);o?a.add(r):a.delete(r),i(a)}else i(pc(e,o))})},mounted:Ra,beforeUpdate(e,t,n){e[jn]=nr(n),Ra(e,t,n)}};function Ra(e,{value:t,oldValue:n},s){e._modelValue=t,he(t)?e.checked=wl(t,s.props.value)>-1:fr(t)?e.checked=t.has(s.props.value):t!==n&&(e.checked=pr(t,pc(e,!0)))}function Ch(e){return"_value"in e?e._value:e.value}function pc(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Ih=["ctrl","shift","alt","meta"],Ah={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ih.some(n=>e[`${n}Key`]&&!t.includes(n))},Ao=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(r,...o)=>{for(let i=0;i<t.length;i++){const a=Ah[t[i]];if(a&&a(r,t))return}return e(r,...o)})},Ph=We({patchProp:Rh},lh);let Sa;function Th(){return Sa||(Sa=Fd(Ph))}const Bh=(...e)=>{const t=Th().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=Lh(s);if(!r)return;const o=t._component;!ve(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const i=n(r,!1,Nh(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function Nh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Lh(e){return He(e)?document.querySelector(e):e}var Uh=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let gc;const Sr=e=>gc=e,yc=Symbol();function Po(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ds;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ds||(ds={}));function Oh(){const e=El(!0),t=e.run(()=>j({}));let n=[],s=[];const r=yr({install(o){Sr(r),r._a=o,o.provide(yc,r),o.config.globalProperties.$pinia=r,s.forEach(i=>n.push(i)),s=[]},use(o){return!this._a&&!Uh?s.push(o):n.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const vc=()=>{};function ka(e,t,n,s=vc){e.push(t);const r=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),s())};return!n&&xl()&&Sf(r),r}function Bn(e,...t){e.slice().forEach(n=>{n(...t)})}const Mh=e=>e();function To(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,s)=>e.set(s,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],r=e[n];Po(r)&&Po(s)&&e.hasOwnProperty(n)&&!Ve(s)&&!rn(s)?e[n]=To(r,s):e[n]=s}return e}const Hh=Symbol();function Vh(e){return!Po(e)||!e.hasOwnProperty(Hh)}const{assign:Yt}=Object;function Fh(e){return!!(Ve(e)&&e.effect)}function jh(e,t,n,s){const{state:r,actions:o,getters:i}=t,a=n.state.value[e];let l;function c(){a||(n.state.value[e]=r?r():{});const u=Jf(n.state.value[e]);return Yt(u,o,Object.keys(i||{}).reduce((f,d)=>(f[d]=yr(Te(()=>{Sr(n);const h=n._s.get(e);return i[d].call(h,h)})),f),{}))}return l=_c(e,c,t,n,s,!0),l}function _c(e,t,n={},s,r,o){let i;const a=Yt({actions:{}},n),l={deep:!0};let c,u,f=[],d=[],h;const w=s.state.value[e];!o&&!w&&(s.state.value[e]={}),j({});let y;function v(V){let W;c=u=!1,typeof V=="function"?(V(s.state.value[e]),W={type:ds.patchFunction,storeId:e,events:h}):(To(s.state.value[e],V),W={type:ds.patchObject,payload:V,storeId:e,events:h});const Z=y=Symbol();ci().then(()=>{y===Z&&(c=!0)}),u=!0,Bn(f,W,s.state.value[e])}const m=o?function(){const{state:W}=n,Z=W?W():{};this.$patch(te=>{Yt(te,Z)})}:vc;function b(){i.stop(),f=[],d=[],s._s.delete(e)}function E(V,W){return function(){Sr(s);const Z=Array.from(arguments),te=[],M=[];function Q(P){te.push(P)}function D(P){M.push(P)}Bn(d,{args:Z,name:V,store:N,after:Q,onError:D});let R;try{R=W.apply(this&&this.$id===e?this:N,Z)}catch(P){throw Bn(M,P),P}return R instanceof Promise?R.then(P=>(Bn(te,P),P)).catch(P=>(Bn(M,P),Promise.reject(P))):(Bn(te,R),R)}}const $={_p:s,$id:e,$onAction:ka.bind(null,d),$patch:v,$reset:m,$subscribe(V,W={}){const Z=ka(f,V,W.detached,()=>te()),te=i.run(()=>Mt(()=>s.state.value[e],M=>{(W.flush==="sync"?u:c)&&V({storeId:e,type:ds.direct,events:h},M)},Yt({},l,W)));return Z},$dispose:b},N=Xn($);s._s.set(e,N);const F=(s._a&&s._a.runWithContext||Mh)(()=>s._e.run(()=>(i=El()).run(t)));for(const V in F){const W=F[V];if(Ve(W)&&!Fh(W)||rn(W))o||(w&&Vh(W)&&(Ve(W)?W.value=w[V]:To(W,w[V])),s.state.value[e][V]=W);else if(typeof W=="function"){const Z=E(V,W);F[V]=Z,a.actions[V]=W}}return Yt(N,F),Yt(Ee(N),F),Object.defineProperty(N,"$state",{get:()=>s.state.value[e],set:V=>{v(W=>{Yt(W,V)})}}),s._p.forEach(V=>{Yt(N,i.run(()=>V({store:N,app:s._a,pinia:s,options:a})))}),w&&o&&n.hydrate&&n.hydrate(N.$state,w),c=!0,u=!0,N}function dn(e,t,n){let s,r;const o=typeof t=="function";typeof e=="string"?(s=e,r=o?n:t):(r=e,s=e.id);function i(a,l){const c=Ld();return a=a||(c?lt(yc,null):null),a&&Sr(a),a=gc,a._s.has(s)||(o?_c(s,t,r,a):jh(s,r,a)),a._s.get(s)}return i.$id=s,i}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Nn=typeof window<"u";function Dh(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Se=Object.assign;function eo(e,t){const n={};for(const s in t){const r=t[s];n[s]=ht(r)?r.map(e):e(r)}return n}const hs=()=>{},ht=Array.isArray,qh=/\/$/,Kh=e=>e.replace(qh,"");function to(e,t,n="/"){let s,r={},o="",i="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),r=e(o)),a>-1&&(s=s||t.slice(0,a),i=t.slice(a,t.length)),s=Zh(s??t,n),{fullPath:s+(o&&"?")+o+i,path:s,query:r,hash:i}}function zh(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function $a(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Wh(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&zn(t.matched[s],n.matched[r])&&wc(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function zn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function wc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Gh(e[n],t[n]))return!1;return!0}function Gh(e,t){return ht(e)?Ca(e,t):ht(t)?Ca(t,e):e===t}function Ca(e,t){return ht(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Zh(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let o=n.length-1,i,a;for(i=0;i<s.length;i++)if(a=s[i],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var Es;(function(e){e.pop="pop",e.push="push"})(Es||(Es={}));var ps;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ps||(ps={}));function Jh(e){if(!e)if(Nn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Kh(e)}const Yh=/^[^#]+#/;function Qh(e,t){return e.replace(Yh,"#")+t}function Xh(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const kr=()=>({left:window.pageXOffset,top:window.pageYOffset});function ep(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=Xh(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Ia(e,t){return(history.state?history.state.position-t:-1)+e}const Bo=new Map;function tp(e,t){Bo.set(e,t)}function np(e){const t=Bo.get(e);return Bo.delete(e),t}let sp=()=>location.protocol+"//"+location.host;function mc(e,t){const{pathname:n,search:s,hash:r}=t,o=e.indexOf("#");if(o>-1){let a=r.includes(e.slice(o))?e.slice(o).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),$a(l,"")}return $a(n,e)+s+r}function rp(e,t,n,s){let r=[],o=[],i=null;const a=({state:d})=>{const h=mc(e,location),w=n.value,y=t.value;let v=0;if(d){if(n.value=h,t.value=d,i&&i===w){i=null;return}v=y?d.position-y.position:0}else s(h);r.forEach(m=>{m(n.value,w,{delta:v,type:Es.pop,direction:v?v>0?ps.forward:ps.back:ps.unknown})})};function l(){i=n.value}function c(d){r.push(d);const h=()=>{const w=r.indexOf(d);w>-1&&r.splice(w,1)};return o.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(Se({},d.state,{scroll:kr()}),"")}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function Aa(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?kr():null}}function op(e){const{history:t,location:n}=window,s={value:mc(e,n)},r={value:t.state};r.value||o(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:sp()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),r.value=c}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function i(l,c){const u=Se({},t.state,Aa(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});o(l,u,!0),s.value=l}function a(l,c){const u=Se({},r.value,t.state,{forward:l,scroll:kr()});o(u.current,u,!0);const f=Se({},Aa(s.value,l,null),{position:u.position+1},c);o(l,f,!1),s.value=l}return{location:s,state:r,push:a,replace:i}}function ip(e){e=Jh(e);const t=op(e),n=rp(e,t.state,t.location,t.replace);function s(o,i=!0){i||n.pauseListeners(),history.go(o)}const r=Se({location:"",base:e,go:s,createHref:Qh.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function ap(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),ip(e)}function lp(e){return typeof e=="string"||e&&typeof e=="object"}function bc(e){return typeof e=="string"||typeof e=="symbol"}const zt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ec=Symbol("");var Pa;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Pa||(Pa={}));function Wn(e,t){return Se(new Error,{type:e,[Ec]:!0},t)}function Pt(e,t){return e instanceof Error&&Ec in e&&(t==null||!!(e.type&t))}const Ta="[^/]+?",cp={sensitive:!1,strict:!1,start:!0,end:!0},up=/[.+*?^${}()[\]/\\]/g;function fp(e,t){const n=Se({},cp,t),s=[];let r=n.start?"^":"";const o=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const d=c[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(r+="/"),r+=d.value.replace(up,"\\$&"),h+=40;else if(d.type===1){const{value:w,repeatable:y,optional:v,regexp:m}=d;o.push({name:w,repeatable:y,optional:v});const b=m||Ta;if(b!==Ta){h+=10;try{new RegExp(`(${b})`)}catch($){throw new Error(`Invalid custom RegExp for param "${w}" (${b}): `+$.message)}}let E=y?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;f||(E=v&&c.length<2?`(?:/${E})`:"/"+E),v&&(E+="?"),r+=E,h+=20,v&&(h+=-8),y&&(h+=-20),b===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(i),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",w=o[d-1];f[w.name]=h&&w.repeatable?h.split("/"):h}return f}function l(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:w,repeatable:y,optional:v}=h,m=w in c?c[w]:"";if(ht(m)&&!y)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const b=ht(m)?m.join("/"):m;if(!b)if(v)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${w}"`);u+=b}}return u||"/"}return{re:i,score:s,keys:o,parse:a,stringify:l}}function dp(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function hp(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const o=dp(s[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-s.length)===1){if(Ba(s))return 1;if(Ba(r))return-1}return r.length-s.length}function Ba(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const pp={type:0,value:""},gp=/[a-zA-Z0-9_]/;function yp(e){if(!e)return[[]];if(e==="/")return[[pp]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,s=n;const r=[];let o;function i(){o&&r.push(o),o=[]}let a=0,l,c="",u="";function f(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),i()):l===":"?(f(),n=1):d();break;case 4:d(),n=s;break;case 1:l==="("?n=2:gp.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),i(),r}function vp(e,t,n){const s=fp(yp(e.path),n),r=Se(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function _p(e,t){const n=[],s=new Map;t=Ua({strict:!1,end:!0,sensitive:!1},t);function r(u){return s.get(u)}function o(u,f,d){const h=!d,w=wp(u);w.aliasOf=d&&d.record;const y=Ua(t,u),v=[w];if("alias"in u){const E=typeof u.alias=="string"?[u.alias]:u.alias;for(const $ of E)v.push(Se({},w,{components:d?d.record.components:w.components,path:$,aliasOf:d?d.record:w}))}let m,b;for(const E of v){const{path:$}=E;if(f&&$[0]!=="/"){const N=f.record.path,k=N[N.length-1]==="/"?"":"/";E.path=f.record.path+($&&k+$)}if(m=vp(E,f,y),d?d.alias.push(m):(b=b||m,b!==m&&b.alias.push(m),h&&u.name&&!La(m)&&i(u.name)),w.children){const N=w.children;for(let k=0;k<N.length;k++)o(N[k],m,d&&d.children[k])}d=d||m,(m.record.components&&Object.keys(m.record.components).length||m.record.name||m.record.redirect)&&l(m)}return b?()=>{i(b)}:hs}function i(u){if(bc(u)){const f=s.get(u);f&&(s.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&s.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function a(){return n}function l(u){let f=0;for(;f<n.length&&hp(u,n[f])>=0&&(u.record.path!==n[f].record.path||!xc(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!La(u)&&s.set(u.record.name,u)}function c(u,f){let d,h={},w,y;if("name"in u&&u.name){if(d=s.get(u.name),!d)throw Wn(1,{location:u});y=d.record.name,h=Se(Na(f.params,d.keys.filter(b=>!b.optional).map(b=>b.name)),u.params&&Na(u.params,d.keys.map(b=>b.name))),w=d.stringify(h)}else if("path"in u)w=u.path,d=n.find(b=>b.re.test(w)),d&&(h=d.parse(w),y=d.record.name);else{if(d=f.name?s.get(f.name):n.find(b=>b.re.test(f.path)),!d)throw Wn(1,{location:u,currentLocation:f});y=d.record.name,h=Se({},f.params,u.params),w=d.stringify(h)}const v=[];let m=d;for(;m;)v.unshift(m.record),m=m.parent;return{name:y,path:w,params:h,matched:v,meta:bp(v)}}return e.forEach(u=>o(u)),{addRoute:o,resolve:c,removeRoute:i,getRoutes:a,getRecordMatcher:r}}function Na(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function wp(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:mp(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function mp(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function La(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function bp(e){return e.reduce((t,n)=>Se(t,n.meta),{})}function Ua(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function xc(e,t){return t.children.some(n=>n===e||xc(e,n))}const Rc=/#/g,Ep=/&/g,xp=/\//g,Rp=/=/g,Sp=/\?/g,Sc=/\+/g,kp=/%5B/g,$p=/%5D/g,kc=/%5E/g,Cp=/%60/g,$c=/%7B/g,Ip=/%7C/g,Cc=/%7D/g,Ap=/%20/g;function vi(e){return encodeURI(""+e).replace(Ip,"|").replace(kp,"[").replace($p,"]")}function Pp(e){return vi(e).replace($c,"{").replace(Cc,"}").replace(kc,"^")}function No(e){return vi(e).replace(Sc,"%2B").replace(Ap,"+").replace(Rc,"%23").replace(Ep,"%26").replace(Cp,"`").replace($c,"{").replace(Cc,"}").replace(kc,"^")}function Tp(e){return No(e).replace(Rp,"%3D")}function Bp(e){return vi(e).replace(Rc,"%23").replace(Sp,"%3F")}function Np(e){return e==null?"":Bp(e).replace(xp,"%2F")}function sr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Lp(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const o=s[r].replace(Sc," "),i=o.indexOf("="),a=sr(i<0?o:o.slice(0,i)),l=i<0?null:sr(o.slice(i+1));if(a in t){let c=t[a];ht(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Oa(e){let t="";for(let n in e){const s=e[n];if(n=Tp(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(ht(s)?s.map(o=>o&&No(o)):[s&&No(s)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function Up(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=ht(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const Op=Symbol(""),Ma=Symbol(""),$r=Symbol(""),_i=Symbol(""),Lo=Symbol("");function rs(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function tn(e,t,n,s,r){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((i,a)=>{const l=f=>{f===!1?a(Wn(4,{from:n,to:t})):f instanceof Error?a(f):lp(f)?a(Wn(2,{from:t,to:f})):(o&&s.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),i())},c=e.call(s&&s.instances[r],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(f=>a(f))})}function no(e,t,n,s){const r=[];for(const o of e)for(const i in o.components){let a=o.components[i];if(!(t!=="beforeRouteEnter"&&!o.instances[i]))if(Mp(a)){const c=(a.__vccOpts||a)[t];c&&r.push(tn(c,n,s,o,i))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${o.path}"`));const u=Dh(c)?c.default:c;o.components[i]=u;const d=(u.__vccOpts||u)[t];return d&&tn(d,n,s,o,i)()}))}}return r}function Mp(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ha(e){const t=lt($r),n=lt(_i),s=Te(()=>t.resolve(ue(e.to))),r=Te(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(zn.bind(null,u));if(d>-1)return d;const h=Va(l[c-2]);return c>1&&Va(u)===h&&f[f.length-1].path!==h?f.findIndex(zn.bind(null,l[c-2])):d}),o=Te(()=>r.value>-1&&jp(n.params,s.value.params)),i=Te(()=>r.value>-1&&r.value===n.matched.length-1&&wc(n.params,s.value.params));function a(l={}){return Fp(l)?t[ue(e.replace)?"replace":"push"](ue(e.to)).catch(hs):Promise.resolve()}return{route:s,href:Te(()=>s.value.href),isActive:o,isExactActive:i,navigate:a}}const Hp=Oe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ha,setup(e,{slots:t}){const n=Xn(Ha(e)),{options:s}=lt($r),r=Te(()=>({[Fa(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Fa(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:hc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),Vp=Hp;function Fp(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function jp(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!ht(r)||r.length!==s.length||s.some((o,i)=>o!==r[i]))return!1}return!0}function Va(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Fa=(e,t,n)=>e??t??n,Dp=Oe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=lt(Lo),r=Te(()=>e.route||s.value),o=lt(Ma,0),i=Te(()=>{let c=ue(o);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=Te(()=>r.value.matched[i.value]);Ks(Ma,Te(()=>i.value+1)),Ks(Op,a),Ks(Lo,r);const l=j();return Mt(()=>[l.value,a.value,e.name],([c,u,f],[d,h,w])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!zn(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=r.value,u=e.name,f=a.value,d=f&&f.components[u];if(!d)return ja(n.default,{Component:d,route:c});const h=f.props[u],w=h?h===!0?c.params:typeof h=="function"?h(c):h:null,v=hc(d,Se({},w,t,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return ja(n.default,{Component:v,route:c})||v}}});function ja(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const qp=Dp;function Kp(e){const t=_p(e.routes,e),n=e.parseQuery||Lp,s=e.stringifyQuery||Oa,r=e.history,o=rs(),i=rs(),a=rs(),l=Wf(zt);let c=zt;Nn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=eo.bind(null,x=>""+x),f=eo.bind(null,Np),d=eo.bind(null,sr);function h(x,H){let B,I;return bc(x)?(B=t.getRecordMatcher(x),I=H):I=x,t.addRoute(I,B)}function w(x){const H=t.getRecordMatcher(x);H&&t.removeRoute(H)}function y(){return t.getRoutes().map(x=>x.record)}function v(x){return!!t.getRecordMatcher(x)}function m(x,H){if(H=Se({},H||l.value),typeof x=="string"){const g=to(n,x,H.path),S=t.resolve({path:g.path},H),U=r.createHref(g.fullPath);return Se(g,S,{params:d(S.params),hash:sr(g.hash),redirectedFrom:void 0,href:U})}let B;if("path"in x)B=Se({},x,{path:to(n,x.path,H.path).path});else{const g=Se({},x.params);for(const S in g)g[S]==null&&delete g[S];B=Se({},x,{params:f(g)}),H.params=f(H.params)}const I=t.resolve(B,H),se=x.hash||"";I.params=u(d(I.params));const pe=zh(s,Se({},x,{hash:Pp(se),path:I.path})),p=r.createHref(pe);return Se({fullPath:pe,hash:se,query:s===Oa?Up(x.query):x.query||{}},I,{redirectedFrom:void 0,href:p})}function b(x){return typeof x=="string"?to(n,x,l.value.path):Se({},x)}function E(x,H){if(c!==x)return Wn(8,{from:H,to:x})}function $(x){return F(x)}function N(x){return $(Se(b(x),{replace:!0}))}function k(x){const H=x.matched[x.matched.length-1];if(H&&H.redirect){const{redirect:B}=H;let I=typeof B=="function"?B(x):B;return typeof I=="string"&&(I=I.includes("?")||I.includes("#")?I=b(I):{path:I},I.params={}),Se({query:x.query,hash:x.hash,params:"path"in I?{}:x.params},I)}}function F(x,H){const B=c=m(x),I=l.value,se=x.state,pe=x.force,p=x.replace===!0,g=k(B);if(g)return F(Se(b(g),{state:typeof g=="object"?Se({},se,g.state):se,force:pe,replace:p}),H||B);const S=B;S.redirectedFrom=H;let U;return!pe&&Wh(s,I,B)&&(U=Wn(16,{to:S,from:I}),ie(I,I,!0,!1)),(U?Promise.resolve(U):Z(S,I)).catch(L=>Pt(L)?Pt(L,2)?L:X(L):T(L,S,I)).then(L=>{if(L){if(Pt(L,2))return F(Se({replace:p},b(L.to),{state:typeof L.to=="object"?Se({},se,L.to.state):se,force:pe}),H||S)}else L=M(S,I,!0,p,se);return te(S,I,L),L})}function V(x,H){const B=E(x,H);return B?Promise.reject(B):Promise.resolve()}function W(x){const H=oe.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(x):x()}function Z(x,H){let B;const[I,se,pe]=zp(x,H);B=no(I.reverse(),"beforeRouteLeave",x,H);for(const g of I)g.leaveGuards.forEach(S=>{B.push(tn(S,x,H))});const p=V.bind(null,x,H);return B.push(p),z(B).then(()=>{B=[];for(const g of o.list())B.push(tn(g,x,H));return B.push(p),z(B)}).then(()=>{B=no(se,"beforeRouteUpdate",x,H);for(const g of se)g.updateGuards.forEach(S=>{B.push(tn(S,x,H))});return B.push(p),z(B)}).then(()=>{B=[];for(const g of pe)if(g.beforeEnter)if(ht(g.beforeEnter))for(const S of g.beforeEnter)B.push(tn(S,x,H));else B.push(tn(g.beforeEnter,x,H));return B.push(p),z(B)}).then(()=>(x.matched.forEach(g=>g.enterCallbacks={}),B=no(pe,"beforeRouteEnter",x,H),B.push(p),z(B))).then(()=>{B=[];for(const g of i.list())B.push(tn(g,x,H));return B.push(p),z(B)}).catch(g=>Pt(g,8)?g:Promise.reject(g))}function te(x,H,B){a.list().forEach(I=>W(()=>I(x,H,B)))}function M(x,H,B,I,se){const pe=E(x,H);if(pe)return pe;const p=H===zt,g=Nn?history.state:{};B&&(I||p?r.replace(x.fullPath,Se({scroll:p&&g&&g.scroll},se)):r.push(x.fullPath,se)),l.value=x,ie(x,H,B,p),X()}let Q;function D(){Q||(Q=r.listen((x,H,B)=>{if(!ae.listening)return;const I=m(x),se=k(I);if(se){F(Se(se,{replace:!0}),I).catch(hs);return}c=I;const pe=l.value;Nn&&tp(Ia(pe.fullPath,B.delta),kr()),Z(I,pe).catch(p=>Pt(p,12)?p:Pt(p,2)?(F(p.to,I).then(g=>{Pt(g,20)&&!B.delta&&B.type===Es.pop&&r.go(-1,!1)}).catch(hs),Promise.reject()):(B.delta&&r.go(-B.delta,!1),T(p,I,pe))).then(p=>{p=p||M(I,pe,!1),p&&(B.delta&&!Pt(p,8)?r.go(-B.delta,!1):B.type===Es.pop&&Pt(p,20)&&r.go(-1,!1)),te(I,pe,p)}).catch(hs)}))}let R=rs(),P=rs(),A;function T(x,H,B){X(x);const I=P.list();return I.length?I.forEach(se=>se(x,H,B)):console.error(x),Promise.reject(x)}function q(){return A&&l.value!==zt?Promise.resolve():new Promise((x,H)=>{R.add([x,H])})}function X(x){return A||(A=!x,D(),R.list().forEach(([H,B])=>x?B(x):H()),R.reset()),x}function ie(x,H,B,I){const{scrollBehavior:se}=e;if(!Nn||!se)return Promise.resolve();const pe=!B&&np(Ia(x.fullPath,0))||(I||!B)&&history.state&&history.state.scroll||null;return ci().then(()=>se(x,H,pe)).then(p=>p&&ep(p)).catch(p=>T(p,x,H))}const ee=x=>r.go(x);let ye;const oe=new Set,ae={currentRoute:l,listening:!0,addRoute:h,removeRoute:w,hasRoute:v,getRoutes:y,resolve:m,options:e,push:$,replace:N,go:ee,back:()=>ee(-1),forward:()=>ee(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:P.add,isReady:q,install(x){const H=this;x.component("RouterLink",Vp),x.component("RouterView",qp),x.config.globalProperties.$router=H,Object.defineProperty(x.config.globalProperties,"$route",{enumerable:!0,get:()=>ue(l)}),Nn&&!ye&&l.value===zt&&(ye=!0,$(r.location).catch(se=>{}));const B={};for(const se in zt)Object.defineProperty(B,se,{get:()=>l.value[se],enumerable:!0});x.provide($r,H),x.provide(_i,Ll(B)),x.provide(Lo,l);const I=x.unmount;oe.add(x),x.unmount=function(){oe.delete(x),oe.size<1&&(c=zt,Q&&Q(),Q=null,l.value=zt,ye=!1,A=!1),I()}}};function z(x){return x.reduce((H,B)=>H.then(()=>W(B)),Promise.resolve())}return ae}function zp(e,t){const n=[],s=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let i=0;i<o;i++){const a=t.matched[i];a&&(e.matched.find(c=>zn(c,a))?s.push(a):n.push(a));const l=e.matched[i];l&&(t.matched.find(c=>zn(c,l))||r.push(l))}return[n,s,r]}function Cr(){return lt($r)}function Cs(){return lt(_i)}function Da(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Ic(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Wp(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Da(e.outputLen),Da(e.blockLen)}function rr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Gp(e,t){Ic(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const so=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ac=e=>e instanceof Uint8Array,ro=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),vt=(e,t)=>e<<32-t|e>>>t,Zp=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Zp)throw new Error("Non little-endian hardware is not supported");function Jp(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function wi(e){if(typeof e=="string"&&(e=Jp(e)),!Ac(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Yp(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!Ac(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}let Pc=class{clone(){return this._cloneInto()}};function Qp(e){const t=s=>e().update(wi(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Tc(e=32){if(so&&typeof so.getRandomValues=="function")return so.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Xp(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const r=BigInt(32),o=BigInt(4294967295),i=Number(n>>r&o),a=Number(n&o),l=s?4:0,c=s?0:4;e.setUint32(t+l,i,s),e.setUint32(t+c,a,s)}let eg=class extends Pc{constructor(t,n,s,r){super(),this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=ro(this.buffer)}update(t){rr(this);const{view:n,buffer:s,blockLen:r}=this;t=wi(t);const o=t.length;for(let i=0;i<o;){const a=Math.min(r-this.pos,o-i);if(a===r){const l=ro(t);for(;r<=o-i;i+=r)this.process(l,i);continue}s.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){rr(this),Gp(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(s,0),i=0);for(let f=i;f<r;f++)n[f]=0;Xp(s,r-8,BigInt(this.length*8),o),this.process(s,0);const a=ro(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:o,destroyed:i,pos:a}=this;return t.length=r,t.pos=a,t.finished=o,t.destroyed=i,r%n&&t.buffer.set(s),t}};const tg=(e,t,n)=>e&t^~e&n,ng=(e,t,n)=>e&t^e&n^t&n,sg=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Gt=new Uint32Array(64);let rg=class extends eg{constructor(){super(64,32,8,!1),this.A=Wt[0]|0,this.B=Wt[1]|0,this.C=Wt[2]|0,this.D=Wt[3]|0,this.E=Wt[4]|0,this.F=Wt[5]|0,this.G=Wt[6]|0,this.H=Wt[7]|0}get(){const{A:t,B:n,C:s,D:r,E:o,F:i,G:a,H:l}=this;return[t,n,s,r,o,i,a,l]}set(t,n,s,r,o,i,a,l){this.A=t|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=l|0}process(t,n){for(let f=0;f<16;f++,n+=4)Gt[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=Gt[f-15],h=Gt[f-2],w=vt(d,7)^vt(d,18)^d>>>3,y=vt(h,17)^vt(h,19)^h>>>10;Gt[f]=y+Gt[f-7]+w+Gt[f-16]|0}let{A:s,B:r,C:o,D:i,E:a,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const d=vt(a,6)^vt(a,11)^vt(a,25),h=u+d+tg(a,l,c)+sg[f]+Gt[f]|0,y=(vt(s,2)^vt(s,13)^vt(s,22))+ng(s,r,o)|0;u=c,c=l,l=a,a=i+h|0,i=o,o=r,r=s,s=h+y|0}s=s+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(s,r,o,i,a,l,c,u)}roundClean(){Gt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Uo=Qp(()=>new rg);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bc=BigInt(0),Ir=BigInt(1),og=BigInt(2),Ar=e=>e instanceof Uint8Array,ig=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Gn(e){if(!Ar(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=ig[e[n]];return t}function Nc(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function mi(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Zn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let s=0;s<n.length;s++){const r=s*2,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[s]=i}return n}function tt(e){return mi(Gn(e))}function bi(e){if(!Ar(e))throw new Error("Uint8Array expected");return mi(Gn(Uint8Array.from(e).reverse()))}function fn(e,t){return Zn(e.toString(16).padStart(t*2,"0"))}function Ei(e,t){return fn(e,t).reverse()}function ag(e){return Zn(Nc(e))}function Ge(e,t,n){let s;if(typeof t=="string")try{s=Zn(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(Ar(t))s=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const r=s.length;if(typeof n=="number"&&r!==n)throw new Error(`${e} expected ${n} bytes, got ${r}`);return s}function kn(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!Ar(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}function lg(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function cg(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function ug(e){let t;for(t=0;e>Bc;e>>=Ir,t+=1);return t}function fg(e,t){return e>>BigInt(t)&Ir}const dg=(e,t,n)=>e|(n?Ir:Bc)<<BigInt(t),xi=e=>(og<<BigInt(e-1))-Ir,oo=e=>new Uint8Array(e),qa=e=>Uint8Array.from(e);function Lc(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let s=oo(e),r=oo(e),o=0;const i=()=>{s.fill(1),r.fill(0),o=0},a=(...f)=>n(r,s,...f),l=(f=oo())=>{r=a(qa([0]),f),s=a(),f.length!==0&&(r=a(qa([1]),f),s=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<t;){s=a();const h=s.slice();d.push(h),f+=s.length}return kn(...d)};return(f,d)=>{i(),l(f);let h;for(;!(h=d(c()));)l();return i(),h}}const hg={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Is(e,t,n={}){const s=(r,o,i)=>{const a=hg[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=e[r];if(!(i&&l===void 0)&&!a(l,e))throw new Error(`Invalid param ${String(r)}=${l} (${typeof l}), expected ${o}`)};for(const[r,o]of Object.entries(t))s(r,o,!1);for(const[r,o]of Object.entries(n))s(r,o,!0);return e}const pg=Object.freeze(Object.defineProperty({__proto__:null,bitGet:fg,bitLen:ug,bitMask:xi,bitSet:dg,bytesToHex:Gn,bytesToNumberBE:tt,bytesToNumberLE:bi,concatBytes:kn,createHmacDrbg:Lc,ensureBytes:Ge,equalBytes:lg,hexToBytes:Zn,hexToNumber:mi,numberToBytesBE:fn,numberToBytesLE:Ei,numberToHexUnpadded:Nc,numberToVarBytesBE:ag,utf8ToBytes:cg,validateObject:Is},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const je=BigInt(0),Le=BigInt(1),mn=BigInt(2),gg=BigInt(3),Oo=BigInt(4),Ka=BigInt(5),za=BigInt(8);BigInt(9);BigInt(16);function Ke(e,t){const n=e%t;return n>=je?n:t+n}function yg(e,t,n){if(n<=je||t<je)throw new Error("Expected power/modulo > 0");if(n===Le)return je;let s=Le;for(;t>je;)t&Le&&(s=s*e%n),e=e*e%n,t>>=Le;return s}function it(e,t,n){let s=e;for(;t-- >je;)s*=s,s%=n;return s}function Mo(e,t){if(e===je||t<=je)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Ke(e,t),s=t,r=je,o=Le;for(;n!==je;){const a=s/n,l=s%n,c=r-o*a;s=n,n=l,r=o,o=c}if(s!==Le)throw new Error("invert: does not exist");return Ke(r,t)}function vg(e){const t=(e-Le)/mn;let n,s,r;for(n=e-Le,s=0;n%mn===je;n/=mn,s++);for(r=mn;r<e&&yg(r,t,e)!==e-Le;r++);if(s===1){const i=(e+Le)/Oo;return function(l,c){const u=l.pow(c,i);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const o=(n+Le)/mn;return function(a,l){if(a.pow(l,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=s,u=a.pow(a.mul(a.ONE,r),n),f=a.pow(l,o),d=a.pow(l,n);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let h=1;for(let y=a.sqr(d);h<c&&!a.eql(y,a.ONE);h++)y=a.sqr(y);const w=a.pow(u,Le<<BigInt(c-h-1));u=a.sqr(w),f=a.mul(f,w),d=a.mul(d,u),c=h}return f}}function _g(e){if(e%Oo===gg){const t=(e+Le)/Oo;return function(s,r){const o=s.pow(r,t);if(!s.eql(s.sqr(o),r))throw new Error("Cannot find square root");return o}}if(e%za===Ka){const t=(e-Ka)/za;return function(s,r){const o=s.mul(r,mn),i=s.pow(o,t),a=s.mul(r,i),l=s.mul(s.mul(a,mn),i),c=s.mul(a,s.sub(l,s.ONE));if(!s.eql(s.sqr(c),r))throw new Error("Cannot find square root");return c}}return vg(e)}const wg=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function mg(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=wg.reduce((s,r)=>(s[r]="function",s),t);return Is(e,n)}function bg(e,t,n){if(n<je)throw new Error("Expected power > 0");if(n===je)return e.ONE;if(n===Le)return t;let s=e.ONE,r=t;for(;n>je;)n&Le&&(s=e.mul(s,r)),r=e.sqr(r),n>>=Le;return s}function Eg(e,t){const n=new Array(t.length),s=t.reduce((o,i,a)=>e.is0(i)?o:(n[a]=o,e.mul(o,i)),e.ONE),r=e.inv(s);return t.reduceRight((o,i,a)=>e.is0(i)?o:(n[a]=e.mul(o,n[a]),e.mul(o,i)),r),n}function Uc(e,t){const n=t!==void 0?t:e.toString(2).length,s=Math.ceil(n/8);return{nBitLength:n,nByteLength:s}}function xg(e,t,n=!1,s={}){if(e<=je)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:r,nByteLength:o}=Uc(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=_g(e),a=Object.freeze({ORDER:e,BITS:r,BYTES:o,MASK:xi(r),ZERO:je,ONE:Le,create:l=>Ke(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return je<=l&&l<e},is0:l=>l===je,isOdd:l=>(l&Le)===Le,neg:l=>Ke(-l,e),eql:(l,c)=>l===c,sqr:l=>Ke(l*l,e),add:(l,c)=>Ke(l+c,e),sub:(l,c)=>Ke(l-c,e),mul:(l,c)=>Ke(l*c,e),pow:(l,c)=>bg(a,l,c),div:(l,c)=>Ke(l*Mo(c,e),e),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>Mo(l,e),sqrt:s.sqrt||(l=>i(a,l)),invertBatch:l=>Eg(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?Ei(l,o):fn(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?bi(l):tt(l)}});return Object.freeze(a)}function Oc(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Mc(e){const t=Oc(e);return t+Math.ceil(t/2)}function Rg(e,t,n=!1){const s=e.length,r=Oc(t),o=Mc(t);if(s<16||s<o||s>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${s}`);const i=n?tt(e):bi(e),a=Ke(i,t-Le)+Le;return n?Ei(a,r):fn(a,r)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Sg=BigInt(0),io=BigInt(1);function kg(e,t){const n=(r,o)=>{const i=o.negate();return r?i:o},s=r=>{const o=Math.ceil(t/r)+1,i=2**(r-1);return{windows:o,windowSize:i}};return{constTimeNegate:n,unsafeLadder(r,o){let i=e.ZERO,a=r;for(;o>Sg;)o&io&&(i=i.add(a)),a=a.double(),o>>=io;return i},precomputeWindow(r,o){const{windows:i,windowSize:a}=s(o),l=[];let c=r,u=c;for(let f=0;f<i;f++){u=c,l.push(u);for(let d=1;d<a;d++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(r,o,i){const{windows:a,windowSize:l}=s(r);let c=e.ZERO,u=e.BASE;const f=BigInt(2**r-1),d=2**r,h=BigInt(r);for(let w=0;w<a;w++){const y=w*l;let v=Number(i&f);i>>=h,v>l&&(v-=d,i+=io);const m=y,b=y+Math.abs(v)-1,E=w%2!==0,$=v<0;v===0?u=u.add(n(E,o[m])):c=c.add(n($,o[b]))}return{p:c,f:u}},wNAFCached(r,o,i,a){const l=r._WINDOW_SIZE||1;let c=o.get(r);return c||(c=this.precomputeWindow(r,l),l!==1&&o.set(r,a(c))),this.wNAF(l,c,i)}}}function Hc(e){return mg(e.Fp),Is(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Uc(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $g(e){const t=Hc(e);Is(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:s,a:r}=t;if(n){if(!s.eql(r,s.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Cg,hexToBytes:Ig}=pg,En={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=En;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],s=e.subarray(2,n+2);if(!n||s.length!==n)throw new t("Invalid signature integer: wrong length");if(s[0]&128)throw new t("Invalid signature integer: negative");if(s[0]===0&&!(s[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Cg(s),l:e.subarray(n+2)}},toSig(e){const{Err:t}=En,n=typeof e=="string"?Ig(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let s=n.length;if(s<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==s-2)throw new t("Invalid signature: incorrect length");const{d:r,l:o}=En._parseInt(n.subarray(2)),{d:i,l:a}=En._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r,s:i}},hexFromSig(e){const t=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},s=t(n(e.s)),r=t(n(e.r)),o=s.length/2,i=r.length/2,a=n(o),l=n(i);return`30${n(i+o+4)}02${l}${r}02${a}${s}`}},Nt=BigInt(0),at=BigInt(1);BigInt(2);const Wa=BigInt(3);BigInt(4);function Ag(e){const t=$g(e),{Fp:n}=t,s=t.toBytes||((w,y,v)=>{const m=y.toAffine();return kn(Uint8Array.from([4]),n.toBytes(m.x),n.toBytes(m.y))}),r=t.fromBytes||(w=>{const y=w.subarray(1),v=n.fromBytes(y.subarray(0,n.BYTES)),m=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:v,y:m}});function o(w){const{a:y,b:v}=t,m=n.sqr(w),b=n.mul(m,w);return n.add(n.add(b,n.mul(w,y)),v)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function i(w){return typeof w=="bigint"&&Nt<w&&w<t.n}function a(w){if(!i(w))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(w){const{allowedPrivateKeyLengths:y,nByteLength:v,wrapPrivateKey:m,n:b}=t;if(y&&typeof w!="bigint"){if(w instanceof Uint8Array&&(w=Gn(w)),typeof w!="string"||!y.includes(w.length))throw new Error("Invalid key");w=w.padStart(v*2,"0")}let E;try{E=typeof w=="bigint"?w:tt(Ge("private key",w,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof w}`)}return m&&(E=Ke(E,b)),a(E),E}const c=new Map;function u(w){if(!(w instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(y,v,m){if(this.px=y,this.py=v,this.pz=m,y==null||!n.isValid(y))throw new Error("x required");if(v==null||!n.isValid(v))throw new Error("y required");if(m==null||!n.isValid(m))throw new Error("z required")}static fromAffine(y){const{x:v,y:m}=y||{};if(!y||!n.isValid(v)||!n.isValid(m))throw new Error("invalid affine point");if(y instanceof f)throw new Error("projective point not allowed");const b=E=>n.eql(E,n.ZERO);return b(v)&&b(m)?f.ZERO:new f(v,m,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const v=n.invertBatch(y.map(m=>m.pz));return y.map((m,b)=>m.toAffine(v[b])).map(f.fromAffine)}static fromHex(y){const v=f.fromAffine(r(Ge("pointHex",y)));return v.assertValidity(),v}static fromPrivateKey(y){return f.BASE.multiply(l(y))}_setWindowSize(y){this._WINDOW_SIZE=y,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:v}=this.toAffine();if(!n.isValid(y)||!n.isValid(v))throw new Error("bad point: x or y not FE");const m=n.sqr(v),b=o(y);if(!n.eql(m,b))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){u(y);const{px:v,py:m,pz:b}=this,{px:E,py:$,pz:N}=y,k=n.eql(n.mul(v,N),n.mul(E,b)),F=n.eql(n.mul(m,N),n.mul($,b));return k&&F}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:v}=t,m=n.mul(v,Wa),{px:b,py:E,pz:$}=this;let N=n.ZERO,k=n.ZERO,F=n.ZERO,V=n.mul(b,b),W=n.mul(E,E),Z=n.mul($,$),te=n.mul(b,E);return te=n.add(te,te),F=n.mul(b,$),F=n.add(F,F),N=n.mul(y,F),k=n.mul(m,Z),k=n.add(N,k),N=n.sub(W,k),k=n.add(W,k),k=n.mul(N,k),N=n.mul(te,N),F=n.mul(m,F),Z=n.mul(y,Z),te=n.sub(V,Z),te=n.mul(y,te),te=n.add(te,F),F=n.add(V,V),V=n.add(F,V),V=n.add(V,Z),V=n.mul(V,te),k=n.add(k,V),Z=n.mul(E,$),Z=n.add(Z,Z),V=n.mul(Z,te),N=n.sub(N,V),F=n.mul(Z,W),F=n.add(F,F),F=n.add(F,F),new f(N,k,F)}add(y){u(y);const{px:v,py:m,pz:b}=this,{px:E,py:$,pz:N}=y;let k=n.ZERO,F=n.ZERO,V=n.ZERO;const W=t.a,Z=n.mul(t.b,Wa);let te=n.mul(v,E),M=n.mul(m,$),Q=n.mul(b,N),D=n.add(v,m),R=n.add(E,$);D=n.mul(D,R),R=n.add(te,M),D=n.sub(D,R),R=n.add(v,b);let P=n.add(E,N);return R=n.mul(R,P),P=n.add(te,Q),R=n.sub(R,P),P=n.add(m,b),k=n.add($,N),P=n.mul(P,k),k=n.add(M,Q),P=n.sub(P,k),V=n.mul(W,R),k=n.mul(Z,Q),V=n.add(k,V),k=n.sub(M,V),V=n.add(M,V),F=n.mul(k,V),M=n.add(te,te),M=n.add(M,te),Q=n.mul(W,Q),R=n.mul(Z,R),M=n.add(M,Q),Q=n.sub(te,Q),Q=n.mul(W,Q),R=n.add(R,Q),te=n.mul(M,R),F=n.add(F,te),te=n.mul(P,R),k=n.mul(D,k),k=n.sub(k,te),te=n.mul(D,M),V=n.mul(P,V),V=n.add(V,te),new f(k,F,V)}subtract(y){return this.add(y.negate())}is0(){return this.equals(f.ZERO)}wNAF(y){return h.wNAFCached(this,c,y,v=>{const m=n.invertBatch(v.map(b=>b.pz));return v.map((b,E)=>b.toAffine(m[E])).map(f.fromAffine)})}multiplyUnsafe(y){const v=f.ZERO;if(y===Nt)return v;if(a(y),y===at)return this;const{endo:m}=t;if(!m)return h.unsafeLadder(this,y);let{k1neg:b,k1:E,k2neg:$,k2:N}=m.splitScalar(y),k=v,F=v,V=this;for(;E>Nt||N>Nt;)E&at&&(k=k.add(V)),N&at&&(F=F.add(V)),V=V.double(),E>>=at,N>>=at;return b&&(k=k.negate()),$&&(F=F.negate()),F=new f(n.mul(F.px,m.beta),F.py,F.pz),k.add(F)}multiply(y){a(y);let v=y,m,b;const{endo:E}=t;if(E){const{k1neg:$,k1:N,k2neg:k,k2:F}=E.splitScalar(v);let{p:V,f:W}=this.wNAF(N),{p:Z,f:te}=this.wNAF(F);V=h.constTimeNegate($,V),Z=h.constTimeNegate(k,Z),Z=new f(n.mul(Z.px,E.beta),Z.py,Z.pz),m=V.add(Z),b=W.add(te)}else{const{p:$,f:N}=this.wNAF(v);m=$,b=N}return f.normalizeZ([m,b])[0]}multiplyAndAddUnsafe(y,v,m){const b=f.BASE,E=(N,k)=>k===Nt||k===at||!N.equals(b)?N.multiplyUnsafe(k):N.multiply(k),$=E(this,v).add(E(y,m));return $.is0()?void 0:$}toAffine(y){const{px:v,py:m,pz:b}=this,E=this.is0();y==null&&(y=E?n.ONE:n.inv(b));const $=n.mul(v,y),N=n.mul(m,y),k=n.mul(b,y);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(k,n.ONE))throw new Error("invZ was invalid");return{x:$,y:N}}isTorsionFree(){const{h:y,isTorsionFree:v}=t;if(y===at)return!0;if(v)return v(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:v}=t;return y===at?this:v?v(f,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return this.assertValidity(),s(f,this,y)}toHex(y=!0){return Gn(this.toRawBytes(y))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,h=kg(f,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:i}}function Pg(e){const t=Hc(e);return Is(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Tg(e){const t=Pg(e),{Fp:n,n:s}=t,r=n.BYTES+1,o=2*n.BYTES+1;function i(R){return Nt<R&&R<n.ORDER}function a(R){return Ke(R,s)}function l(R){return Mo(R,s)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:d}=Ag({...t,toBytes(R,P,A){const T=P.toAffine(),q=n.toBytes(T.x),X=kn;return A?X(Uint8Array.from([P.hasEvenY()?2:3]),q):X(Uint8Array.from([4]),q,n.toBytes(T.y))},fromBytes(R){const P=R.length,A=R[0],T=R.subarray(1);if(P===r&&(A===2||A===3)){const q=tt(T);if(!i(q))throw new Error("Point is not on curve");const X=f(q);let ie=n.sqrt(X);const ee=(ie&at)===at;return(A&1)===1!==ee&&(ie=n.neg(ie)),{x:q,y:ie}}else if(P===o&&A===4){const q=n.fromBytes(T.subarray(0,n.BYTES)),X=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:q,y:X}}else throw new Error(`Point of length ${P} was invalid. Expected ${r} compressed bytes or ${o} uncompressed bytes`)}}),h=R=>Gn(fn(R,t.nByteLength));function w(R){const P=s>>at;return R>P}function y(R){return w(R)?a(-R):R}const v=(R,P,A)=>tt(R.slice(P,A));class m{constructor(P,A,T){this.r=P,this.s=A,this.recovery=T,this.assertValidity()}static fromCompact(P){const A=t.nByteLength;return P=Ge("compactSignature",P,A*2),new m(v(P,0,A),v(P,A,2*A))}static fromDER(P){const{r:A,s:T}=En.toSig(Ge("DER",P));return new m(A,T)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(P){return new m(this.r,this.s,P)}recoverPublicKey(P){const{r:A,s:T,recovery:q}=this,X=F(Ge("msgHash",P));if(q==null||![0,1,2,3].includes(q))throw new Error("recovery id invalid");const ie=q===2||q===3?A+t.n:A;if(ie>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const ee=q&1?"03":"02",ye=c.fromHex(ee+h(ie)),oe=l(ie),ae=a(-X*oe),z=a(T*oe),x=c.BASE.multiplyAndAddUnsafe(ye,ae,z);if(!x)throw new Error("point at infinify");return x.assertValidity(),x}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Zn(this.toDERHex())}toDERHex(){return En.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Zn(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const b={isValidPrivateKey(R){try{return u(R),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const R=Mc(t.n);return Rg(t.randomBytes(R),t.n)},precompute(R=8,P=c.BASE){return P._setWindowSize(R),P.multiply(BigInt(3)),P}};function E(R,P=!0){return c.fromPrivateKey(R).toRawBytes(P)}function $(R){const P=R instanceof Uint8Array,A=typeof R=="string",T=(P||A)&&R.length;return P?T===r||T===o:A?T===2*r||T===2*o:R instanceof c}function N(R,P,A=!0){if($(R))throw new Error("first arg must be private key");if(!$(P))throw new Error("second arg must be public key");return c.fromHex(P).multiply(u(R)).toRawBytes(A)}const k=t.bits2int||function(R){const P=tt(R),A=R.length*8-t.nBitLength;return A>0?P>>BigInt(A):P},F=t.bits2int_modN||function(R){return a(k(R))},V=xi(t.nBitLength);function W(R){if(typeof R!="bigint")throw new Error("bigint expected");if(!(Nt<=R&&R<V))throw new Error(`bigint expected < 2^${t.nBitLength}`);return fn(R,t.nByteLength)}function Z(R,P,A=te){if(["recovered","canonical"].some(B=>B in A))throw new Error("sign() legacy options not supported");const{hash:T,randomBytes:q}=t;let{lowS:X,prehash:ie,extraEntropy:ee}=A;X==null&&(X=!0),R=Ge("msgHash",R),ie&&(R=Ge("prehashed msgHash",T(R)));const ye=F(R),oe=u(P),ae=[W(oe),W(ye)];if(ee!=null){const B=ee===!0?q(n.BYTES):ee;ae.push(Ge("extraEntropy",B))}const z=kn(...ae),x=ye;function H(B){const I=k(B);if(!d(I))return;const se=l(I),pe=c.BASE.multiply(I).toAffine(),p=a(pe.x);if(p===Nt)return;const g=a(se*a(x+p*oe));if(g===Nt)return;let S=(pe.x===p?0:2)|Number(pe.y&at),U=g;return X&&w(g)&&(U=y(g),S^=1),new m(p,U,S)}return{seed:z,k2sig:H}}const te={lowS:t.lowS,prehash:!1},M={lowS:t.lowS,prehash:!1};function Q(R,P,A=te){const{seed:T,k2sig:q}=Z(R,P,A),X=t;return Lc(X.hash.outputLen,X.nByteLength,X.hmac)(T,q)}c.BASE._setWindowSize(8);function D(R,P,A,T=M){var pe;const q=R;if(P=Ge("msgHash",P),A=Ge("publicKey",A),"strict"in T)throw new Error("options.strict was renamed to lowS");const{lowS:X,prehash:ie}=T;let ee,ye;try{if(typeof q=="string"||q instanceof Uint8Array)try{ee=m.fromDER(q)}catch(p){if(!(p instanceof En.Err))throw p;ee=m.fromCompact(q)}else if(typeof q=="object"&&typeof q.r=="bigint"&&typeof q.s=="bigint"){const{r:p,s:g}=q;ee=new m(p,g)}else throw new Error("PARSE");ye=c.fromHex(A)}catch(p){if(p.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(X&&ee.hasHighS())return!1;ie&&(P=t.hash(P));const{r:oe,s:ae}=ee,z=F(P),x=l(ae),H=a(z*x),B=a(oe*x),I=(pe=c.BASE.multiplyAndAddUnsafe(ye,H,B))==null?void 0:pe.toAffine();return I?a(I.x)===oe:!1}return{CURVE:t,getPublicKey:E,getSharedSecret:N,sign:Q,verify:D,ProjectivePoint:c,Signature:m,utils:b}}let Vc=class extends Pc{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Wp(t);const s=wi(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(s.length>r?t.create().update(s).digest():s);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return rr(this),this.iHash.update(t),this}digestInto(t){rr(this),Ic(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:r,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Fc=(e,t,n)=>new Vc(e,t).update(n).digest();Fc.create=(e,t)=>new Vc(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Bg(e){return{hash:e,hmac:(t,...n)=>Fc(e,t,Yp(...n)),randomBytes:Tc}}function Ng(e,t){const n=s=>Tg({...e,...Bg(s)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),or=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),jc=BigInt(1),ir=BigInt(2),Ga=(e,t)=>(e+t/ir)/t;function Dc(e){const t=Pr,n=BigInt(3),s=BigInt(6),r=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,f=it(u,n,t)*u%t,d=it(f,n,t)*u%t,h=it(d,ir,t)*c%t,w=it(h,r,t)*h%t,y=it(w,o,t)*w%t,v=it(y,a,t)*y%t,m=it(v,l,t)*v%t,b=it(m,a,t)*y%t,E=it(b,n,t)*u%t,$=it(E,i,t)*w%t,N=it($,s,t)*c%t,k=it(N,ir,t);if(!Ho.eql(Ho.sqr(k),e))throw new Error("Cannot find square root");return k}const Ho=xg(Pr,void 0,void 0,{sqrt:Dc}),es=Ng({a:BigInt(0),b:BigInt(7),Fp:Ho,n:or,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=or,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-jc*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=Ga(o*e,t),l=Ga(-s*e,t);let c=Ke(e-a*n-l*r,t),u=Ke(-a*s-l*o,t);const f=c>i,d=u>i;if(f&&(c=t-c),d&&(u=t-u),c>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:c,k2neg:d,k2:u}}}},Uo),Tr=BigInt(0),qc=e=>typeof e=="bigint"&&Tr<e&&e<Pr,Lg=e=>typeof e=="bigint"&&Tr<e&&e<or,Za={};function ar(e,...t){let n=Za[e];if(n===void 0){const s=Uo(Uint8Array.from(e,r=>r.charCodeAt(0)));n=kn(s,s),Za[e]=n}return Uo(kn(n,...t))}const Ri=e=>e.toRawBytes(!0).slice(1),Vo=e=>fn(e,32),ao=e=>Ke(e,Pr),xs=e=>Ke(e,or),Si=es.ProjectivePoint,Ug=(e,t,n)=>Si.BASE.multiplyAndAddUnsafe(e,t,n);function Fo(e){let t=es.utils.normPrivateKeyToScalar(e),n=Si.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:xs(-t),bytes:Ri(n)}}function Kc(e){if(!qc(e))throw new Error("bad x: need 0 < x < p");const t=ao(e*e),n=ao(t*e+BigInt(7));let s=Dc(n);s%ir!==Tr&&(s=ao(-s));const r=new Si(e,s,jc);return r.assertValidity(),r}function zc(...e){return xs(tt(ar("BIP0340/challenge",...e)))}function Og(e){return Fo(e).bytes}function Mg(e,t,n=Tc(32)){const s=Ge("message",e),{bytes:r,scalar:o}=Fo(t),i=Ge("auxRand",n,32),a=Vo(o^tt(ar("BIP0340/aux",i))),l=ar("BIP0340/nonce",a,r,s),c=xs(tt(l));if(c===Tr)throw new Error("sign failed: k is zero");const{bytes:u,scalar:f}=Fo(c),d=zc(u,r,s),h=new Uint8Array(64);if(h.set(u,0),h.set(Vo(xs(f+d*o)),32),!Wc(h,s,r))throw new Error("sign: Invalid signature produced");return h}function Wc(e,t,n){const s=Ge("signature",e,64),r=Ge("message",t),o=Ge("publicKey",n,32);try{const i=Kc(tt(o)),a=tt(s.subarray(0,32));if(!qc(a))return!1;const l=tt(s.subarray(32,64));if(!Lg(l))return!1;const c=zc(Vo(a),Ri(i),r),u=Ug(i,l,xs(-c));return!(!u||!u.hasEvenY()||u.toAffine().x!==a)}catch{return!1}}const os=(()=>({getPublicKey:Og,sign:Mg,verify:Wc,utils:{randomPrivateKey:es.utils.randomPrivateKey,lift_x:Kc,pointToBytes:Ri,numberToBytesBE:fn,bytesToNumberBE:tt,taggedHash:ar,mod:Ke}}))(),lo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ki=e=>e instanceof Uint8Array,co=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),_t=(e,t)=>e<<32-t|e>>>t,Hg=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Hg)throw new Error("Non little-endian hardware is not supported");const Vg=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function et(e){if(!ki(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Vg[e[n]];return t}function Jn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let s=0;s<n.length;s++){const r=s*2,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[s]=i}return n}function Gc(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Rs(e){if(typeof e=="string"&&(e=Gc(e)),!ki(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function lr(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!ki(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}class Zc{clone(){return this._cloneInto()}}function Jc(e){const t=s=>e().update(Rs(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Yc(e=32){if(lo&&typeof lo.getRandomValues=="function")return lo.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function jo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Fg(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function Qc(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function jg(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");jo(e.outputLen),jo(e.blockLen)}function Dg(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function qg(e,t){Qc(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Et={number:jo,bool:Fg,bytes:Qc,hash:jg,exists:Dg,output:qg};function Kg(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const r=BigInt(32),o=BigInt(4294967295),i=Number(n>>r&o),a=Number(n&o),l=s?4:0,c=s?0:4;e.setUint32(t+l,i,s),e.setUint32(t+c,a,s)}class zg extends Zc{constructor(t,n,s,r){super(),this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=co(this.buffer)}update(t){Et.exists(this);const{view:n,buffer:s,blockLen:r}=this;t=Rs(t);const o=t.length;for(let i=0;i<o;){const a=Math.min(r-this.pos,o-i);if(a===r){const l=co(t);for(;r<=o-i;i+=r)this.process(l,i);continue}s.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Et.exists(this),Et.output(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(s,0),i=0);for(let f=i;f<r;f++)n[f]=0;Kg(s,r-8,BigInt(this.length*8),o),this.process(s,0);const a=co(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:o,destroyed:i,pos:a}=this;return t.length=r,t.pos=a,t.finished=o,t.destroyed=i,r%n&&t.buffer.set(s),t}}const Wg=(e,t,n)=>e&t^~e&n,Gg=(e,t,n)=>e&t^e&n^t&n,Zg=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jt=new Uint32Array(64);class Xc extends zg{constructor(){super(64,32,8,!1),this.A=Zt[0]|0,this.B=Zt[1]|0,this.C=Zt[2]|0,this.D=Zt[3]|0,this.E=Zt[4]|0,this.F=Zt[5]|0,this.G=Zt[6]|0,this.H=Zt[7]|0}get(){const{A:t,B:n,C:s,D:r,E:o,F:i,G:a,H:l}=this;return[t,n,s,r,o,i,a,l]}set(t,n,s,r,o,i,a,l){this.A=t|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=l|0}process(t,n){for(let f=0;f<16;f++,n+=4)Jt[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=Jt[f-15],h=Jt[f-2],w=_t(d,7)^_t(d,18)^d>>>3,y=_t(h,17)^_t(h,19)^h>>>10;Jt[f]=y+Jt[f-7]+w+Jt[f-16]|0}let{A:s,B:r,C:o,D:i,E:a,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const d=_t(a,6)^_t(a,11)^_t(a,25),h=u+d+Wg(a,l,c)+Zg[f]+Jt[f]|0,y=(_t(s,2)^_t(s,13)^_t(s,22))+Gg(s,r,o)|0;u=c,c=l,l=a,a=i+h|0,i=o,o=r,r=s,s=h+y|0}s=s+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(s,r,o,i,a,l,c,u)}roundClean(){Jt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Jg extends Xc{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const gs=Jc(()=>new Xc);Jc(()=>new Jg);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ts(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function jt(...e){const t=(r,o)=>i=>r(o(i)),n=Array.from(e).reverse().reduce((r,o)=>r?t(r,o.encode):o.encode,void 0),s=e.reduce((r,o)=>r?t(r,o.decode):o.decode,void 0);return{encode:n,decode:s}}function Dt(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(ts(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const s=e.indexOf(n);if(s===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return s})}}}function qt(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function Br(e,t="="){if(ts(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let s of n)if(typeof s!="string")throw new Error(`padding.encode: non-string input=${s}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.decode: non-string input=${r}`);let s=n.length;if(s*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;s>0&&n[s-1]===t;s--)if(!((s-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,s)}}}function eu(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function Ja(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let s=0;const r=[],o=Array.from(e);for(o.forEach(i=>{if(ts(i),i<0||i>=t)throw new Error(`Wrong integer: ${i}`)});;){let i=0,a=!0;for(let l=s;l<o.length;l++){const c=o[l],u=t*i+c;if(!Number.isSafeInteger(u)||t*i/t!==i||u-c!==t*i)throw new Error("convertRadix: carry overflow");if(i=u%n,o[l]=Math.floor(u/n),!Number.isSafeInteger(o[l])||o[l]*n+i!==u)throw new Error("convertRadix: carry overflow");if(a)o[l]?a=!1:s=l;else continue}if(r.push(i),a)break}for(let i=0;i<e.length-1&&e[i]===0;i++)r.push(0);return r.reverse()}const tu=(e,t)=>t?tu(t,e%t):e,cr=(e,t)=>e+(t-tu(e,t));function Do(e,t,n,s){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(cr(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${cr(t,n)}`);let r=0,o=0;const i=2**n-1,a=[];for(const l of e){if(ts(l),l>=2**t)throw new Error(`convertRadix2: invalid data word=${l} from=${t}`);if(r=r<<t|l,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)a.push((r>>o-n&i)>>>0);r&=2**o-1}if(r=r<<n-o&i,!s&&o>=t)throw new Error("Excess padding");if(!s&&r)throw new Error(`Non-zero padding: ${r}`);return s&&o>0&&a.push(r>>>0),a}function Yg(e){return ts(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Ja(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Ja(t,e,2**8))}}}function hn(e,t=!1){if(ts(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(cr(8,e)>32||cr(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Do(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Do(n,e,8,t))}}}function Ya(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const Qg=jt(hn(4),Dt("0123456789ABCDEF"),qt("")),Xg=jt(hn(5),Dt("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Br(5),qt(""));jt(hn(5),Dt("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Br(5),qt(""));jt(hn(5),Dt("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),qt(""),eu(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Vt=jt(hn(6),Dt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Br(6),qt("")),ey=jt(hn(6),Dt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Br(6),qt("")),$i=e=>jt(Yg(58),Dt(e),qt("")),qo=$i("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");$i("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");$i("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const Qa=[0,2,3,5,6,7,9,10,11],ty={encode(e){let t="";for(let n=0;n<e.length;n+=8){const s=e.subarray(n,n+8);t+=qo.encode(s).padStart(Qa[s.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const s=e.slice(n,n+11),r=Qa.indexOf(s.length),o=qo.decode(s);for(let i=0;i<o.length-r;i++)if(o[i]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-r)))}return Uint8Array.from(t)}},Ko=jt(Dt("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),qt("")),Xa=[996825010,642813549,513874426,1027748829,705979059];function is(e){const t=e>>25;let n=(e&33554431)<<5;for(let s=0;s<Xa.length;s++)(t>>s&1)===1&&(n^=Xa[s]);return n}function el(e,t,n=1){const s=e.length;let r=1;for(let o=0;o<s;o++){const i=e.charCodeAt(o);if(i<33||i>126)throw new Error(`Invalid prefix (${e})`);r=is(r)^i>>5}r=is(r);for(let o=0;o<s;o++)r=is(r)^e.charCodeAt(o)&31;for(let o of t)r=is(r)^o;for(let o=0;o<6;o++)r=is(r);return r^=n,Ko.encode(Do([r%2**30],30,5,!1))}function nu(e){const t=e==="bech32"?1:734539939,n=hn(5),s=n.decode,r=n.encode,o=Ya(s);function i(u,f,d=90){if(typeof u!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof u}`);if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof f}`);const h=u.length+7+f.length;if(d!==!1&&h>d)throw new TypeError(`Length ${h} exceeds limit ${d}`);return u=u.toLowerCase(),`${u}1${Ko.encode(f)}${el(u,f,t)}`}function a(u,f=90){if(typeof u!="string")throw new Error(`bech32.decode input should be string, not ${typeof u}`);if(u.length<8||f!==!1&&u.length>f)throw new TypeError(`Wrong string length: ${u.length} (${u}). Expected (8..${f})`);const d=u.toLowerCase();if(u!==d&&u!==u.toUpperCase())throw new Error("String must be lowercase or uppercase");u=d;const h=u.lastIndexOf("1");if(h===0||h===-1)throw new Error('Letter "1" must be present between prefix and data only');const w=u.slice(0,h),y=u.slice(h+1);if(y.length<6)throw new Error("Data must be at least 6 characters long");const v=Ko.decode(y).slice(0,-6),m=el(w,v,t);if(!y.endsWith(m))throw new Error(`Invalid checksum in ${u}: expected "${m}"`);return{prefix:w,words:v}}const l=Ya(a);function c(u){const{prefix:f,words:d}=a(u,!1);return{prefix:f,words:d,bytes:s(d)}}return{encode:i,decode:a,decodeToBytes:c,decodeUnsafe:l,fromWords:s,fromWordsUnsafe:o,toWords:r}}const Yn=nu("bech32");nu("bech32m");const ny={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},sy=jt(hn(4),Dt("0123456789abcdef"),qt(""),eu(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),ry={utf8:ny,hex:sy,base16:Qg,base32:Xg,base64:Vt,base64url:ey,base58:qo,base58xmr:ty};`${Object.keys(ry).join(", ")}`;function uo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function tl(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function oy(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Ut(e,...t){if(!oy(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const Je=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),iy=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!iy)throw new Error("Non little-endian hardware is not supported");function su(e){if(typeof e!="string")throw new Error(`string expected, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function ay(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function ly(e,t){if(e.length!==t.length)return!1;let n=0;for(let s=0;s<e.length;s++)n|=e[s]^t[s];return n===0}const cy=(e,t)=>(Object.assign(t,e),t),an=16,uy=283;function Ci(e){return e<<1^uy&-(e>>7)}function Ln(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=Ci(e);return n}const zo=(()=>{let e=new Uint8Array(256);for(let n=0,s=1;n<256;n++,s^=Ci(s))e[n]=s;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let s=e[255-n];s|=s<<8,t[e[n]]=(s^s>>4^s>>5^s>>6^s>>7^99)&255}return t})(),fy=zo.map((e,t)=>zo.indexOf(t)),dy=e=>e<<24|e>>>8,fo=e=>e<<8|e>>>24;function ru(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((c,u)=>t(e[u])),s=n.map(fo),r=s.map(fo),o=r.map(fo),i=new Uint32Array(256*256),a=new Uint32Array(256*256),l=new Uint16Array(256*256);for(let c=0;c<256;c++)for(let u=0;u<256;u++){const f=c*256+u;i[f]=n[c]^s[u],a[f]=r[c]^o[u],l[f]=e[c]<<8|e[u]}return{sbox:e,sbox2:l,T0:n,T1:s,T2:r,T3:o,T01:i,T23:a}}const Ii=ru(zo,e=>Ln(e,3)<<24|e<<16|e<<8|Ln(e,2)),ou=ru(fy,e=>Ln(e,11)<<24|Ln(e,13)<<16|Ln(e,9)<<8|Ln(e,14)),hy=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=Ci(n))e[t]=n;return e})();function iu(e){Ut(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=Ii,s=Je(e),r=s.length,o=a=>xt(n,a,a,a,a),i=new Uint32Array(t+28);i.set(s);for(let a=r;a<i.length;a++){let l=i[a-1];a%r===0?l=o(dy(l))^hy[a/r-1]:r>6&&a%r===4&&(l=o(l)),i[a]=i[a-r]^l}return i}function py(e){const t=iu(e),n=t.slice(),s=t.length,{sbox2:r}=Ii,{T0:o,T1:i,T2:a,T3:l}=ou;for(let c=0;c<s;c+=4)for(let u=0;u<4;u++)n[c+u]=t[s-c-4+u];t.fill(0);for(let c=4;c<s-4;c++){const u=n[c],f=xt(r,u,u,u,u);n[c]=o[f&255]^i[f>>>8&255]^a[f>>>16&255]^l[f>>>24]}return n}function nn(e,t,n,s,r,o){return e[n<<8&65280|s>>>8&255]^t[r>>>8&65280|o>>>24&255]}function xt(e,t,n,s,r){return e[t&255|n&65280]|e[s>>>16&255|r>>>16&65280]<<16}function nl(e,t,n,s,r){const{sbox2:o,T01:i,T23:a}=Ii;let l=0;t^=e[l++],n^=e[l++],s^=e[l++],r^=e[l++];const c=e.length/4-2;for(let w=0;w<c;w++){const y=e[l++]^nn(i,a,t,n,s,r),v=e[l++]^nn(i,a,n,s,r,t),m=e[l++]^nn(i,a,s,r,t,n),b=e[l++]^nn(i,a,r,t,n,s);t=y,n=v,s=m,r=b}const u=e[l++]^xt(o,t,n,s,r),f=e[l++]^xt(o,n,s,r,t),d=e[l++]^xt(o,s,r,t,n),h=e[l++]^xt(o,r,t,n,s);return{s0:u,s1:f,s2:d,s3:h}}function gy(e,t,n,s,r){const{sbox2:o,T01:i,T23:a}=ou;let l=0;t^=e[l++],n^=e[l++],s^=e[l++],r^=e[l++];const c=e.length/4-2;for(let w=0;w<c;w++){const y=e[l++]^nn(i,a,t,r,s,n),v=e[l++]^nn(i,a,n,t,r,s),m=e[l++]^nn(i,a,s,n,t,r),b=e[l++]^nn(i,a,r,s,n,t);t=y,n=v,s=m,r=b}const u=e[l++]^xt(o,t,r,s,n),f=e[l++]^xt(o,n,t,r,s),d=e[l++]^xt(o,s,n,t,r),h=e[l++]^xt(o,r,s,n,t);return{s0:u,s1:f,s2:d,s3:h}}function au(e,t){if(!t)return new Uint8Array(e);if(Ut(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function yy(e){if(Ut(e),e.length%an!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${an}`)}function vy(e,t,n){let s=e.length;const r=s%an;if(!t&&r!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const o=Je(e);if(t){let l=an-r;l||(l=an),s=s+l}const i=au(s,n),a=Je(i);return{b:o,o:a,out:i}}function _y(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const s=e[n-1];if(s<=0||s>16)throw new Error(`aes/pcks5: wrong padding byte: ${s}`);const r=e.subarray(0,-s);for(let o=0;o<s;o++)if(e[n-o-1]!==s)throw new Error("aes/pcks5: wrong padding");return r}function wy(e){const t=new Uint8Array(16),n=Je(t);t.set(e);const s=an-e.length;for(let r=an-s;r<an;r++)t[r]=s;return n}const lu=cy({blockSize:16,nonceLength:16},function(t,n,s={}){Ut(t),Ut(n,16);const r=!s.disablePadding;return{encrypt:(o,i)=>{const a=iu(t),{b:l,o:c,out:u}=vy(o,r,i),f=Je(n);let d=f[0],h=f[1],w=f[2],y=f[3],v=0;for(;v+4<=l.length;)d^=l[v+0],h^=l[v+1],w^=l[v+2],y^=l[v+3],{s0:d,s1:h,s2:w,s3:y}=nl(a,d,h,w,y),c[v++]=d,c[v++]=h,c[v++]=w,c[v++]=y;if(r){const m=wy(o.subarray(v*4));d^=m[0],h^=m[1],w^=m[2],y^=m[3],{s0:d,s1:h,s2:w,s3:y}=nl(a,d,h,w,y),c[v++]=d,c[v++]=h,c[v++]=w,c[v++]=y}return a.fill(0),u},decrypt:(o,i)=>{yy(o);const a=py(t),l=Je(n),c=au(o.length,i),u=Je(o),f=Je(c);let d=l[0],h=l[1],w=l[2],y=l[3];for(let v=0;v+4<=u.length;){const m=d,b=h,E=w,$=y;d=u[v+0],h=u[v+1],w=u[v+2],y=u[v+3];const{s0:N,s1:k,s2:F,s3:V}=gy(a,d,h,w,y);f[v++]=N^m,f[v++]=k^b,f[v++]=F^E,f[v++]=V^$}return a.fill(0),_y(c,r)}}}),my=su("expand 16-byte k"),by=su("expand 32-byte k"),Ey=Je(my),xy=Je(by);function xe(e,t){return e<<t|e>>>32-t}function Wo(e){return e.byteOffset%4===0}const Fs=64,Ry=16,cu=2**32-1,sl=new Uint32Array;function Sy(e,t,n,s,r,o,i,a){const l=r.length,c=new Uint8Array(Fs),u=Je(c),f=Wo(r)&&Wo(o),d=f?Je(r):sl,h=f?Je(o):sl;for(let w=0;w<l;i++){if(e(t,n,s,u,i,a),i>=cu)throw new Error("arx: counter overflow");const y=Math.min(Fs,l-w);if(f&&y===Fs){const v=w/4;if(w%4!==0)throw new Error("arx: invalid block position");for(let m=0,b;m<Ry;m++)b=v+m,h[b]=d[b]^u[m];w+=Fs;continue}for(let v=0,m;v<y;v++)m=w+v,o[m]=r[m]^c[v];w+=y}}function ky(e,t){const{allowShortKeys:n,extendNonceFn:s,counterLength:r,counterRight:o,rounds:i}=ay({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return uo(r),uo(i),tl(o),tl(n),(a,l,c,u,f=0)=>{Ut(a),Ut(l),Ut(c);const d=c.length;if(u||(u=new Uint8Array(d)),Ut(u),uo(f),f<0||f>=cu)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);const h=[];let w=a.length,y,v;if(w===32)y=a.slice(),h.push(y),v=xy;else if(w===16&&n)y=new Uint8Array(32),y.set(a),y.set(a,16),v=Ey,h.push(y);else throw new Error(`arx: invalid 32-byte key, got length=${w}`);Wo(l)||(l=l.slice(),h.push(l));const m=Je(y);if(s){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");s(v,m,Je(l.subarray(0,16)),m),l=l.subarray(16)}const b=16-r;if(b!==l.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const $=new Uint8Array(12);$.set(l,o?0:12-l.length),l=$,h.push(l)}const E=Je(l);for(Sy(e,v,m,E,c,u,f,i);h.length>0;)h.pop().fill(0);return u}}function $y(e,t,n,s,r,o=20){let i=e[0],a=e[1],l=e[2],c=e[3],u=t[0],f=t[1],d=t[2],h=t[3],w=t[4],y=t[5],v=t[6],m=t[7],b=r,E=n[0],$=n[1],N=n[2],k=i,F=a,V=l,W=c,Z=u,te=f,M=d,Q=h,D=w,R=y,P=v,A=m,T=b,q=E,X=$,ie=N;for(let ye=0;ye<o;ye+=2)k=k+Z|0,T=xe(T^k,16),D=D+T|0,Z=xe(Z^D,12),k=k+Z|0,T=xe(T^k,8),D=D+T|0,Z=xe(Z^D,7),F=F+te|0,q=xe(q^F,16),R=R+q|0,te=xe(te^R,12),F=F+te|0,q=xe(q^F,8),R=R+q|0,te=xe(te^R,7),V=V+M|0,X=xe(X^V,16),P=P+X|0,M=xe(M^P,12),V=V+M|0,X=xe(X^V,8),P=P+X|0,M=xe(M^P,7),W=W+Q|0,ie=xe(ie^W,16),A=A+ie|0,Q=xe(Q^A,12),W=W+Q|0,ie=xe(ie^W,8),A=A+ie|0,Q=xe(Q^A,7),k=k+te|0,ie=xe(ie^k,16),P=P+ie|0,te=xe(te^P,12),k=k+te|0,ie=xe(ie^k,8),P=P+ie|0,te=xe(te^P,7),F=F+M|0,T=xe(T^F,16),A=A+T|0,M=xe(M^A,12),F=F+M|0,T=xe(T^F,8),A=A+T|0,M=xe(M^A,7),V=V+Q|0,q=xe(q^V,16),D=D+q|0,Q=xe(Q^D,12),V=V+Q|0,q=xe(q^V,8),D=D+q|0,Q=xe(Q^D,7),W=W+Z|0,X=xe(X^W,16),R=R+X|0,Z=xe(Z^R,12),W=W+Z|0,X=xe(X^W,8),R=R+X|0,Z=xe(Z^R,7);let ee=0;s[ee++]=i+k|0,s[ee++]=a+F|0,s[ee++]=l+V|0,s[ee++]=c+W|0,s[ee++]=u+Z|0,s[ee++]=f+te|0,s[ee++]=d+M|0,s[ee++]=h+Q|0,s[ee++]=w+D|0,s[ee++]=y+R|0,s[ee++]=v+P|0,s[ee++]=m+A|0,s[ee++]=b+T|0,s[ee++]=E+q|0,s[ee++]=$+X|0,s[ee++]=N+ie|0}const uu=ky($y,{counterRight:!1,counterLength:4,allowShortKeys:!1});class fu extends Zc{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Et.hash(t);const s=Rs(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(s.length>r?t.create().update(s).digest():s);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return Et.exists(this),this.iHash.update(t),this}digestInto(t){Et.exists(this),Et.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:r,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Nr=(e,t,n)=>new fu(e,t).update(n).digest();Nr.create=(e,t)=>new fu(e,t);function Cy(e,t,n){return Et.hash(e),n===void 0&&(n=new Uint8Array(e.outputLen)),Nr(e,Rs(n),Rs(t))}const ho=new Uint8Array([0]),rl=new Uint8Array;function Iy(e,t,n,s=32){if(Et.hash(e),Et.number(s),s>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const r=Math.ceil(s/e.outputLen);n===void 0&&(n=rl);const o=new Uint8Array(r*e.outputLen),i=Nr.create(e,t),a=i._cloneInto(),l=new Uint8Array(i.outputLen);for(let c=0;c<r;c++)ho[0]=c+1,a.update(c===0?rl:l).update(n).update(ho).digestInto(l),o.set(l,e.outputLen*c),i._cloneInto(a);return i.destroy(),a.destroy(),l.fill(0),ho.fill(0),o.slice(0,s)}var Ay=Object.defineProperty,Ue=(e,t)=>{for(var n in t)Ay(e,n,{get:t[n],enumerable:!0})},vn=Symbol("verified"),Py=e=>e instanceof Object;function du(e){if(!Py(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let s=0;s<n.length;s++)if(typeof n[s]=="object")return!1}return!0}var As={};Ue(As,{Queue:()=>pu,QueueNode:()=>hu,binarySearch:()=>Ai,insertEventIntoAscendingList:()=>By,insertEventIntoDescendingList:()=>Ty,normalizeURL:()=>Un,utf8Decoder:()=>Lt,utf8Encoder:()=>St});var Lt=new TextDecoder("utf-8"),St=new TextEncoder;function Un(e){e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function Ty(e,t){const[n,s]=Ai(e,r=>t.id===r.id?0:t.created_at===r.created_at?-1:r.created_at-t.created_at);return s||e.splice(n,0,t),e}function By(e,t){const[n,s]=Ai(e,r=>t.id===r.id?0:t.created_at===r.created_at?-1:t.created_at-r.created_at);return s||e.splice(n,0,t),e}function Ai(e,t){let n=0,s=e.length-1;for(;n<=s;){const r=Math.floor((n+s)/2),o=t(e[r]);if(o===0)return[r,!0];o<0?s=r-1:n=r+1}return[n,!1]}var hu=class{constructor(e){we(this,"value");we(this,"next",null);we(this,"prev",null);this.value=e}},pu=class{constructor(){we(this,"first");we(this,"last");this.first=null,this.last=null}enqueue(e){const t=new hu(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,e.value}},Ny=class{generateSecretKey(){return os.utils.randomPrivateKey()}getPublicKey(e){return et(os.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=et(os.getPublicKey(t)),n.id=Gs(n),n.sig=et(os.sign(Gs(n),t)),n[vn]=!0,n}verifyEvent(e){if(typeof e[vn]=="boolean")return e[vn];const t=Gs(e);if(t!==e.id)return e[vn]=!1,!1;try{const n=os.verify(e.sig,t,e.pubkey);return e[vn]=n,n}catch{return e[vn]=!1,!1}}};function Ly(e){if(!du(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function Gs(e){let t=gs(St.encode(Ly(e)));return et(t)}var Lr=new Ny,Uy=Lr.generateSecretKey,Oy=Lr.getPublicKey,pt=Lr.finalizeEvent,In=Lr.verifyEvent,My={};Ue(My,{Application:()=>M0,BadgeAward:()=>Wy,BadgeDefinition:()=>P0,BlockedRelaysList:()=>y0,BookmarkList:()=>h0,Bookmarksets:()=>C0,Calendar:()=>K0,CalendarEventRSVP:()=>z0,ChannelCreation:()=>wu,ChannelHideMessage:()=>Eu,ChannelMessage:()=>bu,ChannelMetadata:()=>mu,ChannelMuteUser:()=>xu,ClassifiedListing:()=>F0,ClientAuth:()=>Ru,CommunitiesList:()=>p0,CommunityDefinition:()=>Z0,CommunityPostApproval:()=>n0,Contacts:()=>Dy,CreateOrUpdateProduct:()=>N0,CreateOrUpdateStall:()=>B0,Curationsets:()=>I0,Date:()=>D0,DraftClassifiedListing:()=>j0,DraftLong:()=>U0,Emojisets:()=>O0,EncryptedDirectMessage:()=>qy,EncryptedDirectMessages:()=>Ky,EventDeletion:()=>zy,FileMetadata:()=>Jy,FileServerPreference:()=>m0,Followsets:()=>S0,GenericRepost:()=>Gy,Genericlists:()=>k0,HTTPAuth:()=>Bi,Handlerinformation:()=>G0,Handlerrecommendation:()=>W0,Highlights:()=>c0,InterestsList:()=>_0,Interestsets:()=>T0,JobFeedback:()=>o0,JobRequest:()=>s0,JobResult:()=>r0,Label:()=>t0,LightningPubRPC:()=>E0,LiveChatMessage:()=>Yy,LiveEvent:()=>H0,LongFormArticle:()=>L0,Metadata:()=>Vy,Mutelist:()=>u0,NWCWalletInfo:()=>b0,NWCWalletRequest:()=>Su,NWCWalletResponse:()=>x0,NostrConnect:()=>R0,OpenTimestamps:()=>Zy,Pinlist:()=>f0,ProblemTracker:()=>Qy,ProfileBadges:()=>A0,PublicChatsList:()=>g0,Reaction:()=>Ti,RecommendRelay:()=>jy,RelayList:()=>d0,Relaysets:()=>$0,Report:()=>Xy,Reporting:()=>e0,Repost:()=>Pi,SearchRelaysList:()=>v0,ShortTextNote:()=>Fy,Time:()=>q0,UserEmojiList:()=>w0,UserStatuses:()=>V0,Zap:()=>l0,ZapGoal:()=>i0,ZapRequest:()=>a0,classifyKind:()=>Hy,isEphemeralKind:()=>vu,isParameterizedReplaceableKind:()=>_u,isRegularKind:()=>gu,isReplaceableKind:()=>yu});function gu(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function yu(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function vu(e){return 2e4<=e&&e<3e4}function _u(e){return 3e4<=e&&e<4e4}function Hy(e){return gu(e)?"regular":yu(e)?"replaceable":vu(e)?"ephemeral":_u(e)?"parameterized":"unknown"}var Vy=0,Fy=1,jy=2,Dy=3,qy=4,Ky=4,zy=5,Pi=6,Ti=7,Wy=8,Gy=16,wu=40,mu=41,bu=42,Eu=43,xu=44,Zy=1040,Jy=1063,Yy=1311,Qy=1971,Xy=1984,e0=1984,t0=1985,n0=4550,s0=5999,r0=6999,o0=7e3,i0=9041,a0=9734,l0=9735,c0=9802,u0=1e4,f0=10001,d0=10002,h0=10003,p0=10004,g0=10005,y0=10006,v0=10007,_0=10015,w0=10030,m0=10096,b0=13194,E0=21e3,Ru=22242,Su=23194,x0=23195,R0=24133,Bi=27235,S0=3e4,k0=30001,$0=30002,C0=30003,I0=30004,A0=30008,P0=30009,T0=30015,B0=30017,N0=30018,L0=30023,U0=30024,O0=30030,M0=30078,H0=30311,V0=30315,F0=30402,j0=30403,D0=31922,q0=31923,K0=31924,z0=31925,W0=31989,G0=31990,Z0=34550;function J0(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1&&!e.ids.some(n=>t.id.startsWith(n))||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1&&!e.authors.some(n=>t.pubkey.startsWith(n)))return!1;for(let n in e)if(n[0]==="#"){let s=n.slice(1),r=e[`#${s}`];if(r&&!t.tags.find(([o,i])=>o===n.slice(1)&&r.indexOf(i)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function Y0(e,t){for(let n=0;n<e.length;n++)if(J0(e[n],t))return!0;return!1}var Q0={};Ue(Q0,{getHex64:()=>Ur,getInt:()=>ku,getSubscriptionId:()=>$u,matchEventId:()=>X0,matchEventKind:()=>tv,matchEventPubkey:()=>ev});function Ur(e,t){let n=t.length+3,s=e.indexOf(`"${t}":`)+n,r=e.slice(s).indexOf('"')+s+1;return e.slice(r,r+64)}function ku(e,t){let n=t.length,s=e.indexOf(`"${t}":`)+n+3,r=e.slice(s),o=Math.min(r.indexOf(","),r.indexOf("}"));return parseInt(r.slice(0,o),10)}function $u(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let s=t+7+1+n,r=e.slice(s+1,80).indexOf('"');if(r===-1)return null;let o=s+1+r;return e.slice(s+1,o)}function X0(e,t){return t===Ur(e,"id")}function ev(e,t){return t===Ur(e,"pubkey")}function tv(e,t){return t===ku(e,"kind")}var nv={};Ue(nv,{makeAuthEvent:()=>Cu});function Cu(e,t){return{kind:Ru,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function sv(){return new Promise(e=>{const t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var rv=e=>(e[vn]=!0,!0),Iu;try{Iu=WebSocket}catch{}var Ni=class{constructor(e,t){we(this,"url");we(this,"_connected",!1);we(this,"onclose",null);we(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));we(this,"baseEoseTimeout",4400);we(this,"connectionTimeout",4400);we(this,"openSubs",new Map);we(this,"connectionTimeoutHandle");we(this,"connectionPromise");we(this,"openCountRequests",new Map);we(this,"openEventPublishes",new Map);we(this,"ws");we(this,"incomingMessageQueue",new pu);we(this,"queueRunning",!1);we(this,"challenge");we(this,"serial",0);we(this,"verifyEvent");this.url=Un(e),this.verifyEvent=t.verifyEvent}static async connect(e,t){const n=new Ni(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new Iu(this.url)}catch(n){t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var s;t(n.message),this._connected&&((s=this.onclose)==null||s.call(this),this.closeAllSubscriptions("relay connection errored"),this._connected=!1)},this.ws.onclose=async()=>{var n;this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection closed"),this._connected=!1},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await sv();this.queueRunning=!1}handleNext(){var n,s;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const t=$u(e);if(t){const r=this.openSubs.get(t);if(!r)return;const o=Ur(e,"id"),i=(n=r.alreadyHaveEvent)==null?void 0:n.call(r,o);if((s=r.receivedEvent)==null||s.call(r,this,o),i)return}try{let r=JSON.parse(e);switch(r[0]){case"EVENT":{const o=this.openSubs.get(r[1]),i=r[2];this.verifyEvent(i)&&Y0(o.filters,i)&&o.onevent(i);return}case"COUNT":{const o=r[1],i=r[2],a=this.openCountRequests.get(o);a&&(a.resolve(i.count),this.openCountRequests.delete(o));return}case"EOSE":{const o=this.openSubs.get(r[1]);if(!o)return;o.receivedEose();return}case"OK":{const o=r[1],i=r[2],a=r[3],l=this.openEventPublishes.get(o);i?l.resolve(a):l.reject(new Error(a)),this.openEventPublishes.delete(o);return}case"CLOSED":{const o=r[1],i=this.openSubs.get(o);if(!i)return;i.closed=!0,i.close(r[2]);return}case"NOTICE":this.onnotice(r[1]);return;case"AUTH":{this.challenge=r[1];return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new Error("sending on closed connection");this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){if(!this.challenge)throw new Error("can't perform auth, no challenge was received");const t=await e(Cu(this.url,this.challenge)),n=new Promise((s,r)=>{this.openEventPublishes.set(t.id,{resolve:s,reject:r})});return this.send('["AUTH",'+JSON.stringify(t)+"]"),n}async publish(e){const t=new Promise((n,s)=>{this.openEventPublishes.set(e.id,{resolve:n,reject:s})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,s=new Promise((r,o)=>{this.openCountRequests.set(n,{resolve:r,reject:o})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e)+"]"),s}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||"sub:"+this.serial,s=new ov(this,n,e,t);return this.openSubs.set(n,s),s}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},ov=class{constructor(e,t,n,s){we(this,"relay");we(this,"id");we(this,"closed",!1);we(this,"eosed",!1);we(this,"filters");we(this,"alreadyHaveEvent");we(this,"receivedEvent");we(this,"onevent");we(this,"oneose");we(this,"onclose");we(this,"eoseTimeout");we(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=s.alreadyHaveEvent,this.receivedEvent=s.receivedEvent,this.eoseTimeout=s.eoseTimeout||e.baseEoseTimeout,this.oneose=s.oneose,this.onclose=s.onclose,this.onevent=s.onevent||(r=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,r)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;this.closed||(this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]"),this.closed=!0),this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},Go=class extends Ni{constructor(e){super(e,{verifyEvent:In})}static async connect(e){const t=new Go(e);return await t.connect(),t}},iv=class{constructor(e){we(this,"relays",new Map);we(this,"seenOn",new Map);we(this,"trackRelays",!1);we(this,"verifyEvent");we(this,"trustedRelayURLs",new Set);this.verifyEvent=e.verifyEvent}async ensureRelay(e,t){e=Un(e);let n=this.relays.get(e);return n||(n=new Ni(e,{verifyEvent:this.trustedRelayURLs.has(e)?rv:this.verifyEvent}),t!=null&&t.connectionTimeout&&(n.connectionTimeout=t.connectionTimeout),this.relays.set(e,n)),await n.connect(),n}close(e){e.map(Un).forEach(t=>{var n;(n=this.relays.get(t))==null||n.close()})}subscribeMany(e,t,n){this.trackRelays&&(n.receivedEvent=(f,d)=>{let h=this.seenOn.get(d);h||(h=new Set,this.seenOn.set(d,h)),h.add(f)});const s=new Set,r=[],o=[];let i=f=>{var d;o[f]=!0,o.filter(h=>h).length===e.length&&((d=n.oneose)==null||d.call(n),i=()=>{})};const a=[];let l=(f,d)=>{var h;i(f),a[f]=d,a.filter(w=>w).length===e.length&&((h=n.onclose)==null||h.call(n,a),l=()=>{})};const c=f=>{var h;if((h=n.alreadyHaveEvent)!=null&&h.call(n,f))return!0;const d=s.has(f);return s.add(f),d},u=Promise.all(e.map(Un).map(async(f,d,h)=>{if(h.indexOf(f)!==d){l(d,"duplicate url");return}let w;try{w=await this.ensureRelay(f,{connectionTimeout:n.maxWait?Math.max(n.maxWait*.8,n.maxWait-1e3):void 0})}catch(v){l(d,(v==null?void 0:v.message)||String(v));return}let y=w.subscribe(t,{...n,oneose:()=>i(d),onclose:v=>l(d,v),alreadyHaveEvent:c,eoseTimeout:n.maxWait});r.push(y)}));return{async close(){await u,r.forEach(f=>{f.close()})}}}subscribeManyEose(e,t,n){const s=this.subscribeMany(e,t,{...n,oneose(){s.close()}});return s}async querySync(e,t,n){return new Promise(async s=>{const r=[];this.subscribeManyEose(e,[t],{...n,onevent(o){r.push(o)},onclose(o){s(r)}})})}async get(e,t,n){t.limit=1;const s=await this.querySync(e,t,n);return s.sort((r,o)=>o.created_at-r.created_at),s[0]||null}publish(e,t){return e.map(Un).map(async(n,s,r)=>r.indexOf(n)!==s?Promise.reject("duplicate url"):(await this.ensureRelay(n)).publish(t))}},Ht=class extends iv{constructor(){super({verifyEvent:In})}},De={};Ue(De,{BECH32_REGEX:()=>Au,Bech32MaxSize:()=>Li,decode:()=>Ps,encodeBytes:()=>Or,naddrEncode:()=>hv,neventEncode:()=>dv,noteEncode:()=>uv,nprofileEncode:()=>fv,npubEncode:()=>cv,nrelayEncode:()=>pv,nsecEncode:()=>lv});var Li=5e3,Au=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function av(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function Ps(e){var r,o,i,a,l,c,u,f;let{prefix:t,words:n}=Yn.decode(e,Li),s=new Uint8Array(Yn.fromWords(n));switch(t){case"nprofile":{let d=js(s);if(!((r=d[0])!=null&&r[0]))throw new Error("missing TLV 0 for nprofile");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:et(d[0][0]),relays:d[1]?d[1].map(h=>Lt.decode(h)):[]}}}case"nevent":{let d=js(s);if(!((o=d[0])!=null&&o[0]))throw new Error("missing TLV 0 for nevent");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(d[2]&&d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(d[3]&&d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:et(d[0][0]),relays:d[1]?d[1].map(h=>Lt.decode(h)):[],author:(i=d[2])!=null&&i[0]?et(d[2][0]):void 0,kind:(a=d[3])!=null&&a[0]?parseInt(et(d[3][0]),16):void 0}}}case"naddr":{let d=js(s);if(!((l=d[0])!=null&&l[0]))throw new Error("missing TLV 0 for naddr");if(!((c=d[2])!=null&&c[0]))throw new Error("missing TLV 2 for naddr");if(d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((u=d[3])!=null&&u[0]))throw new Error("missing TLV 3 for naddr");if(d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Lt.decode(d[0][0]),pubkey:et(d[2][0]),kind:parseInt(et(d[3][0]),16),relays:d[1]?d[1].map(h=>Lt.decode(h)):[]}}}case"nrelay":{let d=js(s);if(!((f=d[0])!=null&&f[0]))throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:Lt.decode(d[0][0])}}case"nsec":return{type:t,data:s};case"npub":case"note":return{type:t,data:et(s)};default:throw new Error(`unknown prefix ${t}`)}}function js(e){let t={},n=e;for(;n.length>0;){let s=n[0],r=n[1],o=n.slice(2,2+r);if(n=n.slice(2+r),o.length<r)throw new Error(`not enough data to read on TLV ${s}`);t[s]=t[s]||[],t[s].push(o)}return t}function lv(e){return Or("nsec",e)}function cv(e){return Or("npub",Jn(e))}function uv(e){return Or("note",Jn(e))}function Ts(e,t){let n=Yn.toWords(t);return Yn.encode(e,n,Li)}function Or(e,t){return Ts(e,t)}function fv(e){let t=Mr({0:[Jn(e.pubkey)],1:(e.relays||[]).map(n=>St.encode(n))});return Ts("nprofile",t)}function dv(e){let t;e.kind!==void 0&&(t=av(e.kind));let n=Mr({0:[Jn(e.id)],1:(e.relays||[]).map(s=>St.encode(s)),2:e.author?[Jn(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Ts("nevent",n)}function hv(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=Mr({0:[St.encode(e.identifier)],1:(e.relays||[]).map(s=>St.encode(s)),2:[Jn(e.pubkey)],3:[new Uint8Array(t)]});return Ts("naddr",n)}function pv(e){let t=Mr({0:[St.encode(e)]});return Ts("nrelay",t)}function Mr(e){let t=[];return Object.entries(e).reverse().forEach(([n,s])=>{s.forEach(r=>{let o=new Uint8Array(r.length+2);o.set([parseInt(n)],0),o.set([r.length],1),o.set(r,2),t.push(o)})}),lr(...t)}var gv=/\bnostr:((note|npub|naddr|nevent|nprofile)1\w+)\b|#\[(\d+)\]/g;function Pu(e){let t=[];for(let n of e.content.matchAll(gv))if(n[2])try{let{type:s,data:r}=Ps(n[1]);switch(s){case"npub":{t.push({text:n[0],profile:{pubkey:r,relays:[]}});break}case"nprofile":{t.push({text:n[0],profile:r});break}case"note":{t.push({text:n[0],event:{id:r,relays:[]}});break}case"nevent":{t.push({text:n[0],event:r});break}case"naddr":{t.push({text:n[0],address:r});break}}}catch{}else if(n[3]){let s=parseInt(n[3],10),r=e.tags[s];if(!r)continue;switch(r[0]){case"p":{t.push({text:n[0],profile:{pubkey:r[1],relays:r[2]?[r[2]]:[]}});break}case"e":{t.push({text:n[0],event:{id:r[1],relays:r[2]?[r[2]]:[]}});break}case"a":{try{let[o,i,a]=r[1].split(":");t.push({text:n[0],address:{identifier:a,pubkey:i,kind:parseInt(o,10),relays:r[2]?[r[2]]:[]}})}catch{}break}}}return t}var yv={};Ue(yv,{decrypt:()=>vv,encrypt:()=>Tu});async function Tu(e,t,n){const s=e instanceof Uint8Array?et(e):e,r=es.getSharedSecret(s,"02"+t),o=Bu(r);let i=Uint8Array.from(Yc(16)),a=St.encode(n),l=lu(o,i).encrypt(a),c=Vt.encode(new Uint8Array(l)),u=Vt.encode(new Uint8Array(i.buffer));return`${c}?iv=${u}`}async function vv(e,t,n){const s=e instanceof Uint8Array?et(e):e;let[r,o]=n.split("?iv="),i=es.getSharedSecret(s,"02"+t),a=Bu(i),l=Vt.decode(o),c=Vt.decode(r),u=lu(a,l).decrypt(c);return Lt.decode(u)}function Bu(e){return e.slice(1,33)}var Nu={};Ue(Nu,{NIP05_REGEX:()=>Lu,isValid:()=>mv,queryProfile:()=>Uu,searchDomain:()=>wv,useFetchImplementation:()=>_v});var Lu=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,Hr;try{Hr=fetch}catch{}function _v(e){Hr=e}async function wv(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`;return(await(await Hr(n,{redirect:"error"})).json()).names}catch{return{}}}async function Uu(e){var o;const t=e.match(Lu);if(!t)return null;const[n,s="_",r]=t;try{const i=`https://${r}/.well-known/nostr.json?name=${s}`,a=await(await Hr(i,{redirect:"error"})).json();let l=a.names[s];return l?{pubkey:l,relays:(o=a.relays)==null?void 0:o[l]}:null}catch{return null}}async function mv(e,t){let n=await Uu(t);return n?n.pubkey===e:!1}var kt={};Ue(kt,{parse:()=>bv});function bv(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[]},n=[];for(const s of e.tags)s[0]==="e"&&s[1]&&n.push(s),s[0]==="p"&&s[1]&&t.profiles.push({pubkey:s[1],relays:s[2]?[s[2]]:[]});for(let s=0;s<n.length;s++){const r=n[s],[o,i,a,l]=r,c={id:i,relays:a?[a]:[]},u=s===0,f=s===n.length-1;if(l==="root"){t.root=c;continue}if(l==="reply"){t.reply=c;continue}if(l==="mention"){t.mentions.push(c);continue}if(u){t.root=c;continue}if(f){t.reply=c;continue}t.mentions.push(c)}return t}var Ev={};Ue(Ev,{fetchRelayInformation:()=>Rv,useFetchImplementation:()=>xv});var Ou;try{Ou=fetch}catch{}function xv(e){Ou=e}async function Rv(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var Sv={};Ue(Sv,{getPow:()=>Mu,minePow:()=>kv});function Mu(e){let t=0;for(let n=0;n<e.length;n++){const s=parseInt(e[n],16);if(s===0)t+=4;else{t+=Math.clz32(s)-28;break}}return t}function kv(e,t){let n=0;const s=e,r=["nonce",n.toString(),t.toString()];for(s.tags.push(r);;){const o=Math.floor(new Date().getTime()/1e3);if(o!==s.created_at&&(n=0,s.created_at=o),r[1]=(++n).toString(),s.id=Gs(s),Mu(s.id)>=t)break}return s}var $v={};Ue($v,{finishRepostEvent:()=>Cv,getRepostedEvent:()=>Iv,getRepostedEventPointer:()=>Hu});function Cv(e,t,n,s){return pt({kind:Pi,tags:[...e.tags??[],["e",t.id,n],["p",t.pubkey]],content:e.content===""?"":JSON.stringify(t),created_at:e.created_at},s)}function Hu(e){if(e.kind!==Pi)return;let t,n;for(let s=e.tags.length-1;s>=0&&(t===void 0||n===void 0);s--){const r=e.tags[s];r.length>=2&&(r[0]==="e"&&t===void 0?t=r:r[0]==="p"&&n===void 0&&(n=r))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(s=>typeof s=="string"),author:n==null?void 0:n[1]}}function Iv(e,{skipVerification:t}={}){const n=Hu(e);if(n===void 0||e.content==="")return;let s;try{s=JSON.parse(e.content)}catch{return}if(s.id===n.id&&!(!t&&!In(s)))return s}var Av={};Ue(Av,{NOSTR_URI_REGEX:()=>Vr,parse:()=>Tv,test:()=>Pv});var Vr=new RegExp(`nostr:(${Au.source})`);function Pv(e){return typeof e=="string"&&new RegExp(`^${Vr.source}$`).test(e)}function Tv(e){const t=e.match(new RegExp(`^${Vr.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:Ps(t[1])}}var Bv={};Ue(Bv,{finishReactionEvent:()=>Nv,getReactedEventPointer:()=>Lv});function Nv(e,t,n){const s=t.tags.filter(r=>r.length>=2&&(r[0]==="e"||r[0]==="p"));return pt({...e,kind:Ti,tags:[...e.tags??[],...s,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function Lv(e){if(e.kind!==Ti)return;let t,n;for(let s=e.tags.length-1;s>=0&&(t===void 0||n===void 0);s--){const r=e.tags[s];r.length>=2&&(r[0]==="e"&&t===void 0?t=r:r[0]==="p"&&n===void 0&&(n=r))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(s=>s!==void 0),author:n[1]}}var Uv={};Ue(Uv,{matchAll:()=>Ov,regex:()=>Ui,replaceAll:()=>Mv});var Ui=()=>new RegExp(`\\b${Vr.source}\\b`,"g");function*Ov(e){const t=e.matchAll(Ui());for(const n of t)try{const[s,r]=n;yield{uri:s,value:r,decoded:Ps(r),start:n.index,end:n.index+s.length}}catch{}}function Mv(e,t){return e.replaceAll(Ui(),(n,s)=>t({uri:n,value:s,decoded:Ps(s)}))}var Hv={};Ue(Hv,{channelCreateEvent:()=>Vv,channelHideMessageEvent:()=>Dv,channelMessageEvent:()=>jv,channelMetadataEvent:()=>Fv,channelMuteUserEvent:()=>qv});var Vv=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return pt({kind:wu,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},Fv=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return pt({kind:mu,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},jv=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),pt({kind:bu,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},Dv=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return pt({kind:Eu,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},qv=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return pt({kind:xu,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},Kv={};Ue(Kv,{EMOJI_SHORTCODE_REGEX:()=>Vu,matchAll:()=>zv,regex:()=>Oi,replaceAll:()=>Wv});var Vu=/:(\w+):/,Oi=()=>new RegExp(`\\B${Vu.source}\\B`,"g");function*zv(e){const t=e.matchAll(Oi());for(const n of t)try{const[s,r]=n;yield{shortcode:s,name:r,start:n.index,end:n.index+s.length}}catch{}}function Wv(e,t){return e.replaceAll(Oi(),(n,s)=>t({shortcode:n,name:s}))}var Gv={};Ue(Gv,{useFetchImplementation:()=>Zv,validateGithub:()=>Jv});var Mi;try{Mi=fetch}catch{}function Zv(e){Mi=e}async function Jv(e,t,n){try{return await(await Mi(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var Yv={};Ue(Yv,{default:()=>t_,v2:()=>Fu});var Qv=new TextDecoder,qe={minPlaintextSize:1,maxPlaintextSize:65535,utf8Encode:Gc,utf8Decode(e){return Qv.decode(e)},getConversationKey(e,t){const n=es.getSharedSecret(e,"02"+t).subarray(1,33);return Cy(gs,n,"nip44-v2")},getMessageKeys(e,t){const n=Iy(gs,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}},calcPaddedLen(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)},writeU16BE(e){if(!Number.isSafeInteger(e)||e<qe.minPlaintextSize||e>qe.maxPlaintextSize)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t},pad(e){const t=qe.utf8Encode(e),n=t.length,s=qe.writeU16BE(n),r=new Uint8Array(qe.calcPaddedLen(n)-n);return lr(s,t,r)},unpad(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<qe.minPlaintextSize||t>qe.maxPlaintextSize||n.length!==t||e.length!==2+qe.calcPaddedLen(t))throw new Error("invalid padding");return qe.utf8Decode(n)},hmacAad(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const s=lr(n,t);return Nr(gs,e,s)},decodePayload(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=Vt.decode(e)}catch(o){throw new Error("invalid base64: "+o.message)}const s=n.length;if(s<99||s>65603)throw new Error("invalid data length: "+s);const r=n[0];if(r!==2)throw new Error("unknown encryption version "+r);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}};function Xv(e,t,n=Yc(32)){const{chacha_key:s,chacha_nonce:r,hmac_key:o}=qe.getMessageKeys(t,n),i=qe.pad(e),a=uu(s,r,i),l=qe.hmacAad(o,a,n);return Vt.encode(lr(new Uint8Array([2]),n,a,l))}function e_(e,t){const{nonce:n,ciphertext:s,mac:r}=qe.decodePayload(e),{chacha_key:o,chacha_nonce:i,hmac_key:a}=qe.getMessageKeys(t,n),l=qe.hmacAad(a,s,n);if(!ly(l,r))throw new Error("invalid MAC");const c=uu(o,i,s);return qe.unpad(c)}var Fu={utils:qe,encrypt:Xv,decrypt:e_},t_={v2:Fu},n_={};Ue(n_,{makeNwcRequestEvent:()=>r_,parseConnectionString:()=>s_});function s_(e){const{pathname:t,searchParams:n}=new URL(e),s=t,r=n.get("relay"),o=n.get("secret");if(!s||!r||!o)throw new Error("invalid connection string");return{pubkey:s,relay:r,secret:o}}async function r_(e,t,n){const r=await Tu(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),o={kind:Su,created_at:Math.round(Date.now()/1e3),content:r,tags:[["p",e]]};return pt(o,t)}var o_={};Ue(o_,{getZapEndpoint:()=>a_,makeZapReceipt:()=>u_,makeZapRequest:()=>l_,useFetchImplementation:()=>i_,validateZapRequest:()=>c_});var Hi;try{Hi=fetch}catch{}function i_(e){Hi=e}async function a_(e){try{let t="",{lud06:n,lud16:s}=JSON.parse(e.content);if(n){let{words:i}=Yn.decode(n,1e3),a=Yn.fromWords(i);t=Lt.decode(a)}else if(s){let[i,a]=s.split("@");t=new URL(`/.well-known/lnurlp/${i}`,`https://${a}`).toString()}else return null;let o=await(await Hi(t)).json();if(o.allowsNostr&&o.nostrPubkey)return o.callback}catch{}return null}function l_({profile:e,event:t,amount:n,relays:s,comment:r=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let o={kind:9734,created_at:Math.round(Date.now()/1e3),content:r,tags:[["p",e],["amount",n.toString()],["relays",...s]]};return t&&o.tags.push(["e",t]),o}function c_(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!du(t))return"Zap request is not a valid Nostr event.";if(!In(t))return"Invalid signature on zap request.";let n=t.tags.find(([o,i])=>o==="p"&&i);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let s=t.tags.find(([o,i])=>o==="e"&&i);return s&&!s[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([o,i])=>o==="relays"&&i)?null:"Zap request doesn't have a 'relays' tag."}function u_({zapRequest:e,preimage:t,bolt11:n,paidAt:s}){let r=JSON.parse(e),o=r.tags.filter(([a])=>a==="e"||a==="p"||a==="a"),i={kind:9735,created_at:Math.round(s.getTime()/1e3),content:"",tags:[...o,["P",r.pubkey],["bolt11",n],["description",e]]};return t&&i.tags.push(["preimage",t]),i}var f_={};Ue(f_,{getToken:()=>d_,hashPayload:()=>Vi,unpackEventFromToken:()=>Du,validateEvent:()=>Zu,validateEventKind:()=>Ku,validateEventMethodTag:()=>Wu,validateEventPayloadTag:()=>Gu,validateEventTimestamp:()=>qu,validateEventUrlTag:()=>zu,validateToken:()=>h_});var ju="Nostr ";async function d_(e,t,n,s=!1,r){const o={kind:Bi,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};r&&o.tags.push(["payload",Vi(r)]);const i=await n(o);return(s?ju:"")+Vt.encode(St.encode(JSON.stringify(i)))}async function h_(e,t,n){const s=await Du(e).catch(o=>{throw o});return await Zu(s,t,n).catch(o=>{throw o})}async function Du(e){if(!e)throw new Error("Missing token");e=e.replace(ju,"");const t=Lt.decode(Vt.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function qu(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function Ku(e){return e.kind===Bi}function zu(e,t){const n=e.tags.find(s=>s[0]==="u");return n?n.length>0&&n[1]===t:!1}function Wu(e,t){const n=e.tags.find(s=>s[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function Vi(e){const t=gs(St.encode(JSON.stringify(e)));return et(t)}function Gu(e,t){const n=e.tags.find(r=>r[0]==="payload");if(!n)return!1;const s=Vi(t);return n.length>0&&n[1]===s}async function Zu(e,t,n,s){if(!In(e))throw new Error("Invalid nostr event, signature invalid");if(!Ku(e))throw new Error("Invalid nostr event, kind invalid");if(!qu(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!zu(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!Wu(e,n))throw new Error("Invalid nostr event, method tag invalid");if(s&&typeof s=="object"&&Object.keys(s).length>0&&!Gu(e,s))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}const Ju=e=>($t("data-v-393546d0"),e=e(),Ct(),e),p_={class:"event-details"},g_={key:0},y_={class:"highlight"},v_={key:1},__={key:0,class:"highlight"},w_={key:1,class:"event-details__no-user"},m_=Ju(()=>_("div",null,"No info about author on this relay.",-1)),b_={class:"highlight"},E_={key:2},x_={key:0,class:"highlight"},R_={key:1,class:"event-details__no-user"},S_=Ju(()=>_("div",null,"No info about author on this relay.",-1)),k_={class:"highlight"},$_=Oe({__name:"RawData",props:{event:{},authorEvent:{},isUserEvent:{}},setup(e){const t=e,n=j(1),s=j(!0),r=j(),o=j({});It(()=>{const{event:l,authorEvent:c}=t;r.value=i(l),c&&(o.value=i(c)),t.authorEvent&&(s.value=t.event.id!==t.authorEvent.id)});const i=l=>{const{id:c,pubkey:u,created_at:f,kind:d,tags:h,content:w,sig:y}=l;return{id:c,pubkey:u,created_at:f,kind:d,tags:h,content:w,sig:y}},a=l=>{n.value=l};return(l,c)=>(C(),O("div",p_,[_("div",{class:Pe(["event-details__header",{"event-details__header_user":l.isUserEvent}])},[_("span",{onClick:c[0]||(c[0]=()=>a(1)),class:Pe(["event-details__tab",{"event-details__tab_active":n.value===1}])},"Note",2),s.value?(C(),O("span",{key:0,onClick:c[1]||(c[1]=()=>a(2)),class:Pe(["event-details__tab",{"event-details__tab_active":n.value===2}])},"Author",2)):ce("",!0),_("span",{onClick:c[2]||(c[2]=()=>a(3)),class:Pe(["event-details__tab",{"event-details__tab_active":n.value===3}])},"Author content",2)],2),n.value===1?(C(),O("div",g_,[_("pre",y_,le(JSON.stringify(r.value,null,2)),1)])):ce("",!0),s.value&&n.value===2?(C(),O("div",v_,[l.authorEvent?(C(),O("pre",__,le(JSON.stringify(o.value,null,2)),1)):(C(),O("div",w_,[m_,_("pre",b_,"pubkey: "+le(l.event.pubkey)+` 
npub: `+le(ue(De).npubEncode(l.event.pubkey)),1)]))])):ce("",!0),n.value===3?(C(),O("div",E_,[l.event.author?(C(),O("pre",x_,le(JSON.stringify(l.event.author,null,2)),1)):(C(),O("div",R_,[S_,_("pre",k_,"pubkey: "+le(l.event.pubkey)+`
npub: `+le(ue(De).npubEncode(l.event.pubkey)),1)]))])):ce("",!0)]))}});const Ie=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},Yu=Ie($_,[["__scopeId","data-v-393546d0"]]),C_={},I_={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-heart",viewBox:"0 0 16 16"},A_=_("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"},null,-1),P_=[A_];function T_(e,t){return C(),O("svg",I_,P_)}const B_=Ie(C_,[["render",T_]]),N_={},L_={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-repeat",viewBox:"0 0 16 16"},U_=_("path",{d:"M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192m3.81.086a.5.5 0 0 1 .67.225A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.25.25 0 0 1 0-.384l2.36-1.966a.25.25 0 0 1 .41.192V12h6a4 4 0 0 0 3.585-5.777.5.5 0 0 1 .225-.67Z"},null,-1),O_=[U_];function M_(e,t){return C(),O("svg",L_,O_)}const H_=Ie(N_,[["render",M_]]),V_={},F_={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-reply",viewBox:"0 0 16 16"},j_=_("path",{d:"M6.598 5.013a.144.144 0 0 1 .202.134V6.3a.5.5 0 0 0 .5.5c.667 0 2.013.005 3.3.822.984.624 1.99 1.76 2.595 3.876-1.02-.983-2.185-1.516-3.205-1.799a8.74 8.74 0 0 0-1.921-.306 7.404 7.404 0 0 0-.798.008h-.013l-.005.001h-.001L7.3 9.9l-.05-.498a.5.5 0 0 0-.45.498v1.153c0 .108-.11.176-.202.134L2.614 8.254a.503.503 0 0 0-.042-.028.147.147 0 0 1 0-.252.499.499 0 0 0 .042-.028l3.984-2.933zM7.8 10.386c.068 0 .143.003.223.006.434.02 1.034.086 1.7.271 1.326.368 2.896 1.202 3.94 3.08a.5.5 0 0 0 .933-.305c-.464-3.71-1.886-5.662-3.46-6.66-1.245-.79-2.527-.942-3.336-.971v-.66a1.144 1.144 0 0 0-1.767-.96l-3.994 2.94a1.147 1.147 0 0 0 0 1.946l3.994 2.94a1.144 1.144 0 0 0 1.767-.96v-.667z"},null,-1),D_=[j_];function q_(e,t){return C(),O("svg",F_,D_)}const K_=Ie(V_,[["render",q_]]),z_={},W_={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-chat",viewBox:"0 0 16 16"},G_=_("path",{d:"M2.678 11.894a1 1 0 0 1 .287.801 11 11 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8 8 0 0 0 8 14c3.996 0 7-2.807 7-6s-3.004-6-7-6-7 2.808-7 6c0 1.468.617 2.83 1.678 3.894m-.493 3.905a22 22 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a10 10 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9 9 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105"},null,-1),Z_=[G_];function J_(e,t){return C(),O("svg",W_,Z_)}const Y_=Ie(z_,[["render",J_]]),Q_={class:"actions-bar"},X_={class:"actions-bar__action actions-bar__num"},e1={class:"actions_bar-number"},t1={class:"actions-bar__action actions-bar__num"},n1={class:"actions_bar-number"},s1={class:"actions_bar-number"},r1=Oe({__name:"EventActionsBar",props:{likes:{},reposts:{},replies:{},hasReplyBtn:{type:Boolean}},emits:["showReplyField","handleShowReplies","handleHideReplies"],setup(e,{emit:t}){const n=t,s=()=>{n("showReplyField")},r=()=>{n("handleShowReplies")};return(o,i)=>(C(),O("div",Q_,[_("span",X_,[_e(B_,{class:"actions-bar__icon"}),_("span",e1,le(o.likes),1)]),_("span",t1,[_e(H_,{class:"actions-bar__icon"}),_("span",n1,le(o.reposts),1)]),o.hasReplyBtn?(C(),O("span",{key:0,onClick:r,class:"actions-bar__action actions-bar__num actions-bar__replies"},[_e(Y_,{class:"actions-bar__icon"}),_("span",s1,le(o.replies),1)])):ce("",!0),o.hasReplyBtn?(C(),O("span",{key:1,onClick:s,class:"actions-bar__action actions-bar__reply"},[_e(K_,{class:"actions-bar__icon"})])):ce("",!0)]))}});const Fr=dn("npub",()=>{const e=j(""),t=j("");function n(r){e.value=r}function s(r){t.value=r}return{npubInput:e,cachedUrlNpub:t,updateNpubInput:n,updateCachedUrl:s}}),Fi=dn("user",()=>{const e=j(!1);function t(n){e.value=n}return{isRoutingUser:e,updateRoutingStatus:t}}),o1={class:"event-content"},i1={key:0},a1={key:1},l1=["onClick"],c1=Oe({__name:"EventText",props:{event:{},slice:{}},setup(e){const t=e,n=Cr(),s=Fr(),r=Fi(),o=j([]);It(()=>{o.value=a(t.event,t.slice)}),di(()=>{o.value=a(t.event,t.slice)});const i=(f,d)=>{let h=[],w="";for(const y of f){const v=w.length;if(w+=y.value,w.length<=d)h.push(y);else{if(y.type==="text"){const m=d-v;y.value=y.value.slice(0,m)}h.push(y),h.push({type:"text",value:"..."});break}}return h},a=(f,d)=>{const h=f.content,w=f.references,y=[];w.forEach(b=>{let E=h.indexOf(b.text);if(y.includes(E))for(const $ of y){if(!y.includes(E))break;E=h.indexOf(b.text,E+b.text.length)}b.textIndex=E,y.push(E)}),w.sort((b,E)=>b.textIndex-E.textIndex);let v=[],m=h;return w.forEach(b=>{const E=m.indexOf(b.text),$=m.slice(0,E),N=m.slice(E+b.text.length),k=l(b);v.push({type:"text",value:$}),v.push({type:"profile",value:k,npub:c(b.profile.pubkey)}),m=N}),v.push({type:"text",value:m}),d&&(v=i(v,d)),v},l=f=>{const d=f.profile_details,h=c(f.profile.pubkey);return`@${d.name||d.username||d.display_name||`${h.slice(0,15)}...`}`},c=f=>De.npubEncode(f),u=f=>{f&&(s.updateNpubInput(f),r.updateRoutingStatus(!0),n.push({path:`/user/${f}`}))};return(f,d)=>(C(),O("div",o1,[(C(!0),O(Re,null,ct(o.value,h=>(C(),O("span",null,[h.type==="text"?(C(),O("span",i1,le(h.value),1)):ce("",!0),h.type==="profile"?(C(),O("span",a1,[_("a",{onClick:Ao(()=>u(h.npub),["prevent"]),href:"#"},le(h.value),9,l1)])):ce("",!0)]))),256))]))}});const u1=Ie(c1,[["__scopeId","data-v-9afb4f87"]]);function f1(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function d1(e,...t){if(!f1(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */new Uint8Array(new Uint32Array([287454020]).buffer)[0];const h1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function p1(e){d1(e);let t="";for(let n=0;n<e.length;n++)t+=h1[e[n]];return t}const Tt={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ol(e){if(e>=Tt._0&&e<=Tt._9)return e-Tt._0;if(e>=Tt._A&&e<=Tt._F)return e-(Tt._A-10);if(e>=Tt._a&&e<=Tt._f)return e-(Tt._a-10)}function il(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const s=new Uint8Array(n);for(let r=0,o=0;r<n;r++,o+=2){const i=ol(e.charCodeAt(o)),a=ol(e.charCodeAt(o+1));if(i===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}s[r]=i*16+a}return s}const An=dn("nsec",()=>{const e=j(""),t=j(!1),n=j("");function s(h){e.value=h}function r(h){n.value=h}function o(h){t.value=h}function i(){try{const h=a();if(!h)throw new Error("Invalid private key");return Oy(h)}catch{return""}}function a(){try{return e.value.indexOf("nsec")===-1?il(e.value):De.decode(e.value).data}catch{return null}}function l(){const h=a();if(!h)return"";try{return p1(h)}catch{return""}}function c(){try{return e.value.indexOf("nsec")===-1?De.nsecEncode(il(e.value)):e.value}catch{return""}}function u(){return e.value.length>0&&d()}function f(){return e.value.length>0&&!d()}function d(){return e.value.length===0?!1:i().length>0}return{nsec:e,updateNsec:s,rememberMe:t,setRememberMe:o,isNsecValid:d,isValidNsecPresented:u,isNotValidNsecPresented:f,getPubkey:i,cachedNsec:n,updateCachedNsec:r,getPrivkeyBytes:a,getPrivkeyHex:l,getPrivkey:c}}),jr=dn("images",()=>{const e=j(!1);function t(n){e.value=n}return{showImages:e,updateShowImages:t}}),{normalizeURL:Bt}=As,Pn=dn("relay",()=>{const e=j({}),t=j(!1),n=j(""),s=j(""),r=j(""),o=j(0),i=j([]),a=j([]),l=j([]),c=j([]),u=Te(()=>{const D=new Set([...l.value,...c.value]),R=[],P=[];return D.forEach(A=>{l.value.includes(A)&&!c.value.includes(A)?R.push({url:A,type:"read"}):P.push({url:A,type:"write"})}),[...R,...P].sort((A,T)=>A.url.localeCompare(T.url))}),f=Te(()=>u.value.map(D=>D.url)),d=Te(()=>{const D=n.value,R=f.value;return R.includes(D)?R:[D,...R]}),h=Te(()=>{const D=l.value,R=c.value,P=new Set([...D,...R]),A=[];return P.forEach(T=>{D.includes(T)&&R.includes(T)?A.push(["r",T]):D.includes(T)?A.push(["r",T,"read"]):R.includes(T)&&A.push(["r",T,"write"])}),A}),w=Te(()=>a.value.map(D=>D.replace("wss://","").replace("/","")).join(", ")),y=Te(()=>n.value.length>0);function v(D){e.value=D}function m(D){t.value=D}function b(D){n.value=D==="custom"||D===""?D:Bt(D)}function E(D){a.value=D.map(R=>Bt(R))}function $(D){l.value=D.map(R=>Bt(R))}function N(D){c.value=D.map(R=>Bt(R))}function k(D){c.value.includes(D)||c.value.push(Bt(D))}function F(D){const R=Bt(D);if(!R||f.value.includes(R))return!1;l.value.push(R)}function V(D){c.value=c.value.filter(R=>R!==D)}function W(D){l.value=l.value.filter(R=>R!==D),c.value=c.value.filter(R=>R!==D),a.value=a.value.filter(R=>R!==D)}function Z(D){s.value=Bt(D)}function te(D){r.value=Bt(D)}function M(D){o.value=D}function Q(D,R){i.value[D]=R.length?Bt(R):""}return{isConnectingToRelay:t,setConnectionToRelayStatus:m,connectedRelayUrl:n,setConnectedRelayUrl:b,connectedReedRelayUrls:a,setConnectedReedRelayUrls:E,selectedRelay:s,setSelectedRelay:Z,customRelayUrl:r,setCustomRelayUrl:te,currentRelay:e,updateCurrentRelay:v,additionalRelaysCountForSignedEvent:o,updateAdditionalRelaysCountForSignedEvent:M,additionalRelaysUrlsForSignedEvent:i,updateRelayAdditionalRelaysUrlsForSignedEvent:Q,connectedRelaysPrettyStr:w,reedRelays:l,writeRelays:c,setReedRelays:$,setWriteRelays:N,isConnectedToRelay:y,allRelays:u,removeWriteRelay:V,addWriteRelay:k,removeUserRelay:W,addUserRelay:F,nip65Tags:h,allRelaysUrls:f,allRelaysUrlsWithConnectedRelay:d}}),Dn=async(e,t=[],n)=>{const s=Xu(e,t,n),r=ef(e,t,n),o=Qu(e,t,n),i=y1(e,t,n);return Promise.all([s,r,o,i])},Zo=async(e,t,n=[],s)=>{const r=Xu(t,n,s),o=ef(t,n,s),i=Qu(t,n,s),a=v1(t,n,s);return g1(e,t),Promise.all([r,o,i,a])},g1=(e,t)=>{for(const n of t)n.replyingTo={user:e.author,pubkey:e.pubkey}},y1=async(e,t=[],n)=>{var i;if(!t.length)return e;const s=n||new Ht,r=e.map(a=>a.id),o=await s.querySync(t,{kinds:[1],"#e":r});for(const a of e){let l=0;for(const c of o){const u=kt.parse(c);!u.reply&&((i=u==null?void 0:u.root)==null?void 0:i.id)===a.id&&l++}a.replies=l}},v1=async(e,t=[],n)=>{var i;if(!t.length)return e;const s=n||new Ht,r=e.map(a=>a.id),o=await s.querySync(t,{kinds:[1],"#e":r});for(const a of e){let l=0;for(const c of o){const u=kt.parse(c);((i=u==null?void 0:u.reply)==null?void 0:i.id)===a.id&&l++}a.replies=l}},Ss=(e,t)=>{const n=[...e],s=[];return n.forEach(r=>{let o=!1;t.forEach(i=>{if(!o&&r.pubkey===i.pubkey){const a=r;a.author=JSON.parse(i.content),a.authorEvent=i,s.push(r),o=!0}}),o||s.push(r)}),s},Qu=async(e,t=[],n)=>{if(!t.length)return e;let s=n||new Ht;for(const r of e){if(!_1(r.content)){r.references=[];continue}let o=Pu(r);const i=[];for(let c=0;c<o.length;c++){let{profile:u}=o[c];if(!u)continue;const f=s.get(t,{kinds:[0],limit:1,authors:[u.pubkey]});i.push(f)}const a=await Promise.all(i),l=[];for(let c=0;c<o.length;c++){let{profile:u}=o[c];u&&a.forEach((f,d)=>{if((f==null?void 0:f.pubkey)===(u==null?void 0:u.pubkey)){const h=o[d];h.profile_details=JSON.parse((f==null?void 0:f.content)||"{}"),l.push(h)}})}r.references=l}},Xu=async(e,t=[],n)=>{if(!t.length)return e;const s=e.map(i=>i.id),o=await(n||new Ht).querySync(t,{kinds:[7],"#e":s});e.forEach(i=>{let a=0;o.forEach(l=>{var u;const c=(u=l.tags.reverse().find(f=>f[0]==="e"))==null?void 0:u[1];c&&c===i.id&&l.content&&w1(l.content)&&a++}),i.likes=a})},ef=async(e,t=[],n)=>{if(!t.length)return e;const s=e.map(i=>i.id),o=await(n||new Ht).querySync(t,{kinds:[6],"#e":s});e.forEach(i=>{let a=0;o.forEach(l=>{var u;const c=(u=l.tags.find(f=>f[0]==="e"))==null?void 0:u[1];c&&c===i.id&&a++}),i.reposts=a})},_1=e=>e.indexOf("nostr:npub")!==-1||e.indexOf("nostr:nprofile1")!==-1,w1=e=>!["-","👎"].includes(e),po=(e,t=3e3)=>{try{const n=new WebSocket(e);return new Promise(s=>{const r=setTimeout(()=>{n.close(),s(!1)},t);n.onopen=()=>{clearTimeout(r),n.close(),s(!0)},n.onerror=()=>{clearTimeout(r),n.close(),s(!1)}})}catch{return Promise.resolve(!1)}},al=e=>/^[a-f0-9]{64}$/.test(e),m1=(e,t,n)=>{const s=new Promise(o=>{setTimeout(()=>{o(null)},n)}),r=new Promise(o=>{const i=e.subscribe(t,{onevent(a){o(a)},oneose(){i.close()}})});return Promise.race([r,s])},tf=e=>{const{tags:t}=e,n={read:[],write:[],all:[]};return t.length&&t.forEach(s=>{if(s[0]==="r"){const o=As.normalizeURL(s[1]),i=s[2];i?i==="read"?n.read.push(o):i==="write"&&n.write.push(o):(n.read.push(o),n.write.push(o)),n.all.push({url:o,type:i||"write"})}}),n},nf=async(e,t,n)=>{const s=e.map(async r=>{const o=await t.publish([r],n),i=(await Promise.allSettled(o))[0];return{relay:r,success:i.status==="fulfilled"}});return await Promise.all(s)},sf=e=>new Date(e*1e3).toLocaleString("default",{day:"numeric",month:"short",hour:"numeric",minute:"numeric"}),b1={},E1={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-link-45deg",viewBox:"0 0 16 16"},x1=_("path",{d:"M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"},null,-1),R1=_("path",{d:"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"},null,-1),S1=[x1,R1];function k1(e,t){return C(),O("svg",E1,S1)}const ll=Ie(b1,[["render",k1]]),$1={},C1={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-check2",viewBox:"0 0 16 16"},I1=_("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0"},null,-1),A1=[I1];function P1(e,t){return C(),O("svg",C1,A1)}const cl=Ie($1,[["render",P1]]),T1={},B1={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",class:"bi bi-check-square",viewBox:"0 0 16 16"},N1=_("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"},null,-1),L1=_("path",{d:"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"},null,-1),U1=[N1,L1];function O1(e,t){return C(),O("svg",B1,U1)}const rf=Ie(T1,[["render",O1]]),M1={},H1={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",class:"bi bi-exclamation-octagon",viewBox:"0 0 16 16"},V1=_("path",{d:"M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1z"},null,-1),F1=_("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"},null,-1),j1=[V1,F1];function D1(e,t){return C(),O("svg",H1,j1)}const of=Ie(M1,[["render",D1]]),q1={class:"event-card"},K1={key:0,class:"event-img"},z1=["src","title"],W1={class:"event-content"},G1={class:"event-header"},Z1=["href"],J1={class:"event-username-text"},Y1={key:0,class:"event-replying-to"},Q1=["href"],X1={class:"event-body"},ew={class:"event-footer"},tw={class:"event-footer__right-actions"},nw={class:"event-footer__link-wrapper"},sw={class:"event__raw-data"},rw={class:"event-footer-code-wrapper"},ow={class:"event-footer__signature-text"},iw={class:"event-footer__right-actions"},aw={class:"event-footer__link-wrapper"},lw={key:0,class:"reply-field"},cw={class:"reply-field__actions"},uw={class:"reply-field__error"},fw=["disabled"],dw={key:1,class:"loading-replies"},hw={key:2,class:"replies"},pw=Oe({__name:"EventContent",props:{event:{},pool:{},pubKey:{},index:{},hasReplyBtn:{type:Boolean},isRootEvent:{type:Boolean},currentReadRelays:{}},emits:["toggleRawData","showReplyField","loadRootReplies","resetSentStatus","loadMoreReplies"],setup(e,{emit:t}){const n=t,s=j(""),r=j(""),o=e,i=Cr(),a=Fr(),l=An(),c=Fi(),u=jr(),f=Pn(),d=j(!1),h=j(!1),w=j([]),y=j(!1),v=j(!1),m=j(!1),b=j(!1),E=M=>{if(o.isRootEvent)return n("toggleRawData",M);o.event.showRawData=!o.event.showRawData},$=M=>`/user/${De.npubEncode(M)}`;It(()=>{Object.keys(o.event).length!==0&&(m.value=In(o.event))});const N=(M,Q)=>M?M.name?M.name:M.username?M.username:M.display_name:De.npubEncode(Q).slice(0,15)+"...",k=()=>{d.value=!d.value,n("showReplyField")},F=async()=>{if(h.value)return;if(!(l.nsec?l.nsec.trim():"").length){r.value="Please provide your private key or generate random key.";return}const Q=s.value.trim();if(!Q.length){r.value="Please provide message to broadcast.";return}let D,R;try{if(D=l.getPrivkeyBytes(),!D)throw new Error;if(R=l.getPubkey(),!R.length)throw new Error}catch{r.value="Invalid private key. Please check it and try again.";return}const P={kind:1,pubkey:R,created_at:Math.floor(Date.now()/1e3),content:Q,tags:[],id:"",sig:""},A=[],T=[];o.event.tags.forEach(I=>{const se=[I[0],I[1]];I[2]&&se.push(I[2]),I[3]&&se.push(I[3]),se[0]==="e"?A.push(se):se[0]==="p"&&T.push(se)});const q=[];if(A.length){const I=A.find(se=>se[3]==="root");I?q.push(I):q.push(A[0]),q.push(["e",o.event.id,"","reply"])}else q.push(["e",o.event.id,"","root"]);const X=Pu(P),ie=T.map(I=>I[1]),ee=[];X.forEach(I=>{var pe;const se=(pe=I==null?void 0:I.profile)==null?void 0:pe.pubkey;se&&!ie.includes(se)&&(ee.push(["p",se]),ie.push(se))});const ye=[...ee,...T];ie.includes(o.event.pubkey)||ye.push(["p",o.event.pubkey]),P.tags=[...ye,...q],pt(P,D),r.value="",h.value=!0;const oe=ye.filter(I=>I[1]!==R).map(I=>I[1]);let ae=[];const{pool:z}=o;if(oe.length){const I=[...f.reedRelays,...f.writeRelays,f.connectedRelayUrl];let se=[...new Set(I)];const pe=await z.querySync(se,{kinds:[10002],authors:oe}),p=new Set;pe.forEach(g=>{if(g.tags.length){const{read:S}=tf(g);S.forEach(U=>{f.writeRelays.includes(U)||p.add(U)})}}),ae=[...p]}const x=f.writeRelays;if(!x.length){r.value="Please provide your write relays to broadcast event";return}if(!(await nf(x,z,P)).some(I=>I.success)){r.value="Failed to broadcast reply";return}if(ae.length)try{await z.publish(ae,P)}catch{console.error("Failed to broadcast reply to some additional relays")}if(h.value=!1,d.value=!1,s.value="",o.isRootEvent)return n("loadRootReplies");V()},V=async()=>{const{event:M,currentReadRelays:Q,pool:D}=o;if(!(Q!=null&&Q.length)||!D)return;if(o.isRootEvent)return n("loadMoreReplies");b.value=!0;let R=await D.querySync(Q,{kinds:[1],"#e":[M.id]});R=R.filter(q=>{var ie,ee;const X=kt.parse(q);return((ie=X==null?void 0:X.root)==null?void 0:ie.id)===M.id||((ee=X==null?void 0:X.reply)==null?void 0:ee.id)===M.id});const P=R.map(q=>q.pubkey),A=[...new Set(P)],T=await D.querySync(Q,{kinds:[0],authors:A});R=Ss(R,T),await Zo(M,R,Q,D),w.value=R,y.value=!0,b.value=!1},W=()=>{y.value=!1},Z=()=>{const{origin:M,pathname:Q}=window.location;let D=De.noteEncode(o.event.id);const R=`${M}${Q}#/event/${D}`;navigator.clipboard.writeText(R),v.value=!0,setTimeout(()=>{v.value=!1},2e3)},te=M=>{const Q=De.npubEncode(M);a.updateNpubInput(Q),c.updateRoutingStatus(!0),i.push({path:$(M)})};return(M,Q)=>{const D=ws("EventContent",!0);return C(),O(Re,null,[_("div",q1,[_("div",{class:Pe(["event-card__content",{flipped:M.event.showRawData}])},[_("div",{class:Pe(["event-card__front","event__presentable-date",{"event-card__front_custom":M.pubKey===M.event.pubkey}])},[ue(u).showImages&&M.event.author?(C(),O("div",K1,[_("img",{class:"author-pic",src:M.event.author.picture,alt:"user's avatar",title:`Avatar for ${M.event.author.name}`},null,8,z1)])):ce("",!0),_("div",W1,[_("div",G1,[_("div",null,[_("a",{class:"event-username-link",onClick:Q[0]||(Q[0]=Ao(()=>te(M.event.pubkey),["prevent"])),href:$(M.event.pubkey)},[_("b",J1,le(N(M.event.author,M.event.pubkey)),1)],8,Z1)]),_("div",null,le(ue(sf)(M.event.created_at)),1)]),M.event.replyingTo?(C(),O("div",Y1,[ke(" Replying to "),_("a",{onClick:Q[1]||(Q[1]=Ao(()=>te(M.event.replyingTo.pubkey),["prevent"])),href:$(M.event.replyingTo.pubkey),class:"event-username-link event-username-text"},"@"+le(N(M.event.replyingTo.user,M.event.replyingTo.pubkey)),9,Q1)])):ce("",!0),_("div",X1,[_e(u1,{event:M.event},null,8,["event"])]),_("div",ew,[_e(r1,{onShowReplyField:k,onHandleShowReplies:V,onHandleHideReplies:W,hasReplyBtn:M.hasReplyBtn,likes:M.event.likes,reposts:M.event.reposts,replies:M.event.replies},null,8,["hasReplyBtn","likes","reposts","replies"]),_("div",tw,[_("div",nw,[v.value?(C(),Ne(cl,{key:0,class:"event-footer-copy-icon event-footer-copy-icon_check"})):ce("",!0),v.value?ce("",!0):(C(),Ne(ll,{key:1,onClick:Z,title:"Copy link",class:"event-footer-copy-icon"}))]),_("span",{onClick:Q[2]||(Q[2]=()=>E(M.event.id)),title:"See raw data",class:"event-footer-code"}," {...} ")])])])],2),_("div",{class:Pe(["event-card__back",{"event-card__back_custom":M.pubKey===M.event.pubkey,"event-details-first":M.index===0}])},[_("div",sw,[_e(Yu,{event:M.event,authorEvent:M.event.authorEvent},null,8,["event","authorEvent"])]),_("div",rw,[_("div",{class:Pe(["event-footer__signature",{"event-footer__signature_invalid":!m.value}])},[m.value?(C(),Ne(rf,{key:0})):ce("",!0),m.value?ce("",!0):(C(),Ne(of,{key:1})),_("span",ow,le(m.value?"Signature is valid":"Invalid signature"),1)],2),_("div",iw,[_("div",aw,[v.value?(C(),Ne(cl,{key:0,class:"event-footer-copy-icon event-footer-copy-icon_check"})):ce("",!0),v.value?ce("",!0):(C(),Ne(ll,{key:1,onClick:Z,title:"Copy link",class:"event-footer-copy-icon"}))]),_("span",{onClick:Q[3]||(Q[3]=()=>E(M.event.id)),title:"See raw data",class:"event-footer-code"}," {...} ")])])],2)],2)]),d.value?(C(),O("div",lw,[Vn(_("textarea",{"onUpdate:modelValue":Q[4]||(Q[4]=R=>s.value=R),rows:"4",class:"reply-field__textarea",placeholder:"Write a reply..."},null,512),[[bs,s.value]]),_("div",cw,[_("div",uw,le(r.value),1),_("button",{disabled:h.value,onClick:F,class:"reply-field__btn"},le(h.value?"Sending reply...":"Reply"),9,fw)])])):ce("",!0),b.value?(C(),O("div",dw," Loading replies... ")):ce("",!0),y.value&&w.value.length?(C(),O("div",hw,[(C(!0),O(Re,null,ct(w.value,(R,P)=>(C(),O("div",{class:"reply",key:R.id},[_e(D,{onToggleRawData:Q[5]||(Q[5]=()=>E(M.event.id)),event:R,currentReadRelays:M.currentReadRelays,pool:M.pool,hasReplyBtn:M.hasReplyBtn},null,8,["event","currentReadRelays","pool","hasReplyBtn"])]))),128))])):ce("",!0)],64)}}});const go=Ie(pw,[["__scopeId","data-v-614a1075"]]),gw={},yw={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrows-expand",viewBox:"0 0 16 16"},vw=_("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8ZM7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2ZM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10Z"},null,-1),_w=[vw];function ww(e,t){return C(),O("svg",yw,_w)}const mw=Ie(gw,[["render",ww]]),Bs=dn("pool",()=>{const e=j(new Ht),t=j(new Ht),n=j(new Ht);return{eventPool:e,feedPool:t,userPool:n}}),af=e=>($t("data-v-013aa31f"),e=e(),Ct(),e),bw={class:"event"},Ew={key:0},xw={key:1,class:"replies"},Rw={class:"replies__other-link"},Sw=af(()=>_("span",{class:"replies__other-text"}," Show more replies ",-1)),kw={key:1,class:"replies__other"},$w={key:2,class:"replies__other"},Cw={class:"replies__other-text"},Iw={key:4},Aw={key:5,class:"replies__list"},Pw={class:"replies__list-item"},Tw=af(()=>_("div",{class:"replies__list-item-line-horizontal"},null,-1)),Bw=Oe({__name:"EventView",props:{event:{},pubKey:{},index:{},showReplies:{type:Boolean},hasReplyBtn:{type:Boolean},currentReadRelays:{}},emits:["toggleRawData"],setup(e,{emit:t}){const s=Bs().eventPool,r=t,o=e,i=j(!1),a=j(!1),l=j(!1),c=j(!1),u=j(!1),f=j(null),d=j([]);It(async()=>{o.showReplies&&await h()});const h=async()=>{const{event:b,currentReadRelays:E}=o;if(!E.length)return;let $=await s.querySync(E,{kinds:[1],"#e":[b.id]});if($=$.filter(V=>{var Z;const W=kt.parse(V);return!W.reply&&((Z=W==null?void 0:W.root)==null?void 0:Z.id)===b.id}),!$.length)return;u.value=!0,a.value=$.length>1;let N=$[0],k=[N];await Zo(b,k,E,s),N=k[0];const F=await s.get(E,{kinds:[0],limit:1,authors:[N.pubkey]});F&&(N.author=JSON.parse(F.content)),f.value=N,u.value=!1},w=(b,E=!1)=>{if(E)return r("toggleRawData",b)},y=()=>{i.value=!i.value},v=async()=>{const{event:b,currentReadRelays:E}=o;if(!E.length)return;c.value=!0;let $=await s.querySync(E,{kinds:[1],"#e":[b.id]});if($=$.filter(V=>{var Z;const W=kt.parse(V);return!W.reply&&((Z=W==null?void 0:W.root)==null?void 0:Z.id)===b.id}),!$.length){c.value=!1;return}const N=$.map(V=>V.pubkey),k=[...new Set(N)],F=await s.querySync(E,{kinds:[0],authors:k});$=Ss($,F),await Zo(b,$,E,s),d.value=$,l.value=!0,c.value=!1},m=async()=>{i.value=!1,l.value?await v():await h()};return(b,E)=>(C(),O("div",bw,[(C(),Ne(go,{key:b.event.id,onLoadRootReplies:m,onShowReplyField:y,onToggleRawData:E[0]||(E[0]=$=>w($,!0)),onLoadMoreReplies:v,event:b.event,pubKey:b.pubKey,isRootEvent:!0,currentReadRelays:b.currentReadRelays,pool:ue(s),hasReplyBtn:b.hasReplyBtn},null,8,["event","pubKey","currentReadRelays","pool","hasReplyBtn"])),u.value?(C(),O("div",Ew,"Loading replies...")):ce("",!0),b.showReplies&&f.value?(C(),O("div",xw,[!l.value&&a.value&&!c.value?(C(),O("div",{key:0,onClick:v,class:"replies__other"},[_("span",Rw,[Sw,_e(mw)])])):ce("",!0),c.value?(C(),O("div",kw," Loading replies... ")):ce("",!0),l.value&&a.value?(C(),O("div",$w,[_("span",Cw," Loaded "+le(d.value.length)+" replies ",1)])):ce("",!0),_("div",{class:Pe(["line-vertical",{"line-vertical_long":a.value,"line-vertical_reply-field":i.value&&!a.value,"line-vertical_reply-field_long":i.value&&a.value}])},null,2),l.value?ce("",!0):(C(),O("div",{key:3,class:Pe(["line-horizontal",{"line-horizontal_height":a.value}])},null,2)),l.value?ce("",!0):(C(),O("div",Iw,[(C(),Ne(go,{key:f.value.id,event:f.value,currentReadRelays:b.currentReadRelays,pool:ue(s),hasReplyBtn:b.hasReplyBtn},null,8,["event","currentReadRelays","pool","hasReplyBtn"]))])),l.value?(C(),O("div",Aw,[(C(!0),O(Re,null,ct(d.value,($,N)=>(C(),O("div",Pw,[Tw,_("div",{class:Pe(["replies__list-item-line-vertical",{"replies__list-item-line-vertical_short":N===d.value.length-1}])},null,2),(C(),Ne(go,{key:$.id,event:$,currentReadRelays:b.currentReadRelays,pool:ue(s),hasReplyBtn:b.hasReplyBtn},null,8,["event","currentReadRelays","pool","hasReplyBtn"]))]))),256))])):ce("",!0)])):ce("",!0)]))}});const lf=Ie(Bw,[["__scopeId","data-v-013aa31f"]]),Nw=Oe({__name:"RelayEventsList",props:{events:{},pubKey:{},currentReadRelays:{}},emits:["toggleRawData"],setup(e,{emit:t}){const n=t,s=r=>{n("toggleRawData",r)};return(r,o)=>(C(),O("div",null,[(C(!0),O(Re,null,ct(r.events,(i,a)=>(C(),Ne(lf,{key:i.id,class:"event",onToggleRawData:s,currentReadRelays:r.currentReadRelays,event:i,pubKey:r.pubKey,index:a,showReplies:!0,hasReplyBtn:!0},null,8,["currentReadRelays","event","pubKey","index"]))),128))]))}});const Lw=Ie(Nw,[["__scopeId","data-v-b4361884"]]),Uw={key:0,class:"pagination"},Ow={key:0},Mw={key:1},Hw={key:1},Vw={key:4},Fw=Oe({__name:"Pagination",props:{pagesCount:{},currentPage:{}},emits:["showPage"],setup(e,{emit:t}){const n=t,s=Cs(),r=o=>({path:s.path,query:{...s.query,page:o}});return Mt(()=>s.query.page,async o=>{const i=parseInt(o);i&&n("showPage",i)}),(o,i)=>{const a=ws("router-link");return o.pagesCount>1?(C(),O("div",Uw,[ke(" Pages: "),o.pagesCount<5?(C(),O("span",Ow,[(C(!0),O(Re,null,ct(o.pagesCount,l=>(C(),Ne(a,{key:l,class:Pe(["pagination__link",{pagination__link_active:o.currentPage==l}]),to:r(l)},{default:Qe(()=>[ke(le(l),1)]),_:2},1032,["class","to"]))),128))])):ce("",!0),o.pagesCount>=5?(C(),O("span",Mw,[o.currentPage>=3?(C(),Ne(a,{key:1,class:Pe(["pagination__link"]),to:r(1)},{default:Qe(()=>[ke(le(1))]),_:1},8,["to"])):ce("",!0),o.currentPage>3?(C(),O("span",Hw,"...")):ce("",!0),o.currentPage!=1?(C(),Ne(a,{key:o.currentPage-1,class:Pe(["pagination__link"]),to:r(o.currentPage-1)},{default:Qe(()=>[ke(le(o.currentPage-1),1)]),_:1},8,["to"])):ce("",!0),(C(),Ne(a,{key:o.currentPage,class:Pe(["pagination__link pagination__link_active"]),to:r(o.currentPage)},{default:Qe(()=>[ke(le(o.currentPage),1)]),_:1},8,["to"])),o.currentPage!=o.pagesCount?(C(),Ne(a,{key:o.currentPage+1,class:Pe(["pagination__link"]),to:r(o.currentPage+1)},{default:Qe(()=>[ke(le(o.currentPage+1),1)]),_:1},8,["to"])):ce("",!0),o.currentPage<o.pagesCount-2?(C(),O("span",Vw,"...")):ce("",!0),o.currentPage<=o.pagesCount-2?(C(),Ne(a,{key:o.pagesCount,class:Pe(["pagination__link"]),to:r(o.pagesCount)},{default:Qe(()=>[ke(le(o.pagesCount),1)]),_:1},8,["to"])):ce("",!0)])):ce("",!0)])):ce("",!0)}}});const cf=Ie(Fw,[["__scopeId","data-v-fa836b0e"]]),jw=e=>($t("data-v-1382f7cb"),e=e(),Ct(),e),Dw={class:"log"},qw=jw(()=>_("strong",null,"Relay events log",-1)),Kw={class:"log__list"},zw={class:"log__list-item"},Ww={key:0},Gw={key:1},Zw=Oe({__name:"RelayLog",props:{eventsLog:{}},setup(e){const t=e;return(n,s)=>(C(),O("div",Dw,[qw,_("ul",Kw,[(C(!0),O(Re,null,ct(t.eventsLog,r=>(C(),O("li",zw,[(C(!0),O(Re,null,ct(r,({type:o,value:i})=>(C(),O(Re,null,[o==="text"?(C(),O("span",Ww,le(i),1)):(C(),O("b",Gw,le(i),1))],64))),256))]))),256))])]))}});const Jw=Ie(Zw,[["__scopeId","data-v-1382f7cb"]]),ul=["wss://nos.lol","wss://relay.nostr.band","wss://relay.nostr.ai","wss://relayable.org","wss://relay.damus.io"],yn=["wss://relay.damus.io","wss://nostr-pub.wellorder.net","wss://offchain.pub","wss://nostr.fmt.wiz.biz","wss://eden.nostr.land","wss://atlas.nostr.land","wss://relay.snort.social","wss://nostr.fly.dev","wss://nostr.nostr.band","wss://relay.nostrgraph.net","wss://relay.nostr.bg","wss://nostr.wine","wss://nos.lol","wss://relay.mostr.pub","wss://no.str.cr","wss://brb.io","wss://nostr.zebedee.cloud"],Sn=20,Dr=dn("feed",()=>{const e=j([]),t=j(!1),n=j([]),s=j(0),r=j([]),o=j([]),i=j(""),a=j("");function l(E){e.value=E}function c(E){const $=e.value.find(N=>N.id===E);$&&($.showRawData=!$.showRawData)}function u(E){t.value=E}function f(E){n.value=E}function d(E){s.value=E}function h(E){r.value=E}function w(E){r.value.push(E)}function y(E){o.value=E}function v(E){o.value.push(E)}function m(E){i.value=E}function b(E){a.value=E}return{events:e,updateEvents:l,toggleEventRawData:c,showNewEventsBadge:t,setShowNewEventsBadge:u,newEventsBadgeImageUrls:n,setNewEventsBadgeImageUrls:f,newEventsBadgeCount:s,setNewEventsBadgeCount:d,newEventsToShow:r,updateNewEventsToShow:h,pushToNewEventsToShow:w,paginationEventsIds:o,updatePaginationEventsIds:y,pushToPaginationEventsIds:v,messageToBroadcast:i,updateMessageToBroadcast:m,signedJson:a,updateSignedJson:b}}),Yw=e=>($t("data-v-7c91c37d"),e=e(),Ct(),e),Qw={id:"feed"},Xw={class:"columns"},em={key:0,class:"connecting-notice"},tm={key:0,class:"new-events__imgs"},nm=["src"],sm=["src"],rm={class:"new-events__text"},om=Yw(()=>_("b",{class:"new-events__arrow"},"↑",-1)),im=Oe({__name:"Feed",props:{eventsLog:{}},emits:["loadNewRelayEvents"],setup(e,{emit:t}){const n=Pn(),s=jr(),r=Dr(),o=An(),i=Bs(),a=t,l=Te(()=>r.newEventsBadgeImageUrls[0]),c=Te(()=>r.newEventsBadgeImageUrls[1]),u=j(1),f=Te(()=>Math.ceil(r.paginationEventsIds.length/Sn)),d=Cs(),h=Te(()=>d.path);Mt(()=>d.path,async()=>{u.value>1&&w(1)}),It(()=>{f.value>1&&w(1)});const w=async v=>{const m=i.feedPool,b=n.connectedReedRelayUrls;if(!b.length)return;const E=Sn,$=(v-1)*E,N=$+E,F=r.paginationEventsIds.slice().reverse().slice($,N),V=await m.querySync(b,{ids:F}),W=V.map(M=>M.pubkey),Z=await m.querySync(b,{kinds:[0],authors:W});let te=Ss(V,Z);await Dn(te,b,m),r.updateEvents(te),u.value=v},y=async()=>{await a("loadNewRelayEvents"),u.value=1};return(v,m)=>(C(),O("div",Qw,[_("div",Xw,[_("div",{class:Pe(["events",{events_hidden:h.value==="/log"}])},[ue(n).isConnectingToRelay?(C(),O("div",em," Loading "+le(ue(n).currentRelay?"new":"")+" relay feed... ",1)):ce("",!0),ue(r).showNewEventsBadge?(C(),O("div",{key:1,onClick:y,class:"new-events"},[ue(s).showImages?(C(),O("div",tm,[_("img",{class:"new-events__img",src:l.value,alt:"user's avatar"},null,8,nm),_("img",{class:"new-events__img",src:c.value,alt:"user's avatar"},null,8,sm)])):ce("",!0),_("span",rm,le(ue(r).newEventsBadgeCount)+" new notes",1),om])):ce("",!0),_e(Lw,{events:ue(r).events,pubKey:ue(o).getPubkey(),showImages:ue(s).showImages,currentReadRelays:ue(n).connectedReedRelayUrls,onToggleRawData:ue(r).toggleEventRawData},null,8,["events","pubKey","showImages","currentReadRelays","onToggleRawData"]),_e(cf,{pagesCount:f.value,currentPage:u.value,onShowPage:w},null,8,["pagesCount","currentPage"])],2),_("div",{class:Pe(["log-wrapper",{"log-wrapper_hidden":h.value!=="/log"}])},[_e(Jw,{eventsLog:v.eventsLog},null,8,["eventsLog"])],2)])]))}});const yo=Ie(im,[["__scopeId","data-v-7c91c37d"]]),am=e=>($t("data-v-9d94ec19"),e=e(),Ct(),e),lm={class:"message-fields-wrapper"},cm={class:"message-fields"},um={class:"message-fields__field"},fm=am(()=>_("label",{for:"message"},[_("strong",null,"Message to broadcast")],-1)),dm={class:"field-elements"},hm=["value"],pm={class:"send-btn-wrapper"},gm=["disabled"],ym={class:"error"},vm={class:"notice"},_m=Oe({__name:"MessageInput",props:{sentEventIds:{},isSendingMessage:{type:Boolean},broadcastNotice:{}},emits:["broadcastEvent"],setup(e,{emit:t}){const n=e,s=t,r=An(),o=Dr(),i=j(""),a=async()=>{if(!(r.nsec?r.nsec.trim():"").length){i.value="Please provide your private key or generate random key.";return}const u=o.messageToBroadcast.trim();if(!u.length){i.value="Please provide message to broadcast.";return}let f,d;try{if(f=r.getPrivkeyBytes(),!f)throw new Error;if(d=r.getPubkey(),!d.length)throw new Error}catch{i.value="Invalid private key. Please check it and try again.";return}const h={kind:1,pubkey:d,created_at:Math.floor(Date.now()/1e3),content:u,tags:[],id:"",sig:""},w=pt(h,f);if(n.sentEventIds.has(w.id)){i.value="The same event can't be sent twice (same id, signature).";return}i.value="",s("broadcastEvent",w,"text")},l=c=>{var u;o.updateMessageToBroadcast((u=c==null?void 0:c.target)==null?void 0:u.value)};return(c,u)=>(C(),O("div",lm,[_("div",cm,[_("div",um,[fm,_("div",dm,[_("textarea",{class:"message-input",name:"message",id:"message",cols:"30",rows:"3",value:ue(o).messageToBroadcast,onInput:l,placeholder:"Test message 👋"},null,40,hm)]),_("div",pm,[_("button",{disabled:c.isSendingMessage,class:"send-btn",onClick:a},le(c.isSendingMessage?"Broadcasting...":"Broadcast"),9,gm)])])]),_("div",ym,le(i.value),1),_("div",vm,le(c.broadcastNotice),1)]))}});const fl=Ie(_m,[["__scopeId","data-v-9d94ec19"]]),qr=e=>($t("data-v-efc02ad6"),e=e(),Ct(),e),wm={class:"message-fields-wrapper"},mm={class:"signed-message-desc"},bm=qr(()=>_("p",{class:"signed-message-desc_p"},[ke(" Event should be signed with your private key in advance. Event will be broadcasted to a selected relay. More details about events and signatures are "),_("a",{target:"_blank",href:"https://github.com/nostr-protocol/nips/blob/master/01.md#events-and-signatures"},"here"),ke(". ")],-1)),Em={class:"signed-message-desc_p"},xm=qr(()=>_("br",null,null,-1)),Rm={key:0,class:"additional-relays"},Sm={class:"additional-relay-field"},km=qr(()=>_("span",null,"1.",-1)),$m=["value"],Cm={class:"additional-relay-field"},Im=["onInput"],Am={class:"message-fields__field_sig"},Pm=qr(()=>_("label",{class:"message-fields__label",for:"signed_json"},[_("strong",null,"JSON of a signed event")],-1)),Tm={class:"field-elements"},Bm={class:"signed-json-btn-wrapper"},Nm={class:"error"},Lm=["disabled"],Um=Oe({__name:"SignedEventInput",props:{isSendingMessage:{type:Boolean},broadcastError:{}},emits:["broadcastEvent"],setup(e,{emit:t}){const n=t,s=Pn(),r=Dr(),o=j(""),i=()=>{if(!r.signedJson.length){o.value="Provide signed event.";return}let u;try{u=JSON.parse(r.signedJson)}catch{o.value="Invalid JSON. Please check it and try again.";return}const f=s.currentRelay;if(!(f!=null&&f.connected)){o.value="Please connect to relay first.";return}o.value="",n("broadcastEvent",u,"json")},a=()=>{const u=s.additionalRelaysCountForSignedEvent+1;s.updateAdditionalRelaysCountForSignedEvent(u)},l=u=>{var f;r.updateSignedJson((f=u==null?void 0:u.target)==null?void 0:f.value)},c=(u,f)=>{var h;const d=(h=u==null?void 0:u.target)==null?void 0:h.value;s.updateRelayAdditionalRelaysUrlsForSignedEvent(f,d)};return(u,f)=>{var d,h;return C(),O("div",wm,[_("div",mm,[bm,_("p",Em,[ke(" Event will be broadcasted to a selected relay. You can add more relays to retransmit the event. "),xm,_("button",{class:"additional-relay-btn",onClick:a}," Add relay "),ue(s).additionalRelaysCountForSignedEvent>0?(C(),O("div",Rm,[_("div",Sm,[km,_("input",{readonly:"",value:(d=ue(s).currentRelay)!=null&&d.url?`${(h=ue(s).currentRelay)==null?void 0:h.url} (already selected)`:"Firstly connect to default relay",type:"text"},null,8,$m)]),(C(!0),O(Re,null,ct(ue(s).additionalRelaysCountForSignedEvent,w=>(C(),O("div",null,[_("div",Cm,[_("span",null,le(w+1)+".",1),_("input",{onInput:y=>c(y,w),placeholder:"[wss://]relay.example.com",type:"text"},null,40,Im)])]))),256))])):ce("",!0)])]),_("div",Am,[Pm,_("div",Tm,[_("textarea",{class:"signed-json-textarea",name:"signed_json",id:"signed_json",cols:"30",rows:"5",onInput:l,placeholder:'{"kind":1,"pubkey":"5486dbb083512982669fa180aa02d722ce35054233cea724061fbc5f39f81aa3","created_at":1685664152,"content":"Test message 👋","tags":[],"id":"89adae408121ba6d721203365becff4d312292a9dd9b7a35ffa230a1483b09a2","sig":"b2592ae88ba1040c928e458dd6822413f148c8cc4f478d992e024e8c9d9648b96e6ce6dc564ab5815675007f824d9e9f634f8dbde554afeb6e594bcaac4389dd"}'},le(ue(r).signedJson),33)])]),_("div",Bm,[_("div",Nm,le(o.value)+" "+le(u.broadcastError),1),_("button",{disabled:u.isSendingMessage,class:"send-btn send-btn_signed-json",onClick:i},le(u.isSendingMessage?"Broadcasting...":"Broadcast"),9,Lm)])])}}});const Om=Ie(Um,[["__scopeId","data-v-efc02ad6"]]),Mm=gi('<h3>Slightly Private App</h3><p><a href="https://nostr.com">nostr</a> is public, censorship-resistant social network. It&#39;s simple: <ol><li>Select a relay from the list, or specify a <a href="https://nostr.watch/" target="_blank">custom URL</a></li><li><em>Optionally</em>, set your private key, to create new messages</li></ol></p><p> Traditional social networks can suppress certain posts or users. In nostr, every message is signed by user&#39;s <em>private key</em> and broadcasted to <em>relays</em>. <strong>Messages are tamper-resistant</strong>: no one can edit them, or the signature will become invalid. <strong>Users can&#39;t be blocked</strong>: even if a relay blocks someone, it&#39;s always possible to switch to a different one, or create up a personal relay. </p><p> The app is available at <a href="http://nostr.spa">nostr.spa</a>. You can: <ul><li><em>Connect</em> and see relay&#39;s global feed.</li><li><em>Post</em> new messages to the relay.</li><li><em>Broadcast</em> a pre-signed message. No need to enter a private key.</li><li><em>Search</em> information about a user or an event.</li></ul></p>',4),Hm=gi("<ul><li>No tracking from our end</li><li>Private keys are not sent anywhere. They are stored in RAM of your device</li><li>Relay will see your ip+browser after you click <em>Connect</em> button</li><li>GitHub will see ip+browser of anyone who&#39;s using the app, because it&#39;s hosted on GitHub Pages. They won&#39;t see any nostr-specific interactions you will make</li><li><em>Show avatars</em> feature will leak your ip+browser to random people on the internet. Since there are no centralized servers in nostr, every user can specify their own URL for avatar hosting. Meaning, users can control the hosting webservers and see logs</li><li><em>Remember me</em> feature will write private key you&#39;ve entered to browser&#39;s Local Storage, which is usually stored on your device&#39;s disk</li><li>VPN or TOR usage is advised, <em>as with any nostr client</em>, to prevent ip leakage</li></ul>",1),Vm=gi('<h3>Open source</h3><p> The lightweight nostr client is built to showcase <a href="/noble/">noble</a> cryptography. Signing is done using <a target="_blank" href="https://github.com/paulmillr/noble-curves">noble-curves</a>, while <a target="_blank" href="https://github.com/paulmillr/scure-base">scure-base</a> is used for bech32, <a target="_blank" href="https://github.com/nbd-wtf/nostr-tools">nostr-tools</a> are used for general nostr utilities and Vue.js is utilized for UI. Check out <a target="_blank" href="https://github.com/paulmillr/paulmillr.github.io">the source code</a>. You are welcome to host the client on your personal website. </p>',2),dl=Oe({__name:"Help",props:{showPrivacy:{}},setup(e){const t=Cs(),n=j(null);return It(()=>{n.value&&t.hash=="#privacy"&&n.value.scrollIntoView()}),di(()=>{n.value&&t.hash=="#privacy"&&n.value.scrollIntoView()}),(s,r)=>(C(),O(Re,null,[Mm,_("p",null,[_("h3",{id:"#privacy",ref_key:"privacyEl",ref:n},"Privacy policy",512),Hm]),Vm],64))}}),wt=Xn({value:1,update(e){this.value=e}}),Fm=dn("user-notes",()=>{const e=j([]),t=j([]);function n(o){e.value=o}function s(o){t.value=o}function r(o){const i=e.value.find(a=>a.id===o);i&&(i.showRawData=!i.showRawData)}return{notes:e,allNotesIds:t,updateNotes:n,updateIds:s,toggleRawData:r}}),Kr=e=>($t("data-v-59817eec"),e=e(),Ct(),e),jm={class:"event"},Dm={key:0,class:"event__content"},qm=Kr(()=>_("hr",null,null,-1)),Km={class:"event__code-block"},zm={class:"event__code-title"},Wm=Kr(()=>_("b",null,"Author: ",-1)),Gm={class:"content-col_code"},Zm={class:"event__code"},Jm={class:"event__code-block"},Ym={class:"event__code-title"},Qm=Kr(()=>_("b",null,"Event id: ",-1)),Xm={class:"content-col_code"},eb={class:"event__code"},tb=Kr(()=>_("div",{class:"header-col"},[_("b",null,"Created: ")],-1)),nb={class:"content-col_code"},sb={class:"event__code"},rb={class:"event-footer__signature-text"},ob=Oe({__name:"UserEvent",props:{event:{},author:{},key:{}},setup(e){const t=e,n=j(!1),s=j(!1),r=j(!1),o=j(""),i=j(""),a=j(""),l=j(0),c=j(!1);gd(()=>{const{event:f}=t;o.value=f.id,i.value=f.sig,a.value=f.pubkey,l.value=f.created_at}),It(()=>{Object.keys(t.event).length!==0&&(c.value=In(t.event))});const u=()=>{n.value=!n.value};return(f,d)=>(C(),O("div",jm,[n.value?ce("",!0):(C(),O("div",Dm,[kd(f.$slots,"default",{},()=>[ke("No content for event")],!0),qm,_("div",Km,[_("div",zm,[Wm,_("button",{class:"event__code-btn",onClick:d[0]||(d[0]=h=>r.value=!r.value)},le(r.value?"npub":"hex"),1)]),_("div",Gm,[_("code",Zm,le(r.value?a.value:ue(De).npubEncode(a.value)),1)])]),_("div",Jm,[_("div",Ym,[Qm,_("button",{class:"event__code-btn",onClick:d[1]||(d[1]=h=>s.value=!s.value)},le(s.value?"nevent":"hex"),1)]),_("div",Xm,[_("code",eb,le(s.value?o.value:ue(De).neventEncode({id:o.value})),1)])]),_("div",null,[tb,_("div",nb,[_("code",sb,le(ue(sf)(l.value)),1)])])])),n.value?(C(),Ne(Yu,{key:1,isUserEvent:!0,event:f.event,authorEvent:f.event},null,8,["event","authorEvent"])):ce("",!0),_("div",{class:Pe(["event-footer",{"event-footer_flex-end":!n.value}])},[n.value?(C(),O("div",{key:0,class:Pe(["event-footer__signature",{"event-footer__signature_invalid":!c.value}])},[c.value?(C(),Ne(rf,{key:0})):ce("",!0),c.value?ce("",!0):(C(),Ne(of,{key:1})),_("span",rb,le(c.value?"Signature is valid":"Invalid signature"),1)],2)):ce("",!0),_("div",null,[_("span",{class:"event-footer-code",onClick:u},"{...}")])],2)]))}});const ib=Ie(ob,[["__scopeId","data-v-59817eec"]]),ab={},lb={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-download",viewBox:"0 0 16 16"},cb=_("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"},null,-1),ub=_("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"},null,-1),fb=[cb,ub];function db(e,t){return C(),O("svg",lb,fb)}const hb=Ie(ab,[["render",db]]),zr=e=>($t("data-v-3e6ba389"),e=e(),Ct(),e),pb={class:"field"},gb={class:"field-label",for:"user_public_key"},yb=zr(()=>_("strong",null,"Profile's public key or event id",-1)),vb={class:"field-elements"},_b={class:"error"},wb={key:0,class:"loading-notice"},mb={class:"user"},bb={key:0,class:"user__avatar-wrapper"},Eb=["src"],xb={class:"user__info"},Rb={class:"user__nickname"},Sb={class:"user__name"},kb={class:"user__desc"},$b={key:0,class:"user__nip05"},Cb=["href"],Ib=zr(()=>_("strong",null,"nip05",-1)),Ab={key:1,class:"user__contacts"},Pb={class:"user__contacts-col user__following-cnt"},Tb={class:"user__contacts-col user__followers-cnt"},Bb={key:0},Nb={key:1,class:"user__contacts-download-icon"},Lb=zr(()=>_("span",{class:"user__contacts-followers-word"}," Followers ",-1)),Ub={key:2},Ob={key:3,id:"user-posts"},Mb={key:0},Hb={key:1},Vb={key:5,class:"not-found"},Fb=zr(()=>_("div",{class:"not-found__desc"}," Data was not found on selected relay. Please try to connect to another one or you can try to load info from the list of popular relays: ",-1)),jb=Oe({__name:"User",props:{handleRelayConnect:{type:Function}},setup(e){const n=Bs().userPool,s=Fr(),r=Fm(),o=Fi(),i=jr(),a=An(),l=Pn(),c=e,u=j({}),f=j({}),d=j(!1),h=j(!1),w=j(""),y=j(!1),v=j(""),m=j(!1),b=j(""),E=j(!1),$=j(!1),N=j(!1),k=j(!1),F=j(1),V=Te(()=>Math.ceil(r.allNotesIds.length/Sn)),W=Cr(),Z=Cs(),te=oe=>{const[ae,z]=oe.split("@");return`https://${z}/.well-known/nostr.json?name=${ae}`},M=j([]);It(()=>{var oe,ae;if((ae=(oe=Z.params)==null?void 0:oe.id)!=null&&ae.length&&!l.currentRelay.connected){s.updateNpubInput(Z.params.id),s.updateCachedUrl(Z.params.id),l.currentRelay.connected||(N.value=!0);return}if(o.isRoutingUser&&s.npubInput.length){s.updateCachedUrl(s.npubInput),o.updateRoutingStatus(!1),P();return}}),Mt(()=>Z.params,()=>{o.isRoutingUser&&(s.updateCachedUrl(s.npubInput),o.updateRoutingStatus(!1),P())}),Mt(()=>Z.redirectedFrom,()=>{s.updateNpubInput(Z.params.id),s.updateCachedUrl(Z.params.id),R()}),Yl(()=>{r.notes.length&&P()});const Q=()=>{b.value="",y.value=!1},D=async oe=>{const ae=l.connectedReedRelayUrls;if(!ae.length)return;const z=Sn,x=(oe-1)*z,H=x+z,B=r.allNotesIds.slice(x,H),I=await n.querySync(ae,{ids:B});let se=A(I,f.value);await Dn(se,ae,n),r.updateNotes(se),F.value=oe},R=()=>{u.value={},f.value={},r.updateNotes([]),r.updateIds([])},P=async()=>{wt.update(wt.value+1);const oe=wt.value,ae=s.npubInput.trim();let z=!1;if(!ae.length){w.value="Public key or event id is required.";return}if(al(ae))v.value=ae,z=!0;else try{let{data:se,type:pe}=De.decode(ae);if(pe!=="npub"&&pe!=="note"){w.value="Public key or event id should be in npub or note format, or hex.";return}k.value=pe==="note",v.value=se.toString()}catch{w.value="Public key or event id is invalid. Please check it and try again.";return}N.value&&await c.handleRelayConnect();const x=l.connectedReedRelayUrls;if(oe!==wt.value)return;if(!x.length){w.value=N.value?"Connection error, try to connect again or try to choose other relay.":"Please connect to relay first.";return}N.value=!1,R(),h.value=!1,w.value="",m.value=!0;let H=[];if(k.value||z){const se=v.value;if(H=await n.querySync(x,{ids:[se]}),oe!==wt.value)return;H.length&&(r.updateIds(H.map(pe=>pe.id)),v.value=H[0].pubkey,k.value=!0)}const B=await n.get(x,{kinds:[0],limit:1,authors:[v.value]});if(oe!==wt.value)return;if(!B){m.value=!1,y.value=!0;return}M.value=x;const I=await n.get(x,{kinds:[3],limit:1,authors:[v.value]});if(oe===wt.value){if(u.value=B,f.value=JSON.parse(B.content),f.value.followingCount=(I==null?void 0:I.tags.length)||0,d.value=!1,m.value=!1,y.value=!1,k.value?W.push({path:`/event/${ae}`}):W.push({path:`/user/${ae}`}),s.updateCachedUrl(ae),$.value=!0,T(oe),!k.value){if(H=await n.querySync(x,{kinds:[1],authors:[v.value]}),oe!==wt.value)return;const se=new Set;H.forEach(p=>{const g=kt.parse(p);(g.reply||g.root)&&se.add(p.id)}),H=H.filter(p=>!se.has(p.id)),r.updateIds(H.map(p=>p.id));const pe=Sn;F.value=1,H=H.slice(0,pe)}H=A(H,f.value),await Dn(H,x,n),oe===wt.value&&(r.updateNotes(H),$.value=!1)}},A=(oe,ae)=>oe.map(z=>(z.author=ae,z)),T=async(oe=0)=>{const ae=f.value.nip05,z=u.value.pubkey;if(!(!ae||!z))try{const x=await q(ae,z);if(oe&&oe!==wt.value)return;d.value=x}catch{console.log("Failed to check nip05")}},q=async(oe,ae)=>{const z=await Nu.queryProfile(oe);return ae===(z==null?void 0:z.pubkey)},X=()=>{if(!a.nsec.trim().length){w.value="Please provide private key first.";return}try{const ae=a.getPubkey();if(!ae.length)throw new Error;s.updateNpubInput(De.npubEncode(ae)),w.value=""}catch{w.value="Private key is invalid. Please check it and try again.";return}},ie=async()=>{const oe=s.npubInput.trim();let ae=!1;if(!oe.length){b.value="Public key or event id is required.";return}if(al(oe))v.value=oe,ae=!0;else try{let{data:B,type:I}=De.decode(oe);if(I!=="npub"&&I!=="note"){b.value="Public key or event id should be in npub or note format, or hex.";return}k.value=I==="note",v.value=B.toString()}catch{b.value="Public key or event id is invalid. Please check it and try again.";return}E.value=!0,r.updateIds([]);let z=[];if(k.value||ae){const B=v.value;z=await n.querySync(yn,{ids:[B]}),z.length&&(v.value=z[0].pubkey,k.value=!0)}const x=await n.get(yn,{kinds:[0],limit:1,authors:[v.value]});if(!x){E.value=!1,b.value="User was not found on listed relays.";return}M.value=yn;const H=await n.get(yn,{kinds:[3],limit:1,authors:[v.value]});if(u.value=x,f.value=JSON.parse(x.content),f.value.followingCount=(H==null?void 0:H.tags.length)||0,b.value="",E.value=!1,y.value=!1,h.value=!0,d.value=!1,k.value?W.push({path:`/event/${oe}`}):W.push({path:`/user/${oe}`}),s.updateCachedUrl(oe),$.value=!0,T(),!k.value){z=await n.querySync(yn,{kinds:[1],authors:[v.value]});const B=new Set;z.forEach(I=>{const se=kt.parse(I);(se.reply||se.root)&&B.add(I.id)}),z=z.filter(I=>!B.has(I.id))}z=A(z,f.value),await Dn(z,yn,n),r.updateNotes(z),$.value=!1},ee=async()=>{f.value.followersCount=0;const oe=n.subscribeMany(M.value,[{"#p":[v.value],kinds:[3]}],{onevent(ae){f.value.followersCount=f.value.followersCount+1},oneose(){oe.close()}})},ye=oe=>{r.toggleRawData(oe)};return(oe,ae)=>(C(),O(Re,null,[_("div",pb,[_("label",gb,[yb,ue(a).nsec.length?(C(),O("button",{key:0,onClick:X,class:"random-key-btn"},"Use mine")):ce("",!0)]),_("div",vb,[Vn(_("input",{onInput:Q,"onUpdate:modelValue":ae[0]||(ae[0]=z=>ue(s).npubInput=z),class:"pubkey-input",id:"user_public_key",type:"text",placeholder:"npub, note, hex of pubkey or note id..."},null,544),[[bs,ue(s).npubInput]]),_("button",{onClick:P,class:"get-user-btn"},le(N.value?"Connect & Search":"Search"),1)]),_("div",_b,le(w.value),1)]),m.value?(C(),O("div",wb," Loading event info... ")):ce("",!0),u.value.id?(C(),Ne(ib,{author:f.value,event:u.value,key:u.value.id},{default:Qe(()=>[_("div",mb,[ue(i).showImages?(C(),O("div",bb,[_("img",{class:"user__avatar",src:f.value.picture},null,8,Eb)])):ce("",!0),_("div",xb,[_("div",null,[_("div",Rb,le(f.value.username||f.value.name),1),_("div",Sb,le(f.value.display_name||""),1),_("div",kb,le(f.value.about||""),1),d.value?(C(),O("div",$b,[_("a",{target:"_blank",href:te(f.value.nip05)},[Ib,ke(": "+le(f.value.nip05),1)],8,Cb)])):ce("",!0),f.value.followingCount>=0?(C(),O("div",Ab,[_("span",Pb,[_("b",null,le(f.value.followingCount),1),ke(" Following ")]),_("span",Tb,[f.value.followersCount?(C(),O("b",Bb,le(f.value.followersCount),1)):(C(),O("span",Nb,[_e(hb,{onClick:ee})])),Lb])])):ce("",!0)])])])]),_:1},8,["author","event"])):ce("",!0),$.value?(C(),O("div",Ub,"Loading notes...")):ce("",!0),ue(r).notes.length>0&&!$.value?(C(),O("h3",Ob,[k.value?(C(),O("span",Mb,"Event info")):(C(),O("span",Hb,"User notes"))])):ce("",!0),(C(!0),O(Re,null,ct(ue(r).notes,(z,x)=>(C(),Ne(lf,{key:z.id,hasReplyBtn:!k.value,showReplies:!k.value,currentReadRelays:M.value,index:x,onToggleRawData:ye,event:z},null,8,["hasReplyBtn","showReplies","currentReadRelays","index","event"]))),128)),!$.value&&!m.value?(C(),Ne(cf,{key:4,pagesCount:V.value,currentPage:F.value,onShowPage:D},null,8,["pagesCount","currentPage"])):ce("",!0),y.value?(C(),O("div",Vb,[Fb,_("div",null,[_("button",{onClick:ie,class:"fallback-search-btn"}," Search in all listed relays "),_("div",{class:Pe(["not-found__status",{error:b.value.length}])},le(b.value)+" "+le(E.value?"Searching...":""),3),_("ul",null,[(C(!0),O(Re,null,ct(ue(yn),z=>(C(),O("li",null,le(z),1))),256))])])])):ce("",!0)],64))}});const hl=Ie(jb,[["__scopeId","data-v-3e6ba389"]]),Db={},qb={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16"},Kb=_("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},null,-1),zb=_("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"},null,-1),Wb=[Kb,zb];function Gb(e,t){return C(),O("svg",qb,Wb)}const Zb=Ie(Db,[["render",Gb]]),Jb={class:"show-images"},Yb={class:"show-images__field"},Qb=["checked"],Xb=_("label",{class:"show-images__label",for:"show-feed-images"}," Show avatars",-1),eE=Oe({__name:"ShowImagesCheckbox",props:{showImages:{type:Boolean}},emits:["toggleImages"],setup(e,{emit:t}){const n=e,s=t;return(r,o)=>{const i=ws("router-link");return C(),O("div",Jb,[_("span",Yb,[_("input",{onChange:o[0]||(o[0]=a=>s("toggleImages")),class:"show-images__input",type:"checkbox",id:"show-feed-images",checked:n.showImages},null,40,Qb),Xb]),_("small",null,[ke(" ("),_e(i,{to:{path:"/help",hash:"#privacy"}},{default:Qe(()=>[ke("Exposes your IP")]),_:1}),ke(")")])])}}});const At=e=>($t("data-v-2b728372"),e=e(),Ct(),e),tE=At(()=>_("h4",null,"Images:",-1)),nE={class:"show-images"},sE=At(()=>_("h4",null,"Your relays:",-1)),rE={class:"error"},oE={class:"relays"},iE={class:"relay"},aE={class:"actions"},lE=["onChange","id","name","checked"],cE=["for"],uE=At(()=>_("span",{class:"actions__delimiter"}," | ",-1)),fE=["onClick"],dE=At(()=>_("span",{class:"actions__remove-label"},"remove",-1)),hE={key:0},pE={key:0},gE={key:1},yE=At(()=>_("h4",null,"Add relay:",-1)),vE={class:"add-relay"},_E={class:"error"},wE=At(()=>_("h4",null,"Your Keys:",-1)),mE={class:"keys"},bE={class:"key-block"},EE=At(()=>_("div",null," Public key: ",-1)),xE=At(()=>_("div",{class:"key-block__desc"},[_("small",null," Public key identifies your Nostr account. Feel free to share it with others. ")],-1)),RE={key:0,class:"key-block__code"},SE={key:1},kE={class:"key-block"},$E=At(()=>_("div",null," Private key: ",-1)),CE=At(()=>_("div",{class:"key-block__desc"},[_("small",null,[ke(" Private key fully controls your Nostr account and used to cryptographically sign your messages. "),_("b",null,"Do not share your private key with anyone and keep it secure.")])],-1)),IE={key:0,class:"key-block__code"},AE={key:1},vo="Updating relays error. Please reload the page and try again or write us about the issue.",PE=Oe({__name:"Settings",props:{handleRelayConnect:{type:Function}},setup(e){const t=e,n=Bs(),s=An(),r=jr(),o=Pn(),i=j(""),a=j(""),l=j(""),c=b=>{if(l.value="",!(s.nsec?s.nsec.trim():"").length){l.value="Please provide your private key.";return}let $,N;try{if($=s.getPrivkeyBytes(),!$)throw new Error;if(N=s.getPubkey(),!N.length)throw new Error}catch{l.value="Invalid private key. Please check it and try again.";return}const k={kind:10002,pubkey:N,created_at:Math.floor(Date.now()/1e3),content:"",tags:b};return pt(k,$)},u=async(b,E)=>{l.value="",b.target.checked?o.addWriteRelay(E):o.removeWriteRelay(E);const N=o.nip65Tags,k=c(N),F=n.feedPool;if(k)return await F.publish(o.allRelaysUrlsWithConnectedRelay,k);l.value.length||(l.value=vo)},f=async b=>{l.value="",o.removeUserRelay(b),t.handleRelayConnect(!0);const E=o.nip65Tags,$=c(E),N=n.feedPool;if($)return await N.publish(o.allRelaysUrlsWithConnectedRelay,$);l.value.length||(l.value=vo)},d=async()=>{let b="";l.value="",a.value="";try{b=As.normalizeURL(i.value)}catch{a.value="Invalid relay url.";return}o.addUserRelay(b),t.handleRelayConnect(!0),i.value="";const E=o.nip65Tags,$=c(E),N=n.feedPool;if($)return await N.publish(o.allRelaysUrlsWithConnectedRelay,$);l.value.length||(l.value=vo)},h=()=>{r.updateShowImages(!r.showImages)},w=()=>{if(!s.isValidNsecPresented())return;const b=s.getPubkey();navigator.clipboard.writeText(De.npubEncode(b))},y=()=>{s.isValidNsecPresented()&&navigator.clipboard.writeText(s.getPubkey())},v=()=>{s.isValidNsecPresented()&&navigator.clipboard.writeText(s.getPrivkey())},m=()=>{s.isValidNsecPresented()&&navigator.clipboard.writeText(s.getPrivkeyHex())};return(b,E)=>(C(),O(Re,null,[tE,_("div",nE,[_e(eE,{showImages:ue(r).showImages,onToggleImages:h},null,8,["showImages"])]),sE,_("div",rE,le(l.value),1),_("ul",oE,[(C(!0),O(Re,null,ct(ue(o).allRelays,($,N)=>(C(),O("li",iE,[ke(le($.url)+" ",1),_("div",aE,[_("input",{onChange:k=>u(k,$.url),class:"actions__checkbox",type:"checkbox",id:`write-${N}`,name:`write-${N}`,checked:$.type==="write"},null,40,lE),_("label",{class:"actions__label",for:`write-${N}`}," publish to relay",8,cE),uE,_("span",{onClick:()=>f($.url),class:"actions__remove"},[_e(Zb,{class:"trash-icon"}),dE],8,fE)])]))),256))]),ue(o).allRelays.length?ce("",!0):(C(),O("div",hE,[ue(o).isConnectedToRelay?(C(),O("span",pE,[ke(" The private key was not provided or the list with your relays was not found on "),_("b",null,le(ue(o).connectedRelayUrl),1)])):(C(),O("span",gE," Please connect to a relay to see the list of your relays. "))])),yE,_("div",vE,[Vn(_("input",{"onUpdate:modelValue":E[0]||(E[0]=$=>i.value=$),class:"add-relay__input",type:"text",placeholder:"[wss://]relay.url"},null,512),[[bs,i.value]]),_("button",{onClick:d,class:"add-relay__btn"},"Add")]),_("div",_E,le(a.value),1),wE,_("div",mE,[_("div",bE,[EE,xE,_("div",null,[ke(" 🔑  "),ue(s).isValidNsecPresented()?(C(),O("code",RE,le(ue(De).npubEncode(ue(s).getPubkey())),1)):(C(),O("span",SE,"Please login to get the key."))]),_("div",{class:"key-block__btns"},[_("button",{onClick:w}," Copy pubkey "),_("button",{onClick:y}," Copy hex ")])]),_("div",kE,[$E,CE,_("div",null,[ke(" 🔐  "),ue(s).isValidNsecPresented()?(C(),O("code",IE," *************************************************************** ")):(C(),O("span",AE,"Please login to get the key."))]),_("div",{class:"key-block__btns"},[_("button",{onClick:v}," Copy privkey "),_("button",{onClick:m}," Copy hex ")])])])],64))}});const TE=Ie(PE,[["__scopeId","data-v-2b728372"]]),BE=[{path:"/feed",name:"Feed",components:{default:yo,messageInput:fl}},{path:"/message",name:"Message",components:{default:yo,signedEventInput:Om}},{path:"/log",name:"Log",components:{default:yo,messageInput:fl}},{path:"/user",name:"User",component:hl,alias:["/event"]},{path:"/user/:id",component:hl,alias:["/event/:id"]},{path:"/help",name:"Help",component:dl},{path:"/",component:dl,beforeEnter:(e,t,n)=>{const s=e.query.user,r=e.query.event;s!=null&&s.length?n({path:`/user/${s}`}):r!=null&&r.length?n({path:`/event/${r}`}):n()}},{path:"/settings",component:TE}],NE=Kp({history:ap(),routes:BE}),Ns=e=>($t("data-v-6bce2545"),e=e(),Ct(),e),LE={class:"relay-fields"},UE={class:"relay-fields__wrapper"},OE={class:"relay-fields__relay"},ME={class:"relay-fields__select-field"},HE=Ns(()=>_("label",{class:"field-label_priv-key",for:"relays"},[_("strong",null,"Select relay")],-1)),VE={class:"field-elements"},FE=["value"],jE=Ns(()=>_("option",{value:"custom"},"custom url",-1)),DE={class:"message-fields__field"},qE=Ns(()=>_("label",{for:"priv_key"},[_("strong",null,"Private key (optional)")],-1)),KE={class:"field-elements"},zE={class:"remember-me"},WE=Ns(()=>_("label",{class:"remember-me__label",for:"remember-me"}," Remember me",-1)),GE={class:"error"},ZE={key:0,class:"field"},JE=Ns(()=>_("label",{for:"relay_url"},[_("strong",null,"Relay URL")],-1)),YE={class:"field-elements"},QE=Oe({__name:"HeaderFields",props:{wsError:{}},emits:["relayConnect","relayDisconnect"],setup(e,{emit:t}){const n=e,s=t,r=Pn(),o=An(),i=j(!1),a=j(!1),l=Te(()=>r.selectedRelay!==r.connectedRelayUrl);r.setSelectedRelay(ul[0]);const c=v=>{const m=v.target.value;a.value=m==="custom",r.setSelectedRelay(m)};It(()=>{o.isValidNsecPresented()&&(i.value=!0)});const u=v=>{if(!o.isNsecValid()){i.value=!1;return}i.value=!0,o.rememberMe&&localStorage.setItem("privkey",o.nsec),r.isConnectedToRelay&&o.cachedNsec!==o.nsec&&s("relayConnect")},f=()=>{const v=Uy();o.updateNsec(De.nsecEncode(v)),i.value=!0},d=()=>{o.updateNsec(""),localStorage.removeItem("privkey"),i.value=!1,r.isConnectedToRelay&&r.allRelays.length&&(s("relayDisconnect"),s("relayConnect"))},h=()=>{o.rememberMe?(localStorage.setItem("rememberMe","true"),localStorage.setItem("privkey",o.nsec)):localStorage.clear()},w=()=>{s("relayConnect")},y=()=>{s("relayDisconnect")};return(v,m)=>(C(),O(Re,null,[_("p",LE,[_("div",UE,[_("div",OE,[_("div",ME,[HE,_("div",VE,[_("select",{class:"select-relay__select",onChange:c,name:"relays",id:"relays"},[(C(!0),O(Re,null,ct(ue(ul),b=>(C(),O("option",{value:b},le(b),9,FE))),256)),jE],32),l.value?(C(),O("button",{key:0,onClick:w,class:"select-relay__btn"},le(ue(r).isConnectingToRelay?"Connecting...":"Connect"),1)):(C(),O("button",{key:1,onClick:y,class:"select-relay__btn"}," Disconnect "))])])]),_("div",DE,[qE,_("div",KE,[Vn(_("input",{onInput:u,"onUpdate:modelValue":m[0]||(m[0]=b=>ue(o).nsec=b),class:"priv-key-input",id:"priv_key",type:"password",placeholder:"nsec..."},null,544),[[bs,ue(o).nsec]]),i.value?ce("",!0):(C(),O("button",{key:0,onClick:f,class:"random-key-btn"},"Random")),i.value?(C(),O("button",{key:1,onClick:d,class:"random-key-btn"},"Logout")):ce("",!0)]),_("div",zE,[Vn(_("input",{onChange:h,class:"remember-me__input",type:"checkbox",id:"remember-me","onUpdate:modelValue":m[1]||(m[1]=b=>ue(o).rememberMe=b)},null,544),[[$h,ue(o).rememberMe]]),WE])])]),_("div",GE,le(n.wsError),1)]),a.value?(C(),O("div",ZE,[JE,_("div",YE,[Vn(_("input",{"onUpdate:modelValue":m[2]||(m[2]=b=>ue(r).customRelayUrl=b),class:"relay-input",id:"relay_url",type:"text",placeholder:"[wss://]relay.example.com"},null,512),[[bs,ue(r).customRelayUrl]])])])):ce("",!0)],64))}});const XE=Ie(QE,[["__scopeId","data-v-6bce2545"]]),e2={class:"tabs"},t2=Oe({__name:"App",setup(e){const t=Cr(),n=Cs(),s=Fr(),r=An(),o=Pn(),i=Dr(),a=Bs();let l,c;const u=localStorage.getItem("rememberMe")==="true";r.setRememberMe(u);const f=u?localStorage.getItem("privkey"):"";r.updateNsec(f||"");const d=j([]),h=new Set,w=new Set;let y=j([]),v=j(0),m=j(""),b=j("");const E=j([]),$=j(""),N=j(""),k=j(""),F=j(!1),V=Te(()=>s.cachedUrlNpub.length?`/user/${s.cachedUrlNpub}`:"/user"),W=A=>{E.value.unshift(A)},Z=async()=>{var z,x;const A=a.feedPool,T=o.connectedReedRelayUrls;if(!T.length)return;const q=i.newEventsToShow;if(q.length<2)return;const X=q[q.length-1].pubkey,ie=q[q.length-2].pubkey,ee={kinds:[0],authors:[X],limit:1},ye={kinds:[0],authors:[ie],limit:1},oe=await A.querySync(T,ee),ae=await A.querySync(T,ye);c&&(!((z=oe[0])!=null&&z.content)||!((x=ae[0])!=null&&x.content)||(m.value=JSON.parse(oe[0].content).picture,b.value=JSON.parse(ae[0].content).picture,i.setNewEventsBadgeImageUrls([m.value,b.value]),v.value=q.length,i.setNewEventsBadgeCount(q.length),i.setShowNewEventsBadge(!0)))},te=A=>new Promise(T=>setTimeout(T,A)),M=(A,T,q)=>new Promise(X=>{const ie=[];let ee,ye=q;if(q&&q.length&&q[0].limit){let{limit:ae,...z}=q[0];ye=[z],ee=ae}const oe=A.subscribeMany(T,ye,{onevent(ae){const z=kt.parse(ae);z.reply||z.root||(ie.push(ae),ee&&ie.length>=ee&&(X(ie.slice(0,ee)),oe.close()))},oneose(){oe.close()}})});async function Q(A=!1){if(o.isConnectingToRelay)return;let T=o.selectedRelay,q=!1;if(T==="custom"&&(T=As.normalizeURL(o.customRelayUrl),q=!0),!T.length)return;if(r.isNotValidNsecPresented()){$.value="Private key is invalid. Please check it and try again.";return}else r.updateCachedNsec(r.nsec);!A&&o.currentRelay.connected&&(o.currentRelay.close(),W([{type:"text",value:"disconnected from "},{type:"bold",value:o.currentRelay.url}])),l&&l.close(),c&&(clearInterval(c),c=0),A||(o.setReedRelays([]),o.setWriteRelays([]));let X;if(!A){try{o.setConnectionToRelayStatus(!0);try{X=await Go.connect(T)}catch{await te(500),X=await Go.connect(T)}$.value=""}catch{let I=`WebSocket connection to "${T}" failed. You can try again. `;navigator.onLine?I+="Also check WebSocket address. Relay address should be a correct WebSocket URL. Or relay is unavailable or you are offline.":I+="Or check your internet connection.",$.value=I,o.setConnectionToRelayStatus(!1);return}if(o.updateCurrentRelay(X),W([{type:"text",value:"connected to "},{type:"bold",value:X.url}]),r.isNotValidNsecPresented()&&($.value="Private key is invalid. Please check it and try again."),r.isValidNsecPresented()){const B=r.getPubkey(),se=await m1(X,[{kinds:[10002],limit:1,authors:[B]}],3e3);if(se&&se.tags.length){const{read:pe,write:p}=tf(se);o.setReedRelays(pe),o.setWriteRelays(p)}}}i.setShowNewEventsBadge(!1),y.value=[],i.updateNewEventsToShow([]),a.feedPool=new Ht;const ie=a.feedPool,ee=[];o.reedRelays.length&&(await Promise.all(o.reedRelays.map(async I=>{const se=await po(I);return{url:I,connected:se}}))).forEach(I=>{if(A&&!o.reedRelays.includes(I.url)||(I.connected&&ee.push(I.url),(X==null?void 0:X.url)===I.url))return;const se=I.connected?"connected to ":"failed to connect to ";W([{type:"text",value:se},{type:"bold",value:I.url}])});const ye=ee.length?ee:[T],ae=await M(ie,ye,[{kinds:[1],limit:Sn}]),z=ae.map(B=>B.pubkey),x=await ie.querySync(ye,{kinds:[0],authors:z});let H=Ss(ae,x);await Dn(H,ye,ie),h.clear(),i.updatePaginationEventsIds([]),H.forEach(B=>{h.add(B.id),i.pushToPaginationEventsIds(B.id)}),d.value=H,i.updateEvents(H),o.setConnectedRelayUrl(q?"custom":T),o.setConnectedReedRelayUrls(ye),o.setConnectionToRelayStatus(!1),l=ie.subscribeMany(ye,[{kinds:[1],limit:1}],{onevent(B){if(h.has(B.id))return;const I=kt.parse(B);I.reply||I.root||(y.value.push({id:B.id,pubkey:B.pubkey}),i.pushToNewEventsToShow({id:B.id,pubkey:B.pubkey}))}}),c=setInterval(Z,3e3)}const D=async()=>{const A=a.feedPool,T=o.connectedReedRelayUrls;if(!T.length)return;t.push({path:`${n.path}`});let q=i.newEventsToShow;i.updateNewEventsToShow(i.newEventsToShow.filter(x=>!q.includes(x)));const X=q.map(x=>x.id),ie=Sn;i.updatePaginationEventsIds(i.paginationEventsIds.concat(X));const ee=i.paginationEventsIds.slice(-ie),ye=await A.querySync(T,{ids:ee}),oe=ye.map(x=>x.pubkey),ae=await A.querySync(T,{kinds:[0],authors:oe});let z=Ss(ye,ae);await Dn(z,T,A),z.forEach(x=>h.add(x.id)),i.updateEvents(z),i.setShowNewEventsBadge(!1),W([{type:"text",value:`loaded ${q.length}`},{type:"text",value:" new event(s) from "},{type:"bold",value:o.connectedRelaysPrettyStr}])},R=async(A,T)=>{const q=a.feedPool;let X=o.writeRelays;if(T==="json"){const z=o.additionalRelaysUrlsForSignedEvent;let x=[];if(z.length){let H="Can't connect to these relays: ",B=!1;for(const I of z)if(I!=null&&I.length){if(!await po(I)){B=!0,H+=`${I}, `;continue}x.push(I)}if(B){const I=o.connectedRelayUrl;await po(I)||(H+=`${I}, `),H=H.slice(0,-2),H+=". Relays are unavailable or you are offline.",N.value=H,F.value=!1;return}}X=[o.connectedRelayUrl,...x],X=[...new Set(X)]}if(F.value)return;F.value=!0;const ie=o.connectedReedRelayUrls;let ee=null;if(ie.length){const z=[{kinds:[1],ids:[A.id],limit:1}];ee=q.subscribeMany(ie,z,{async onevent(x){const H=setInterval(async()=>{y.value.some(B=>B.id==x.id)&&(clearInterval(H),await D(),ee==null||ee.close())},100)}})}const ye=await nf(X,q,A);ye.forEach(z=>{z.success?W([{type:"text",value:"✅ new event broadcasted to "},{type:"bold",value:z.relay}]):W([{type:"text",value:"❌ failed to publish to "},{type:"bold",value:z.relay}])}),ye.every(z=>z.success===!1)&&T==="json"&&ie.length&&(ee==null||ee.close()),ye.some(z=>z.success===!1)||(T==="text"&&i.updateMessageToBroadcast(""),T==="json"&&i.updateSignedJson("")),F.value=!1},P=()=>{if(!o.isConnectedToRelay)return;clearInterval(c),i.setShowNewEventsBadge(!1),y.value=[],i.updateNewEventsToShow([]);const A=o.currentRelay;o.setConnectedRelayUrl(""),o.setConnectedReedRelayUrls([]),o.setReedRelays([]),o.setWriteRelays([]),l.close(),A.close(),W([{type:"text",value:"disconnected from "},{type:"bold",value:A.url}])};return(A,T)=>{const q=ws("router-link"),X=ws("router-view");return C(),O(Re,null,[_e(XE,{onRelayConnect:Q,onRelayDisconnect:P,wsError:$.value},null,8,["wsError"]),_("div",e2,[_e(q,{class:"tab-link",to:"/feed"},{default:Qe(()=>[ke("Feed")]),_:1}),_e(q,{class:"tab-link",to:V.value},{default:Qe(()=>[ke("User")]),_:1},8,["to"]),_e(q,{class:"tab-link",to:"/message"},{default:Qe(()=>[ke("Message")]),_:1}),_e(q,{class:"tab-link",to:"/help"},{default:Qe(()=>[ke("Help")]),_:1}),_e(q,{class:"tab-link",to:"/log"},{default:Qe(()=>[ke("Log")]),_:1}),_e(q,{class:"tab-link",to:"/settings"},{default:Qe(()=>[ke("Settings")]),_:1})]),_e(X,{name:"messageInput",onBroadcastEvent:R,isSendingMessage:F.value,sentEventIds:ue(w),broadcastNotice:k.value},null,8,["isSendingMessage","sentEventIds","broadcastNotice"]),_e(X,{name:"signedEventInput",onBroadcastEvent:R,isSendingMessage:F.value,broadcastError:N.value},null,8,["isSendingMessage","broadcastError"]),_e(X,{onLoadNewRelayEvents:D,handleRelayConnect:Q,eventsLog:E.value},null,8,["eventsLog"])],64)}}});const n2=Ie(t2,[["__scopeId","data-v-53077d08"]]),s2=Bh(n2),r2=Oh();s2.use(NE).use(r2).mount("#app");
//# sourceMappingURL=main.js.map
